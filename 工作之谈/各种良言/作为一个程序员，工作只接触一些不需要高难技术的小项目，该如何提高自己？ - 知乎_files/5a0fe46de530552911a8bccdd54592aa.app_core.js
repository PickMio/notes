PLOVR_MODULE_INFO={"sign":["app_core"],"app":["app_core","sign"],"app_core":[],"rich_text_editor":["app"]};
PLOVR_MODULE_URIS={"sign":"http://static.zhihu.com/static/compiled/sign.js","app":"http://static.zhihu.com/static/compiled/app.js","app_core":"http://static.zhihu.com/static/compiled/app_core.js","rich_text_editor":"http://static.zhihu.com/static/compiled/rich_text_editor.js"};
PLOVR_MODULE_USE_DEBUG_MODE=false;
zhihu={};(function(a){with(a){
a.f=function(b){throw b;},a.i=void 0,a.j=!0,a.k=null,a.n=!1,a.aa=function(){return function(b){return b}},a.ba=function(){return function(){}},a.ca=function(b){return function(c){this[b]=c}},a.q=function(b){return function(){return this[b]}},a.s=function(b){return function(){return b}},a.t=void 0,a.da=[],a.u=function(b){return function(){return da[b].apply(this,arguments)}},a.ea=a.ea||{},a.fa=this,a.ga=function(b){for(var b=b.split("."),c=fa,d;d=b.shift();)if(c[d]!=k)c=c[d];else return k;return c},
a.ha=function(){},a.ia=function(b){b.F=function(){return b.Pj?b.Pj:b.Pj=new b}},a.ja=function(b){var c=typeof b;if("object"==c)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return c;var d=Object.prototype.toString.call(b);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof b.call&&
"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==c&&"undefined"==typeof b.call)return"object";return c},a.la=function(b){return b!==i},a.ma=function(b){return"array"==ja(b)},a.na=function(b){var c=ja(b);return"array"==c||"object"==c&&"number"==typeof b.length},a.oa=function(b){return"string"==typeof b},a.pa=function(b){return"number"==typeof b},a.qa=function(b){return"function"==ja(b)},a.ra=function(b){var c=typeof b;
return"object"==c&&b!=k||"function"==c},a.ua=function(b){return b[sa]||(b[sa]=++ta)},a.sa="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),a.ta=0,a.va=function(b,c,d){return b.call.apply(b.bind,arguments)},a.wa=function(b,c,d){b||f(Error());if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,e);return b.apply(c,d)}}return function(){return b.apply(c,arguments)}},a.v=function(b,
c,d){v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?va:wa;return v.apply(k,arguments)},a.xa=function(b,c){var d=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,d);return b.apply(this,c)}},a.ya=function(b,c){for(var d in c)b[d]=c[d]},a.za=Date.now||function(){return+new Date},a.Ba=function(b){if(fa.execScript)fa.execScript(b,"JavaScript");else if(fa.eval)if(Aa==k&&(fa.eval("var _et_ = 1;"),
"undefined"!=typeof fa._et_?(delete fa._et_,Aa=j):Aa=n),Aa)fa.eval(b);else{var c=fa.document,d=c.createElement("script");d.type="text/javascript";d.defer=n;d.appendChild(c.createTextNode(b));c.body.appendChild(d);c.body.removeChild(d)}else f(Error("goog.globalEval not available"))},a.Aa=k,a.w=function(b,c){var d=c||{},e;for(e in d)var g=(""+d[e]).replace(/\$/g,"$$$$"),b=b.replace(RegExp("\\{\\$"+e+"\\}","gi"),g);return b},a.Ca=function(b,c){var d=b.split("."),e=fa;!(d[0]in e)&&e.execScript&&e.execScript("var "+
d[0]);for(var g;d.length&&(g=d.shift());)!d.length&&la(c)?e[g]=c:e=e[g]?e[g]:e[g]={}},a.y=function(b,c){function d(){}d.prototype=c.prototype;b.m=c.prototype;b.prototype=new d;b.prototype.constructor=b};a.Da=function(b){Error.captureStackTrace?Error.captureStackTrace(this,Da):this.stack=Error().stack||"";b&&(this.message=String(b))};y(Da,Error);Da.prototype.name="CustomError";a.Fa=function(b,c){return 0==b.lastIndexOf(c,0)},a.Ga=function(b,c){for(var d=1;d<arguments.length;d++)var e=String(arguments[d]).replace(/\$/g,"$$$$"),b=b.replace(/\%s/,e);return b},a.Ha=function(b){return/^[\s\xa0]*$/.test(b)},a.Ia=function(b){return b.replace(/(\r\n|\r|\n)+/g," ")},a.Ja=function(b){return b.replace(/(\r\n|\r|\n)/g,"\n")},a.Ka=function(b){return b.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},a.La=function(b){return b.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},a.Ma=
function(b){return b.replace(/[\s\xa0]+$/,"")},a.Oa=function(b){return b.replace(/(\r\n|\r|\n)/g,"<br>")},a.Ua=function(b){if(!Pa.test(b))return b;-1!=b.indexOf("&")&&(b=b.replace(Qa,"&amp;"));-1!=b.indexOf("<")&&(b=b.replace(Ra,"&lt;"));-1!=b.indexOf(">")&&(b=b.replace(Sa,"&gt;"));-1!=b.indexOf('"')&&(b=b.replace(Ta,"&quot;"));return b},a.Qa=/&/g,a.Ra=/</g,a.Sa=/>/g,a.Ta=/\"/g,a.Pa=/[&<>\"]/,a.Ya=function(b){if(Wa(b,"&"))if("document"in fa)var c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},d=
document.createElement("div"),b=b.replace(Xa,function(b,g){var h=c[b];if(h)return h;if("#"==g.charAt(0)){var l=Number("0"+g.substr(1));isNaN(l)||(h=String.fromCharCode(l))}h||(d.innerHTML=b+" ",h=d.firstChild.nodeValue.slice(0,-1));return c[b]=h});else b=b.replace(/&([^;]+);/g,function(b,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return b}});return b},
a.Xa=/&([^;\s<&]+);?/g,a.Za=function(b,c,d){d&&(b=Ya(b));b.length>c&&(b=b.substring(0,c-3)+"...");d&&(b=Ua(b));return b},a.Wa=function(b,c){return-1!=b.indexOf(c)},a.$a=function(b){return String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},a.ab=function(b,c){return Array(c+1).join(b)},a.bb=function(b){var b=la(i)?b.toFixed(i):String(b),c=b.indexOf(".");-1==c&&(c=b.length);return ab("0",Math.max(0,2-c))+b},a.cb=function(){return Math.floor(2147483648*Math.random()).toString(36)+
Math.abs(Math.floor(2147483648*Math.random())^za()).toString(36)},a.db=function(b,c){for(var d=0,e=La(String(b)).split("."),g=La(String(c)).split("."),h=Math.max(e.length,g.length),l=0;0==d&&l<h;l++){var m=e[l]||"",p=g[l]||"",r=RegExp("(\\d*)(\\D*)","g"),x=RegExp("(\\d*)(\\D*)","g");do{var F=r.exec(m)||["","",""],I=x.exec(p)||["","",""];if(0==F[0].length&&0==I[0].length)break;d=((0==F[1].length?0:parseInt(F[1],10))<(0==I[1].length?0:parseInt(I[1],10))?-1:(0==F[1].length?0:parseInt(F[1],10))>(0==I[1].length?
0:parseInt(I[1],10))?1:0)||((0==F[2].length)<(0==I[2].length)?-1:(0==F[2].length)>(0==I[2].length)?1:0)||(F[2]<I[2]?-1:F[2]>I[2]?1:0)}while(0==d)}return d},a.eb=2147483648*Math.random()|0,a.fb=function(){return"goog_"+eb++},a.gb=function(b){return String(b).replace(/\-([a-z])/g,function(b,d){return d.toUpperCase()})};a.z={Df:function(b){return b[b.length-1]}};z.yb=Array.prototype;z.indexOf=z.yb.indexOf?function(b,c,d){return z.yb.indexOf.call(b,c,d)}:function(b,c,d){d=d==k?0:0>d?Math.max(0,b.length+d):d;if(oa(b))return!oa(c)||1!=c.length?-1:b.indexOf(c,d);for(;d<b.length;d++)if(d in b&&b[d]===c)return d;return-1};
z.lastIndexOf=z.yb.lastIndexOf?function(b,c,d){return z.yb.lastIndexOf.call(b,c,d==k?b.length-1:d)}:function(b,c,d){d=d==k?b.length-1:d;0>d&&(d=Math.max(0,b.length+d));if(oa(b))return!oa(c)||1!=c.length?-1:b.lastIndexOf(c,d);for(;0<=d;d--)if(d in b&&b[d]===c)return d;return-1};z.forEach=z.yb.forEach?function(b,c,d){z.yb.forEach.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)h in g&&c.call(d,g[h],h,b)};
z.KN=function(b,c){for(var d=oa(b)?b.split(""):b,e=b.length-1;0<=e;--e)e in d&&c.call(i,d[e],e,b)};z.filter=z.yb.filter?function(b,c,d){return z.yb.filter.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=[],h=0,l=oa(b)?b.split(""):b,m=0;m<e;m++)if(m in l){var p=l[m];c.call(d,p,m,b)&&(g[h++]=p)}return g};z.map=z.yb.map?function(b,c,d){return z.yb.map.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=Array(e),h=oa(b)?b.split(""):b,l=0;l<e;l++)l in h&&(g[l]=c.call(d,h[l],l,b));return g};
z.reduce=function(b,c,d,e){if(b.reduce)return e?b.reduce(v(c,e),d):b.reduce(c,d);var g=d;z.forEach(b,function(d,l){g=c.call(e,g,d,l,b)});return g};z.reduceRight=function(b,c,d,e){if(b.reduceRight)return e?b.reduceRight(v(c,e),d):b.reduceRight(c,d);var g=d;z.KN(b,function(d,l){g=c.call(e,g,d,l,b)});return g};z.some=z.yb.some?function(b,c,d){return z.yb.some.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)if(h in g&&c.call(d,g[h],h,b))return j;return n};
z.every=z.yb.every?function(b,c,d){return z.yb.every.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)if(h in g&&!c.call(d,g[h],h,b))return n;return j};z.count=function(b,c,d){var e=0;z.forEach(b,function(b,h,l){c.call(d,b,h,l)&&++e},d);return e};z.find=function(b,c,d){c=z.Jw(b,c,d);return 0>c?k:oa(b)?b.charAt(c):b[c]};z.Jw=function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)if(h in g&&c.call(d,g[h],h,b))return h;return-1};
z.NZ=function(b,c,d){c=z.Kw(b,c,d);return 0>c?k:oa(b)?b.charAt(c):b[c]};z.Kw=function(b,c,d){for(var e=oa(b)?b.split(""):b,g=b.length-1;0<=g;g--)if(g in e&&c.call(d,e[g],g,b))return g;return-1};z.contains=function(b,c){return 0<=z.indexOf(b,c)};z.Ib=function(b){return 0==b.length};z.clear=function(b){if(!ma(b))for(var c=b.length-1;0<=c;c--)delete b[c];b.length=0};z.xs=function(b,c){z.contains(b,c)||b.push(c)};z.Co=function(b,c,d){z.splice(b,d,0,c)};
z.g_=function(b,c,d){xa(z.splice,b,d,0).apply(k,c)};z.insertBefore=function(b,c,d){var e;2==arguments.length||0>(e=z.indexOf(b,d))?b.push(c):z.Co(b,c,e)};z.remove=function(b,c){var d=z.indexOf(b,c),e;(e=0<=d)&&z.Xz(b,d);return e};z.Xz=function(b,c){return 1==z.yb.splice.call(b,c,1).length};z.WT=function(b,c){var d=z.Jw(b,c,i);return 0<=d?(z.Xz(b,d),j):n};z.concat=function(b){return z.yb.concat.apply(z.yb,arguments)};
z.toArray=function(b){var c=b.length;if(0<c){for(var d=Array(c),e=0;e<c;e++)d[e]=b[e];return d}return[]};z.clone=z.toArray;z.extend=function(b,c){for(var d=1;d<arguments.length;d++){var e=arguments[d],g;if(ma(e)||(g=na(e))&&Object.prototype.hasOwnProperty.call(e,"callee"))b.push.apply(b,e);else if(g)for(var h=b.length,l=e.length,m=0;m<l;m++)b[h+m]=e[m];else b.push(e)}};z.splice=function(b,c,d,e){return z.yb.splice.apply(b,z.slice(arguments,1))};
z.slice=function(b,c,d){return 2>=arguments.length?z.yb.slice.call(b,c):z.yb.slice.call(b,c,d)};z.Yz=function(b,c){for(var d=c||b,e={},g=0,h=0;h<b.length;){var l=b[h++],m=ra(l)?"o"+ua(l):(typeof l).charAt(0)+l;Object.prototype.hasOwnProperty.call(e,m)||(e[m]=j,d[g++]=l)}d.length=g};z.KC=function(b,c,d){return z.LC(b,d||z.gj,n,c)};z.iZ=function(b,c,d){return z.LC(b,c,j,i,d)};
z.LC=function(b,c,d,e,g){for(var h=0,l=b.length,m;h<l;){var p=h+l>>1,r;r=d?c.call(g,b[p],p,b):c(e,b[p]);0<r?h=p+1:(l=p,m=!r)}return m?h:~h};z.sort=function(b,c){z.yb.sort.call(b,c||z.gj)};z.e0=function(b,c){for(var d=0;d<b.length;d++)b[d]={index:d,value:b[d]};var e=c||z.gj;z.sort(b,function(b,c){return e(b.value,c.value)||b.index-c.index});for(d=0;d<b.length;d++)b[d]=b[d].value};z.KI=function(b,c,d){var e=d||z.gj;z.sort(b,function(b,d){return e(b[c],d[c])})};
z.n_=function(b,c,d){for(var c=c||z.gj,e=1;e<b.length;e++){var g=c(b[e-1],b[e]);if(0<g||0==g&&d)return n}return j};z.eg=function(b,c,d){if(!na(b)||!na(c)||b.length!=c.length)return n;for(var e=b.length,d=d||z.XM,g=0;g<e;g++)if(!d(b[g],c[g]))return n;return j};z.vZ=function(b,c,d){return z.eg(b,c,d)};z.wZ=function(b,c,d){for(var d=d||z.gj,e=Math.min(b.length,c.length),g=0;g<e;g++){var h=d(b[g],c[g]);if(0!=h)return h}return z.gj(b.length,c.length)};z.gj=function(b,c){return b>c?1:b<c?-1:0};
z.XM=function(b,c){return b===c};z.gZ=function(b,c,d){d=z.KC(b,c,d);return 0>d?(z.Co(b,c,-(d+1)),j):n};z.hZ=function(b,c,d){c=z.KC(b,c,d);return 0<=c?z.Xz(b,c):n};z.pZ=function(b,c){for(var d={},e=0;e<b.length;e++){var g=b[e],h=c(g,e,b);la(h)&&(d[h]||(d[h]=[])).push(g)}return d};z.ku=function(b,c,d){var e={};z.forEach(b,function(g,h){e[c.call(d,g,h,b)]=g});return e};z.repeat=function(b,c){for(var d=[],e=0;e<c;e++)d[e]=b;return d};
z.flatten=function(b){for(var c=[],d=0;d<arguments.length;d++){var e=arguments[d];ma(e)?c.push.apply(c,z.flatten.apply(k,e)):c.push(e)}return c};z.rotate=function(b,c){b.length&&(c%=b.length,0<c?z.yb.unshift.apply(b,b.splice(-c,c)):0>c&&z.yb.push.apply(b,b.splice(0,-c)));return b};z.u0=function(b){if(!arguments.length)return[];for(var c=[],d=0;;d++){for(var e=[],g=0;g<arguments.length;g++){var h=arguments[g];if(d>=h.length)return c;e.push(h[d])}c.push(e)}};
z.bV=function(b){for(var c=Math.random,d=b.length-1;0<d;d--){var e=Math.floor(c()*(d+1)),g=b[d];b[d]=b[e];b[e]=g}};a.hb=void 0,a.ib=void 0,a.jb=void 0,a.kb=void 0,a.lb=void 0,a.mb=void 0,a.nb=void 0,a.ob=void 0,a.pb=function(){return fa.navigator?fa.navigator.userAgent:k},a.qb=function(){return fa.navigator};lb=kb=jb=ib=hb=n;a.rb=void 0;if(rb=pb()){var sb=qb();hb=0==rb.indexOf("Opera");ib=!hb&&-1!=rb.indexOf("MSIE");kb=(jb=!hb&&-1!=rb.indexOf("WebKit"))&&-1!=rb.indexOf("Mobile");lb=!hb&&!jb&&"Gecko"==sb.product}a.tb=hb,a.A=ib,a.B=lb,a.C=jb,a.ub=kb,a.vb=void 0,a.wb=qb();vb=wb&&wb.platform||"";mb=Wa(vb,"Mac");
nb=Wa(vb,"Win");ob=Wa(vb,"Linux");a.xb=!!qb()&&Wa(qb().appVersion||"","X11"),a.yb=function(){var b=fa.document;return b?b.documentMode:i},a.zb=void 0;a:{var Ab="",Bb;if(tb&&fa.opera)var Cb=fa.opera.version,Ab="function"==typeof Cb?Cb():Cb;else if(B?Bb=/rv\:([^\);]+)(\)|;)/:A?Bb=/MSIE\s+([^\);]+)(\)|;)/:C&&(Bb=/WebKit\/(\S+)/),Bb)var Db=Bb.exec(pb()),Ab=Db?Db[1]:"";if(A){var Eb=yb();if(Eb>parseFloat(Ab)){zb=String(Eb);break a}}zb=Ab}
a.Fb={},a.Gb=function(b){return Fb[b]||(Fb[b]=0<=db(zb,b))},a.Ib=function(b){return A&&Hb>=b},a.Jb=fa.document,a.Hb=!Jb||!A?i:yb()||("CSS1Compat"==Jb.compatMode?parseInt(zb,10):5);a.Kb=void 0,a.Lb=!A||Ib(9),a.Mb=!B&&!A||A&&Ib(9)||B&&Gb("1.9.1"),a.Nb=A&&!Gb("9");a.D={set:function(b,c){b.className=c},get:function(b){b=b.className;return oa(b)&&b.match(/\S+/g)||[]},add:function(b,c){var d=D.get(b),e=z.slice(arguments,1),g=d.length+e.length;D.jC(d,e);b.className=d.join(" ");return d.length==g},remove:function(b,c){var d=D.get(b),e=z.slice(arguments,1),g=D.yE(d,e);b.className=g.join(" ");return g.length==d.length-e.length},jC:function(b,c){for(var d=0;d<c.length;d++)z.contains(b,c[d])||b.push(c[d])},yE:function(b,c){return z.filter(b,function(b){return!z.contains(c,
b)})},tV:function(b,c,d){for(var e=D.get(b),g=n,h=0;h<e.length;h++)e[h]==c&&(z.splice(e,h--,1),g=j);g&&(e.push(d),b.className=e.join(" "));return g},Ui:function(b,c,d){var e=D.get(b);oa(c)?z.remove(e,c):ma(c)&&(e=D.yE(e,c));oa(d)&&!z.contains(e,d)?e.push(d):ma(d)&&D.jC(e,d);b.className=e.join(" ")},has:function(b,c){return z.contains(D.get(b),c)},enable:function(b,c,d){d?D.add(b,c):D.remove(b,c)},toggle:function(b,c){var d=!D.has(b,c);D.enable(b,c,d);return d}};a.Ob=function(b,c){this.x=la(b)?b:0;this.y=la(c)?c:0};Ob.prototype.clone=function(){return new Ob(this.x,this.y)};a.Pb=function(b,c){return new Ob(b.x-c.x,b.y-c.y)};a.Qb=function(b,c){this.width=b;this.height=c},a.Rb=function(b,c){return b==c?j:!b||!c?n:b.width==c.width&&b.height==c.height};t=Qb.prototype;t.clone=function(){return new Qb(this.width,this.height)};t.Ib=function(){return!(this.width*this.height)};t.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};t.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
t.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};a.E={forEach:function(b,c,d){for(var e in b)c.call(d,b[e],e,b)},filter:function(b,c,d){var e={},g;for(g in b)c.call(d,b[g],g,b)&&(e[g]=b[g]);return e},map:function(b,c,d){var e={},g;for(g in b)e[g]=c.call(d,b[g],g,b);return e},some:function(b,c,d){for(var e in b)if(c.call(d,b[e],e,b))return j;return n},every:function(b,c,d){for(var e in b)if(!c.call(d,b[e],e,b))return n;return j},Wa:function(b){var c=0,d;for(d in b)c++;return c},UZ:function(b){for(var c in b)return c},VZ:function(b){for(var c in b)return b[c]},
contains:function(b,c){return E.Og(b,c)},Ka:function(b){var c=[],d=0,e;for(e in b)c[d++]=b[e];return c},Gb:function(b){var c=[],d=0,e;for(e in b)c[d++]=e;return c},$Z:function(b,c){for(var d=na(c),e=d?c:arguments,d=d?0:1;d<e.length&&!(b=b[e[d]],!la(b));d++);return b},Qd:function(b,c){return c in b},Og:function(b,c){for(var d in b)if(b[d]==c)return j;return n},kE:function(b,c,d){for(var e in b)if(c.call(d,b[e],e,b))return e},Nr:function(b,c,d){return(c=E.kE(b,c,d))&&b[c]},Ib:function(b){for(var c in b)return n;
return j},clear:function(b){for(var c in b)delete b[c]},remove:function(b,c){var d;(d=c in b)&&delete b[c];return d},add:function(b,c,d){c in b&&f(Error('The object already contains the key "'+c+'"'));E.set(b,c,d)},get:function(b,c,d){return c in b?b[c]:d},set:function(b,c,d){b[c]=d},b0:function(b,c,d){return c in b?b[c]:b[c]=d},clone:function(b){var c={},d;for(d in b)c[d]=b[d];return c},bW:function(b){var c=ja(b);if("object"==c||"array"==c){if(b.clone)return b.clone();var c="array"==c?[]:{},d;for(d in b)c[d]=
E.bW(b[d]);return c}return b},an:function(b){var c={},d;for(d in b)c[b[d]]=d;return c},YB:"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),extend:function(b,c){for(var d,e,g=1;g<arguments.length;g++){e=arguments[g];for(d in e)b[d]=e[d];for(var h=0;h<E.YB.length;h++)d=E.YB[h],Object.prototype.hasOwnProperty.call(e,d)&&(b[d]=e[d])}},create:function(b){var c=arguments.length;if(1==c&&ma(arguments[0]))return E.create.apply(k,arguments[0]);c%2&&
f(Error("Uneven number of arguments"));for(var d={},e=0;e<c;e+=2)d[arguments[e]]=arguments[e+1];return d},Wh:function(b){var c=arguments.length;if(1==c&&ma(arguments[0]))return E.Wh.apply(k,arguments[0]);for(var d={},e=0;e<c;e++)d[arguments[e]]=j;return d},AZ:function(b){var c=b;Object.isFrozen&&!Object.isFrozen(b)&&(c=Object.create(b),Object.freeze(c));return c},m_:function(b){return!!Object.isFrozen&&Object.isFrozen(b)}};a.Ub=function(b){return b?new Sb(Tb(b)):Kb||(Kb=new Sb)},a.H=function(b){return oa(b)?document.getElementById(b):b},a.Wb=function(b,c,d){return Vb(document,b,c,d)},a.Xb=function(b,c){var d=c||document;return d.querySelectorAll&&d.querySelector?d.querySelectorAll("."+b):d.getElementsByClassName?d.getElementsByClassName(b):Vb(document,"*",b,c)},a.J=function(b,c){var d=c||document,e=k;return(e=d.querySelectorAll&&d.querySelector?d.querySelector("."+b):Xb(b,c)[0])||k},a.Vb=function(b,c,d,e){b=e||b;c=
c&&"*"!=c?c.toUpperCase():"";if(b.querySelectorAll&&b.querySelector&&(c||d))return b.querySelectorAll(c+(d?"."+d:""));if(d&&b.getElementsByClassName){b=b.getElementsByClassName(d);if(c){for(var e={},g=0,h=0,l;l=b[h];h++)c==l.nodeName&&(e[g++]=l);e.length=g;return e}return b}b=b.getElementsByTagName(c||"*");if(d){e={};for(h=g=0;l=b[h];h++)c=l.className,"function"==typeof c.split&&z.contains(c.split(/\s+/),d)&&(e[g++]=l);e.length=g;return e}return b},a.Zb=function(b,c){E.forEach(c,function(c,e){"style"==
e?b.style.cssText=c:"class"==e?b.className=c:"for"==e?b.htmlFor=c:e in Yb?b.setAttribute(Yb[e],c):Fa(e,"aria-")||Fa(e,"data-")?b.setAttribute(e,c):b[e]=c})},a.Yb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},a.$b=function(b){b=(b||window).document;b="CSS1Compat"==b.compatMode?b.documentElement:b.body;return new Qb(b.clientWidth,
b.clientHeight)},a.bc=function(b){var c=ac(b),b=b.parentWindow||b.defaultView;return new Ob(b.pageXOffset||c.scrollLeft,b.pageYOffset||c.scrollTop)},a.ac=function(b){return!C&&"CSS1Compat"==b.compatMode?b.documentElement:b.body},a.cc=function(b){return b?b.parentWindow||b.defaultView:window},a.K=function(b,c,d){return dc(document,arguments)},a.dc=function(b,c){var d=c[0],e=c[1];if(!Lb&&e&&(e.name||e.type)){d=["<",d];e.name&&d.push(' name="',Ua(e.name),'"');if(e.type){d.push(' type="',Ua(e.type),'"');
var g={};E.extend(g,e);delete g.type;e=g}d.push(">");d=d.join("")}d=b.createElement(d);e&&(oa(e)?d.className=e:ma(e)?D.add.apply(k,[d].concat(e)):Zb(d,e));2<c.length&&ec(b,d,c,2);return d},a.ec=function(b,c,d,e){function g(d){d&&c.appendChild(oa(d)?b.createTextNode(d):d)}for(;e<d.length;e++){var h=d[e];na(h)&&!(ra(h)&&0<h.nodeType)?z.forEach(fc(h)?z.toArray(h):h,g):g(h)}},a.hc=function(b){return gc(document,b)},a.gc=function(b,c){var d=b.createElement("div");A?(d.innerHTML="<br>"+c,d.removeChild(d.firstChild)):
d.innerHTML=c;if(1==d.childNodes.length)return d.removeChild(d.firstChild);for(var e=b.createDocumentFragment();d.firstChild;)e.appendChild(d.firstChild);return e},a.ic=function(b){if(1!=b.nodeType)return n;switch(b.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return n}return j},
a.jc=function(b,c){ec(Tb(b),b,arguments,1)},a.kc=function(b){for(var c;c=b.firstChild;)b.removeChild(c)},a.lc=function(b,c){c.parentNode&&c.parentNode.insertBefore(b,c)},a.mc=function(b,c){c.parentNode&&c.parentNode.insertBefore(b,c.nextSibling)},a.nc=function(b,c,d){b.insertBefore(c,b.childNodes[d]||k)},a.L=function(b){return b&&b.parentNode?b.parentNode.removeChild(b):k},a.oc=function(b,c){var d=c.parentNode;d&&d.replaceChild(b,c)},a.pc=function(b){var c,d=b.parentNode;if(d&&11!=d.nodeType){if(b.removeNode)return b.removeNode(n);
for(;c=b.firstChild;)d.insertBefore(c,b);return L(b)}},a.qc=function(b){return Mb&&b.children!=i?b.children:z.filter(b.childNodes,function(b){return 1==b.nodeType})},a.sc=function(b){return b.firstElementChild!=i?b.firstElementChild:rc(b.firstChild,j)},a.tc=function(b){return b.previousElementSibling!=i?b.previousElementSibling:rc(b.previousSibling,n)},a.rc=function(b,c){for(;b&&1!=b.nodeType;)b=c?b.nextSibling:b.previousSibling;return b},a.uc=function(b,c){if(b.contains&&1==c.nodeType)return b==
c||b.contains(c);if("undefined"!=typeof b.compareDocumentPosition)return b==c||Boolean(b.compareDocumentPosition(c)&16);for(;c&&b!=c;)c=c.parentNode;return c==b},a.xc=function(b,c){if(b==c)return 0;if(b.compareDocumentPosition)return b.compareDocumentPosition(c)&2?1:-1;if(A&&!Ib(9)){if(9==b.nodeType)return-1;if(9==c.nodeType)return 1}if("sourceIndex"in b||b.parentNode&&"sourceIndex"in b.parentNode){var d=1==b.nodeType,e=1==c.nodeType;if(d&&e)return b.sourceIndex-c.sourceIndex;var g=b.parentNode,h=
c.parentNode;return g==h?vc(b,c):!d&&uc(g,c)?-1*wc(b,c):!e&&uc(h,b)?wc(c,b):(d?b.sourceIndex:g.sourceIndex)-(e?c.sourceIndex:h.sourceIndex)}e=Tb(b);d=e.createRange();d.selectNode(b);d.collapse(j);e=e.createRange();e.selectNode(c);e.collapse(j);return d.compareBoundaryPoints(fa.Range.START_TO_END,e)},a.wc=function(b,c){var d=b.parentNode;if(d==c)return-1;for(var e=c;e.parentNode!=d;)e=e.parentNode;return vc(e,b)},a.vc=function(b,c){for(var d=c;d=d.previousSibling;)if(d==b)return-1;return 1},a.yc=function(b){var c,
d=arguments.length;if(d){if(1==d)return arguments[0]}else return k;var e=[],g=Infinity;for(c=0;c<d;c++){for(var h=[],l=arguments[c];l;)h.unshift(l),l=l.parentNode;e.push(h);g=Math.min(g,h.length)}h=k;for(c=0;c<g;c++){for(var l=e[0][c],m=1;m<d;m++)if(l!=e[m][c])return h;h=l}return h},a.Tb=function(b){return 9==b.nodeType?b:b.ownerDocument||b.document},a.zc=function(b,c){if("textContent"in b)b.textContent=c;else if(b.firstChild&&3==b.firstChild.nodeType){for(;b.lastChild!=b.firstChild;)b.removeChild(b.lastChild);
b.firstChild.data=c}else kc(b),b.appendChild(Tb(b).createTextNode(c))},a.Bc=function(b,c){var d=[];Ac(b,c,d,n);return d},a.Ac=function(b,c,d,e){if(b!=k)for(b=b.firstChild;b;){if(c(b)&&(d.push(b),e)||Ac(b,c,d,e))return j;b=b.nextSibling}return n},a.Cc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},a.Dc={IMG:" ",BR:"\n"},a.Ec=function(b){var c=b.getAttributeNode("tabindex");return c&&c.specified?(b=b.tabIndex,pa(b)&&0<=b&&32768>b):n},a.Fc=function(b,c){c?b.tabIndex=0:(b.tabIndex=-1,b.removeAttribute("tabIndex"))},
a.Hc=function(b){if(Nb&&"innerText"in b)b=Ja(b.innerText);else{var c=[];Gc(b,c,j);b=c.join("")}b=b.replace(/ \xAD /g," ").replace(/\xAD/g,"");b=b.replace(/\u200B/g,"");Nb||(b=b.replace(/ +/g," "));" "!=b&&(b=b.replace(/^\s*/,""));return b},a.Ic=function(b){var c=[];Gc(b,c,n);return c.join("")},a.Gc=function(b,c,d){if(!(b.nodeName in Cc))if(3==b.nodeType)d?c.push(String(b.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(b.nodeValue);else if(b.nodeName in Dc)c.push(Dc[b.nodeName]);else for(b=b.firstChild;b;)Gc(b,
c,d),b=b.nextSibling},a.fc=function(b){if(b&&"number"==typeof b.length){if(ra(b))return"function"==typeof b.item||"string"==typeof b.item;if(qa(b))return"function"==typeof b.item}return n},a.Kc=function(b,c,d){if(!c&&!d)return k;var e=c?c.toUpperCase():k;return Jc(b,function(b){return(!e||b.nodeName==e)&&(!d||D.has(b,d))},j)},a.Jc=function(b,c,d,e){d||(b=b.parentNode);for(var d=e==k,g=0;b&&(d||g<=e);){if(c(b))return b;b=b.parentNode;g++}return k},a.Lc=function(b){try{return b&&b.activeElement}catch(c){}return k},
a.Sb=function(b){this.Ga=b||fa.document||document};t=Sb.prototype;t.K=Ub;t.xa=q("Ga");t.h=function(b){return oa(b)?this.Ga.getElementById(b):b};t.zu=Sb.prototype.h;t.di=function(b,c){return J(b,c||this.Ga)};t.o=function(b,c,d){return dc(this.Ga,arguments)};t.createElement=function(b){return this.Ga.createElement(b)};t.createTextNode=function(b){return this.Ga.createTextNode(b)};t.Rv=u(21);a.Mc=function(b){return"CSS1Compat"==b.Ga.compatMode};t.Ta=function(){return this.Ga.parentWindow||this.Ga.defaultView};
a.Nc=function(b){return bc(b.Ga)};t.Pr=function(b){return Lc(b||this.Ga)};t.appendChild=function(b,c){b.appendChild(c)};t.append=jc;t.At=kc;t.Do=lc;t.gy=mc;t.removeNode=L;t.DN=pc;t.xE=qc;t.zE=sc;t.contains=uc;t.RN=Kc;a.Oc=function(b,c){b.setAttribute("role",c)},a.Pc=function(b,c,d){b.setAttribute("aria-"+c,d)},a.Qc=function(b,c){var d=b.getAttribute("aria-"+c);return d===j||d===n?d?"true":"false":d?String(d):""};a.M=function(){0!=Rc&&(this.BZ=Error().stack,Sc[ua(this)]=this)},a.Rc=0,a.Sc={};M.prototype.ag=n;M.prototype.G=function(){if(!this.ag&&(this.ag=j,this.p(),0!=Rc)){var b=ua(this);delete Sc[b]}};a.Tc=function(b,c){b.vr||(b.vr=[]);b.vr.push(c)};M.prototype.p=function(){this.vr&&Uc.apply(k,this.vr);if(this.fp)for(;this.fp.length;)this.fp.shift()()};a.Vc=function(b){b&&"function"==typeof b.G&&b.G()},a.Uc=function(b){for(var c=0,d=arguments.length;c<d;++c){var e=arguments[c];na(e)?Uc.apply(k,e):Vc(e)}};a.Wc={hn:"activedescendant",MW:"atomic",QJ:"autocomplete",UW:"busy",xq:"checked",aX:"controls",eX:"describedby",WJ:"disabled",hX:"dropeffect",RB:"expanded",kX:"flowto",rX:"grabbed",Xk:"haspopup",xX:"hidden",EX:"invalid",zq:"label",Mu:"labelledby",KX:"level",NX:"live",WX:"multiline",XX:"multiselectable",cY:"orientation",eY:"owns",gY:"posinset",iK:"pressed",mY:"readonly",pY:"relevant",qY:"required",mK:"selected",BY:"setsize",DY:"sort",FK:"valuemax",GK:"valuemin",HK:"valuenow",$Y:"valuetext"},a.Xc={IW:"alert",
JW:"alertdialog",KW:"application",LW:"article",OW:"banner",wq:"button",TJ:"checkbox",XW:"columnheader",UJ:"combobox",ZW:"complementary",VJ:"dialog",fX:"directory",gX:"document",pX:"form",tX:"grid",uX:"gridcell",vX:"group",wX:"heading",CX:"img",aK:"link",LX:"list",SB:"listbox",MX:"listitem",PX:"log",bK:"main",QX:"marquee",RX:"math",cK:"menu",UX:"menubar",dK:"menuitem",eK:"menuitemcheckbox",fK:"menuitemradio",YX:"navigation",$X:"note",WB:"option",hY:"presentation",iY:"progressbar",kY:"radio",lY:"radiogroup",
oY:"region",sY:"row",tY:"rowgroup",uY:"rowheader",xY:"scrollbar",yY:"search",oK:"separator",tK:"slider",EY:"spinbutton",GY:"status",aC:"tab",AK:"tablist",KY:"tabpanel",LY:"textbox",MY:"timer",CK:"toolbar",OY:"tooltip",PY:"tree",QY:"treegrid",RY:"treeitem"};a.Yc=function(b){b=String(b);if(/^\s*$/.test(b)?0:/^[\],:{}\s\u2028\u2029]*$/.test(b.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+b+")")}catch(c){}f(Error("Invalid JSON string: "+b))},a.Zc=function(b){return eval("("+b+")")},a.ad=function(b,c){return(new $c(c)).serialize(b)},a.$c=function(b){this.Et=b};
$c.prototype.serialize=function(b){var c=[];bd(this,b,c);return c.join("")};
a.bd=function(b,c,d){switch(typeof c){case "string":cd(c,d);break;case "number":d.push(isFinite(c)&&!isNaN(c)?c:"null");break;case "boolean":d.push(c);break;case "undefined":d.push("null");break;case "object":if(c==k){d.push("null");break}if(ma(c)){b.serializeArray(c,d);break}d.push("{");var e="",g;for(g in c)if(Object.prototype.hasOwnProperty.call(c,g)){var h=c[g];"function"!=typeof h&&(d.push(e),cd(g,d),d.push(":"),bd(b,b.Et?b.Et.call(c,g,h):h,d),e=",")}d.push("}");break;case "function":break;default:f(Error("Unknown type: "+
typeof c))}},a.dd={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},a.ed=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,a.cd=function(b,c){c.push('"',b.replace(ed,function(b){if(b in dd)return dd[b];var c=b.charCodeAt(0),g="\\u";16>c?g+="000":256>c?g+="00":4096>c&&(g+="0");return dd[b]=g+c.toString(16)}),'"')};
$c.prototype.serializeArray=function(b,c){var d=b.length;c.push("[");for(var e="",g=0;g<d;g++)c.push(e),e=b[g],bd(this,this.Et?this.Et.call(b,String(g),e):e,c),e=",";c.push("]")};a.fd=!A||Ib(9),a.gd=!A||Ib(9),a.hd=A&&!Gb("9");!C||Gb("528");B&&Gb("1.9b")||A&&Gb("8")||tb&&Gb("9.5")||C&&Gb("528");B&&!Gb("8")||A&&Gb("9");a.id=function(b,c){this.type=b;this.currentTarget=this.target=c};t=id.prototype;t.p=ba();t.G=ba();t.jk=n;t.defaultPrevented=n;t.Ht=j;t.stopPropagation=function(){this.jk=j};t.preventDefault=function(){this.defaultPrevented=j;this.Ht=n};a.jd=function(b){b.preventDefault()};a.kd=A?"focusin":"DOMFocusIn";a.ld=function(b){ld[" "](b);return b};ld[" "]=ha;a.md=function(b,c){b&&this.w(b,c)};y(md,id);a.nd=[1,4,2];t=md.prototype;t.target=k;t.relatedTarget=k;t.offsetX=0;t.offsetY=0;t.clientX=0;t.clientY=0;t.screenX=0;t.screenY=0;t.button=0;t.keyCode=0;t.charCode=0;t.ctrlKey=n;t.altKey=n;t.shiftKey=n;t.metaKey=n;t.Iz=n;t.Zb=k;
t.w=function(b,c){var d=this.type=b.type;id.call(this,d);this.target=b.target||b.srcElement;this.currentTarget=c;var e=b.relatedTarget;if(e){if(B){var g;a:{try{ld(e.nodeName);g=j;break a}catch(h){}g=n}g||(e=k)}}else"mouseover"==d?e=b.fromElement:"mouseout"==d&&(e=b.toElement);this.relatedTarget=e;this.offsetX=C||b.offsetX!==i?b.offsetX:b.layerX;this.offsetY=C||b.offsetY!==i?b.offsetY:b.layerY;this.clientX=b.clientX!==i?b.clientX:b.pageX;this.clientY=b.clientY!==i?b.clientY:b.pageY;this.screenX=b.screenX||
0;this.screenY=b.screenY||0;this.button=b.button;this.keyCode=b.keyCode||0;this.charCode=b.charCode||("keypress"==d?b.keyCode:0);this.ctrlKey=b.ctrlKey;this.altKey=b.altKey;this.shiftKey=b.shiftKey;this.metaKey=b.metaKey;this.Iz=mb?b.metaKey:b.ctrlKey;this.state=b.state;this.Zb=b;b.defaultPrevented&&this.preventDefault();delete this.jk};a.od=function(b){return(fd?0==b.Zb.button:"click"==b.type?j:!!(b.Zb.button&nd[0]))&&!(C&&mb&&b.ctrlKey)};
t.stopPropagation=function(){md.m.stopPropagation.call(this);this.Zb.stopPropagation?this.Zb.stopPropagation():this.Zb.cancelBubble=j};t.preventDefault=function(){md.m.preventDefault.call(this);var b=this.Zb;if(b.preventDefault)b.preventDefault();else if(b.returnValue=n,hd)try{if(b.ctrlKey||112<=b.keyCode&&123>=b.keyCode)b.keyCode=-1}catch(c){}};t.vE=q("Zb");t.p=ba();a.pd=function(){},a.qd=0;t=pd.prototype;t.key=0;t.pk=n;t.Vq=n;t.w=function(b,c,d,e,g,h){qa(b)?this.KF=j:b&&b.handleEvent&&qa(b.handleEvent)?this.KF=n:f(Error("Invalid listener argument"));this.sg=b;this.proxy=c;this.src=d;this.type=e;this.capture=!!g;this.ji=h;this.Vq=n;this.key=++qd;this.pk=n};t.handleEvent=function(b){return this.KF?this.sg.call(this.ji||this.src,b):this.sg.handleEvent.call(this.sg,b)};a.rd={},a.sd={},a.td={},a.ud={},a.N=function(b,c,d,e,g){if(ma(c)){for(var h=0;h<c.length;h++)N(b,c[h],d,e,g);return k}return vd(b,c,d,n,e,g)},a.vd=function(b,c,d,e,g,h){c||f(Error("Invalid event type"));var g=!!g,l=sd;c in l||(l[c]={ma:0,Ze:0});l=l[c];g in l||(l[g]={ma:0,Ze:0},l.ma++);var l=l[g],m=ua(b),p;l.Ze++;if(l[m]){p=l[m];for(var r=0;r<p.length;r++)if(l=p[r],l.sg==d&&l.ji==h){if(l.pk)break;e||(p[r].Vq=n);return p[r].key}}else p=l[m]=[],l.ma++;var x=wd,F=gd?function(b){return x.call(F.src,F.key,
b)}:function(b){b=x.call(F.src,F.key,b);if(!b)return b},r=F;r.src=b;l=new pd;l.w(d,r,b,c,g,h);l.Vq=e;d=l.key;r.key=d;p.push(l);rd[d]=l;td[m]||(td[m]=[]);td[m].push(l);b.addEventListener?(b==fa||!b.BD)&&b.addEventListener(c,r,g):b.attachEvent(c in ud?ud[c]:ud[c]="on"+c,r);return d},a.xd=function(b,c,d,e,g){if(ma(c)){for(var h=0;h<c.length;h++)xd(b,c[h],d,e,g);return k}return vd(b,c,d,j,e,g)},a.yd=function(b,c,d,e,g){if(ma(c))for(var h=0;h<c.length;h++)yd(b,c[h],d,e,g);else if(e=!!e,b=zd(b,c,e))for(h=
0;h<b.length;h++)if(b[h].sg==d&&b[h].capture==e&&b[h].ji==g){Ad(b[h].key);break}},a.Ad=function(b){if(!rd[b])return n;var c=rd[b];if(c.pk)return n;var d=c.src,e=c.type,g=c.proxy,h=c.capture;d.removeEventListener?(d==fa||!d.BD)&&d.removeEventListener(e,g,h):d.detachEvent&&d.detachEvent(e in ud?ud[e]:ud[e]="on"+e,g);d=ua(d);td[d]&&(g=td[d],z.remove(g,c),0==g.length&&delete td[d]);c.pk=j;if(c=sd[e][h][d])c.JG=j,Bd(e,h,d,c);delete rd[b];return j},a.Bd=function(b,c,d,e){if(!e.Ts&&e.JG){for(var g=0,h=0;g<
e.length;g++)e[g].pk?e[g].proxy.src=k:(g!=h&&(e[h]=e[g]),h++);e.length=h;e.JG=n;0==h&&(delete sd[b][c][d],sd[b][c].ma--,0==sd[b][c].ma&&(delete sd[b][c],sd[b].ma--),0==sd[b].ma&&delete sd[b])}},a.Cd=function(b){var c,d=0,e=c==k;c=!!c;if(b==k)E.forEach(td,function(b){for(var g=b.length-1;0<=g;g--){var h=b[g];if(e||c==h.capture)Ad(h.key),d++}});else if(b=ua(b),td[b])for(var b=td[b],g=b.length-1;0<=g;g--){var h=b[g];if(e||c==h.capture)Ad(h.key),d++}},a.zd=function(b,c,d){var e=sd;return c in e&&(e=e[c],
d in e&&(e=e[d],b=ua(b),e[b]))?e[b]:k},a.Ed=function(b,c,d,e,g){var h=1,c=ua(c);if(b[c]){b.Ze--;b=b[c];b.Ts?b.Ts++:b.Ts=1;try{for(var l=b.length,m=0;m<l;m++){var p=b[m];p&&!p.pk&&(h&=Dd(p,g)!==n)}}finally{b.Ts--,Bd(d,e,c,b)}}return Boolean(h)},a.Dd=function(b,c){b.Vq&&Ad(b.key);return b.handleEvent(c)},a.wd=function(b,c){if(!rd[b])return j;var d=rd[b],e=d.type,g=sd;if(!(e in g))return j;var g=g[e],h,l;if(!gd){h=c||ga("window.event");var m=j in g,p=n in g;if(m){if(0>h.keyCode||h.returnValue!=i)return j;
a:{var r=n;if(0==h.keyCode)try{h.keyCode=-1;break a}catch(x){r=j}if(r||h.returnValue==i)h.returnValue=j}}r=new md;r.w(h,this);h=j;try{if(m){for(var F=[],I=r.currentTarget;I;I=I.parentNode)F.push(I);l=g[j];l.Ze=l.ma;for(var G=F.length-1;!r.jk&&0<=G&&l.Ze;G--)r.currentTarget=F[G],h&=Ed(l,F[G],e,j,r);if(p){l=g[n];l.Ze=l.ma;for(G=0;!r.jk&&G<F.length&&l.Ze;G++)r.currentTarget=F[G],h&=Ed(l,F[G],e,n,r)}}else h=Dd(d,r)}finally{F&&(F.length=0)}return h}e=new md(c,this);return h=Dd(d,e)},a.Fd=0,a.Gd=function(b){return b+
"_"+Fd++};a.Hd=function(){M.call(this)};y(Hd,M);t=Hd.prototype;t.BD=j;t.wm=k;t.Qt=ca("wm");t.addEventListener=function(b,c,d,e){N(this,b,c,d,e)};t.removeEventListener=function(b,c,d,e){yd(this,b,c,d,e)};
t.dispatchEvent=function(b){var c=b.type||b,d=sd;if(c in d){if(oa(b))b=new id(b,this);else if(b instanceof id)b.target=b.target||this;else{var e=b,b=new id(c,this);E.extend(b,e)}var e=1,g,d=d[c],c=j in d,h;if(c){g=[];for(h=this;h;h=h.wm)g.push(h);h=d[j];h.Ze=h.ma;for(var l=g.length-1;!b.jk&&0<=l&&h.Ze;l--)b.currentTarget=g[l],e&=Ed(h,g[l],b.type,j,b)&&b.Ht!=n}if(n in d)if(h=d[n],h.Ze=h.ma,c)for(l=0;!b.jk&&l<g.length&&h.Ze;l++)b.currentTarget=g[l],e&=Ed(h,g[l],b.type,n,b)&&b.Ht!=n;else for(g=this;!b.jk&&
g&&h.Ze;g=g.wm)b.currentTarget=g,e&=Ed(h,g,b.type,n,b)&&b.Ht!=n;b=Boolean(e)}else b=j;return b};t.p=function(){Hd.m.p.call(this);Cd(this);this.wm=k};a.Jd=function(b,c){M.call(this);this.eh=b||1;this.Zp=c||Id;this.wv=v(this.FV,this);this.By=za()};y(Jd,Hd);Jd.prototype.enabled=n;a.Id=fa.window;t=Jd.prototype;t.ra=k;t.setInterval=u(11);t.FV=function(){if(this.enabled){var b=za()-this.By;0<b&&b<0.8*this.eh?this.ra=this.Zp.setTimeout(this.wv,this.eh-b):(this.dispatchEvent(Kd),this.enabled&&(this.ra=this.Zp.setTimeout(this.wv,this.eh),this.By=za()))}};t.start=function(){this.enabled=j;this.ra||(this.ra=this.Zp.setTimeout(this.wv,this.eh),this.By=za())};
t.stop=function(){this.enabled=n;this.ra&&(this.Zp.clearTimeout(this.ra),this.ra=k)};t.p=function(){Jd.m.p.call(this);this.stop();delete this.Zp};a.Kd="tick",a.Ld=function(b,c,d){qa(b)?d&&(b=v(b,d)):b&&"function"==typeof b.handleEvent?b=v(b.handleEvent,b):f(Error("Invalid listener argument"));return 2147483647<c?-1:Id.setTimeout(b,c||0)};a.Md={Wa:function(b){return"function"==typeof b.Wa?b.Wa():na(b)||oa(b)?b.length:E.Wa(b)},Ka:function(b){if("function"==typeof b.Ka)return b.Ka();if(oa(b))return b.split("");if(na(b)){for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e]);return c}return E.Ka(b)},Gb:function(b){if("function"==typeof b.Gb)return b.Gb();if("function"!=typeof b.Ka){if(na(b)||oa(b)){for(var c=[],b=b.length,d=0;d<b;d++)c.push(d);return c}return E.Gb(b)}},contains:function(b,c){return"function"==typeof b.contains?b.contains(c):
"function"==typeof b.Og?b.Og(c):na(b)||oa(b)?z.contains(b,c):E.Og(b,c)},Ib:function(b){return"function"==typeof b.Ib?b.Ib():na(b)||oa(b)?z.Ib(b):E.Ib(b)},clear:function(b){"function"==typeof b.clear?b.clear():na(b)?z.clear(b):E.clear(b)},forEach:function(b,c,d){if("function"==typeof b.forEach)b.forEach(c,d);else if(na(b)||oa(b))z.forEach(b,c,d);else for(var e=Md.Gb(b),g=Md.Ka(b),h=g.length,l=0;l<h;l++)c.call(d,g[l],e&&e[l],b)},filter:function(b,c,d){if("function"==typeof b.filter)return b.filter(c,
d);if(na(b)||oa(b))return z.filter(b,c,d);var e,g=Md.Gb(b),h=Md.Ka(b),l=h.length;if(g){e={};for(var m=0;m<l;m++)c.call(d,h[m],g[m],b)&&(e[g[m]]=h[m])}else{e=[];for(m=0;m<l;m++)c.call(d,h[m],i,b)&&e.push(h[m])}return e},map:function(b,c,d){if("function"==typeof b.map)return b.map(c,d);if(na(b)||oa(b))return z.map(b,c,d);var e,g=Md.Gb(b),h=Md.Ka(b),l=h.length;if(g){e={};for(var m=0;m<l;m++)e[g[m]]=c.call(d,h[m],g[m],b)}else{e=[];for(m=0;m<l;m++)e[m]=c.call(d,h[m],i,b)}return e},some:function(b,c,d){if("function"==
typeof b.some)return b.some(c,d);if(na(b)||oa(b))return z.some(b,c,d);for(var e=Md.Gb(b),g=Md.Ka(b),h=g.length,l=0;l<h;l++)if(c.call(d,g[l],e&&e[l],b))return j;return n},every:function(b,c,d){if("function"==typeof b.every)return b.every(c,d);if(na(b)||oa(b))return z.every(b,c,d);for(var e=Md.Gb(b),g=Md.Ka(b),h=g.length,l=0;l<h;l++)if(!c.call(d,g[l],e&&e[l],b))return n;return j}};a.O={};O.gb="StopIteration"in fa?fa.StopIteration:Error("StopIteration");a.Nd=function(){};Nd.prototype.next=function(){f(O.gb)};Nd.prototype.hd=function(){return this};O.fd=function(b){if(b instanceof Nd)return b;if("function"==typeof b.hd)return b.hd(n);if(na(b)){var c=0,d=new Nd;d.next=function(){for(;;){c>=b.length&&f(O.gb);if(c in b)return b[c++];c++}};return d}f(Error("Not implemented"))};
O.forEach=function(b,c,d){if(na(b))try{z.forEach(b,c,d)}catch(e){e!==O.gb&&f(e)}else{b=O.fd(b);try{for(;;)c.call(d,b.next(),i,b)}catch(g){g!==O.gb&&f(g)}}};O.filter=function(b,c,d){var e=O.fd(b),b=new Nd;b.next=function(){for(;;){var b=e.next();if(c.call(d,b,i,e))return b}};return b};O.Cm=function(b,c,d){var e=0,g=b,h=d||1;1<arguments.length&&(e=b,g=c);0==h&&f(Error("Range step argument must not be zero"));var l=new Nd;l.next=function(){(0<h&&e>=g||0>h&&e<=g)&&f(O.gb);var b=e;e+=h;return b};return l};
O.join=function(b,c){return O.toArray(b).join(c)};O.map=function(b,c,d){var e=O.fd(b),b=new Nd;b.next=function(){for(;;){var b=e.next();return c.call(d,b,i,e)}};return b};O.reduce=function(b,c,d,e){var g=d;O.forEach(b,function(b){g=c.call(e,g,b)});return g};O.some=function(b,c,d){b=O.fd(b);try{for(;;)if(c.call(d,b.next(),i,b))return j}catch(e){e!==O.gb&&f(e)}return n};O.every=function(b,c,d){b=O.fd(b);try{for(;;)if(!c.call(d,b.next(),i,b))return n}catch(e){e!==O.gb&&f(e)}return j};
O.cM=function(b){var c=arguments,d=c.length,e=0,g=new Nd;g.next=function(){try{return e>=d&&f(O.gb),O.fd(c[e]).next()}catch(b){return(b!==O.gb||e>=d)&&f(b),e++,this.next()}};return g};O.mN=function(b,c){var d=O.fd(b),e=new Nd,g=j;e.next=function(){for(;;){var b=d.next();if(!g||!c.call(i,b,i,d))return g=n,b}};return e};O.cB=function(b,c){var d=O.fd(b),e=new Nd,g=j;e.next=function(){for(;;)if(g){var b=d.next();if(c.call(i,b,i,d))return b;g=n}else f(O.gb)};return e};
O.toArray=function(b){if(na(b))return z.toArray(b);var b=O.fd(b),c=[];O.forEach(b,function(b){c.push(b)});return c};O.eg=function(b,c){var b=O.fd(b),c=O.fd(c),d,e;try{for(;;){d=e=n;var g=b.next();d=j;var h=c.next();e=j;if(g!=h)break}}catch(l){l!==O.gb&&f(l);if(d&&!e)return n;if(!e)try{c.next()}catch(m){return m!==O.gb&&f(m),j}}return n};O.C_=function(b,c){try{return O.fd(b).next()}catch(d){return d!=O.gb&&f(d),c}};
O.product=function(b){if(z.some(arguments,function(b){return!b.length})||!arguments.length)return new Nd;var c=new Nd,d=arguments,e=z.repeat(0,d.length);c.next=function(){if(e){for(var b=z.map(e,function(b,c){return d[c][b]}),c=e.length-1;0<=c;c--){if(e[c]<d[c].length-1){e[c]++;break}if(0==c){e=k;break}e[c]=0}return b}f(O.gb)};return c};
O.Wv=function(b){var c=O.fd(b),d=[],e=0,b=new Nd,g=n;b.next=function(){var b=k;if(!g)try{return b=c.next(),d.push(b),b}catch(l){(l!=O.gb||z.Ib(d))&&f(l),g=j}b=d[e];e=(e+1)%d.length;return b};return b};a.Od=function(b,c){this.vb={};this.Ua=[];var d=arguments.length;if(1<d){d%2&&f(Error("Uneven number of arguments"));for(var e=0;e<d;e+=2)this.set(arguments[e],arguments[e+1])}else b&&this.Xu(b)};t=Od.prototype;t.ma=0;t.jq=0;t.Wa=q("ma");t.Ka=function(){Pd(this);for(var b=[],c=0;c<this.Ua.length;c++)b.push(this.vb[this.Ua[c]]);return b};t.Gb=function(){Pd(this);return this.Ua.concat()};t.Qd=function(b){return Qd(this.vb,b)};
t.Og=function(b){for(var c=0;c<this.Ua.length;c++){var d=this.Ua[c];if(Qd(this.vb,d)&&this.vb[d]==b)return j}return n};t.eg=function(b,c){if(this===b)return j;if(this.ma!=b.Wa())return n;var d=c||Rd;Pd(this);for(var e,g=0;e=this.Ua[g];g++)if(!d(this.get(e),b.get(e)))return n;return j};a.Rd=function(b,c){return b===c};t.Ib=function(){return 0==this.ma};t.clear=function(){this.vb={};this.jq=this.ma=this.Ua.length=0};
t.remove=function(b){return Qd(this.vb,b)?(delete this.vb[b],this.ma--,this.jq++,this.Ua.length>2*this.ma&&Pd(this),j):n};a.Pd=function(b){if(b.ma!=b.Ua.length){for(var c=0,d=0;c<b.Ua.length;){var e=b.Ua[c];Qd(b.vb,e)&&(b.Ua[d++]=e);c++}b.Ua.length=d}if(b.ma!=b.Ua.length){for(var g={},d=c=0;c<b.Ua.length;)e=b.Ua[c],Qd(g,e)||(b.Ua[d++]=e,g[e]=1),c++;b.Ua.length=d}};t.get=function(b,c){return Qd(this.vb,b)?this.vb[b]:c};
t.set=function(b,c){Qd(this.vb,b)||(this.ma++,this.Ua.push(b),this.jq++);this.vb[b]=c};t.Xu=function(b){var c;b instanceof Od?(c=b.Gb(),b=b.Ka()):(c=E.Gb(b),b=E.Ka(b));for(var d=0;d<c.length;d++)this.set(c[d],b[d])};t.clone=function(){return new Od(this)};t.an=function(){for(var b=new Od,c=0;c<this.Ua.length;c++){var d=this.Ua[c];b.set(this.vb[d],d)}return b};t.ku=function(){Pd(this);for(var b={},c=0;c<this.Ua.length;c++){var d=this.Ua[c];b[d]=this.vb[d]}return b};
t.hd=function(b){Pd(this);var c=0,d=this.Ua,e=this.vb,g=this.jq,h=this,l=new Nd;l.next=function(){for(;;){g!=h.jq&&f(Error("The map has changed since the iterator was created"));c>=d.length&&f(O.gb);var l=d[c++];return b?l:e[l]}};return l};a.Qd=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)};a.Sd=function(b){this.vb=new Od;b&&this.Xu(b)},a.Td=function(b){var c=typeof b;return"object"==c&&b||"function"==c?"o"+ua(b):c.substr(0,1)+b};t=Sd.prototype;t.Wa=function(){return this.vb.Wa()};t.add=function(b){this.vb.set(Td(b),b)};t.Xu=function(b){for(var b=Md.Ka(b),c=b.length,d=0;d<c;d++)this.add(b[d])};t.Qc=function(b){for(var b=Md.Ka(b),c=b.length,d=0;d<c;d++)this.remove(b[d])};t.remove=function(b){return this.vb.remove(Td(b))};t.clear=function(){this.vb.clear()};t.Ib=function(){return this.vb.Ib()};
t.contains=function(b){return this.vb.Qd(Td(b))};t.EF=function(b){for(var c=new Sd,b=Md.Ka(b),d=0;d<b.length;d++){var e=b[d];this.contains(e)&&c.add(e)}return c};t.Ka=function(){return this.vb.Ka()};t.clone=function(){return new Sd(this)};t.eg=function(b){var c;if(c=this.Wa()==Md.Wa(b)){var d=b,b=Md.Wa(d);this.Wa()>b?c=n:(!(d instanceof Sd)&&5<b&&(d=new Sd(d)),c=Md.every(this,function(b){return Md.contains(d,b)}))}return c};t.hd=function(){return this.vb.hd(n)};a.Vd=function(b){return Ud(b||arguments.callee.caller,[])},a.Ud=function(b,c){var d=[];if(z.contains(c,b))d.push("[...circular reference...]");else if(b&&50>c.length){d.push(Wd(b)+"(");for(var e=b.arguments,g=0;g<e.length;g++){0<g&&d.push(", ");var h;h=e[g];switch(typeof h){case "object":h=h?"object":"null";break;case "string":break;case "number":h=String(h);break;case "boolean":h=h?"true":"false";break;case "function":h=(h=Wd(h))?h:"[fn]";break;default:h=typeof h}40<h.length&&(h=h.substr(0,40)+"...");
d.push(h)}c.push(b);d.push(")\n");try{d.push(Ud(b.caller,c))}catch(l){d.push("[exception trying to get caller]\n")}}else b?d.push("[...long stack...]"):d.push("[end]");return d.join("")},a.Wd=function(b){if(Xd[b])return Xd[b];b=String(b);if(!Xd[b]){var c=/function ([^\(]+)/.exec(b);Xd[b]=c?c[1]:"[Anonymous]"}return Xd[b]},a.Xd={};a.Yd=function(b,c,d,e,g){this.reset(b,c,d,e,g)};Yd.prototype.GU=0;Yd.prototype.fE=k;Yd.prototype.eE=k;a.Zd=0;Yd.prototype.reset=function(b,c,d,e,g){this.GU="number"==typeof g?g:Zd++;this.j0=e||za();this.Ro=b;this.GG=c;this.s_=d;delete this.fE;delete this.eE};Yd.prototype.vI=ca("Ro");Yd.prototype.Ci=u(56);a.$d=function(b){this.yR=b};$d.prototype.Xa=k;$d.prototype.Ro=k;$d.prototype.Yb=k;$d.prototype.dF=k;a.ae=function(b,c){this.name=b;this.value=c};ae.prototype.toString=q("name");a.be=new ae("SHOUT",1200),a.ce=new ae("SEVERE",1E3),a.de=new ae("WARNING",900),a.ee=new ae("INFO",800),a.fe=new ae("CONFIG",700),a.ge=new ae("FINE",500);t=$d.prototype;t.getParent=q("Xa");t.xE=function(){this.Yb||(this.Yb={});return this.Yb};t.vI=ca("Ro");a.he=function(b){return b.Ro?b.Ro:b.Xa?he(b.Xa):k};
t.log=function(b,c,d){if(b.value>=he(this).value){b=this.VN(b,c,d);c="log:"+b.GG;fa.console&&(fa.console.timeStamp?fa.console.timeStamp(c):fa.console.markTimeline&&fa.console.markTimeline(c));fa.msWriteProfilerMark&&fa.msWriteProfilerMark(c);for(c=this;c;){var d=c,e=b;if(d.dF)for(var g=0,h=i;h=d.dF[g];g++)h(e);c=c.getParent()}}};
t.VN=function(b,c,d){var e=new Yd(b,String(c),this.yR);if(d){e.fE=d;var g;var h=arguments.callee.caller;try{var l;var m=ga("window.location.href");if(oa(d))l={message:d,name:"Unknown error",lineNumber:"Not available",fileName:m,stack:"Not available"};else{var p,r,x=n;try{p=d.lineNumber||d.r_||"Not available"}catch(F){p="Not available",x=j}try{r=d.fileName||d.filename||d.sourceURL||m}catch(I){r="Not available",x=j}l=x||!d.lineNumber||!d.fileName||!d.stack?{message:d.message,name:d.name,lineNumber:p,
fileName:r,stack:d.stack||"Not available"}:d}g="Message: "+Ua(l.message)+'\nUrl: <a href="view-source:'+l.fileName+'" target="_new">'+l.fileName+"</a>\nLine: "+l.lineNumber+"\n\nBrowser stack:\n"+Ua(l.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ua(Vd(h)+"-> ")}catch(G){g="Exception trying to expose exception! You win, we lose. "+G}e.eE=g}return e};t.Ok=function(b,c){this.log(de,b,c)};t.info=function(b,c){this.log(ee,b,c)};t.fD=u(13);
a.ie=function(b,c){b.log(ge,c,i)},a.je={},a.ke=k,a.le=function(b){ke||(ke=new $d(""),je[""]=ke,ke.vI(fe));var c;if(!(c=je[b])){c=new $d(b);var d=b.lastIndexOf("."),e=b.substr(d+1),d=le(b.substr(0,d));d.xE()[e]=c;c.Xa=d;je[b]=c}return c};a.me=function(b){M.call(this);this.ia=b;this.Ua=[]};y(me,M);a.oe=[];t=me.prototype;t.c=function(b,c,d,e,g){ma(c)||(oe[0]=c,c=oe);for(var h=0;h<c.length;h++){var l=N(b,c[h],d||this,e||n,g||this.ia||this);this.Ua.push(l)}return this};a.P=function(b,c,d,e,g,h){if(ma(d))for(var l=0;l<d.length;l++)P(b,c,d[l],e,g,h);else c=xd(c,d,e||b,g,h||b.ia||b),b.Ua.push(c)};
t.wa=function(b,c,d,e,g){if(ma(c))for(var h=0;h<c.length;h++)this.wa(b,c[h],d,e,g);else{a:{d=d||this;g=g||this.ia||this;e=!!e;if(b=zd(b,c,e))for(c=0;c<b.length;c++)if(!b[c].pk&&b[c].sg==d&&b[c].capture==e&&b[c].ji==g){b=b[c];break a}b=k}b&&(b=b.key,Ad(b),z.remove(this.Ua,b))}return this};t.Qc=function(){z.forEach(this.Ua,Ad);this.Ua.length=0};t.p=function(){me.m.p.call(this);this.Qc()};t.handleEvent=function(){f(Error("EventHandler.handleEvent not implemented"))};a.pe=function(b){M.call(this);this.Fg=b;this.Gt=[]};y(pe,M);pe.prototype.Da=le("goog.net.BulkLoaderHelper");pe.prototype.mx=q("Fg");pe.prototype.hx=q("Gt");pe.prototype.p=function(){pe.m.p.call(this);this.Gt=this.Fg=k};a.qe=function(){};qe.prototype.SC=k;a.se=function(b){var c;if(!(c=b.SC))c={},re(b)&&(c[0]=j,c[1]=j),c=b.SC=c;return c};a.te=void 0,a.ue=function(){};y(ue,qe);a.ve=function(b){return(b=re(b))?new ActiveXObject(b):new XMLHttpRequest},a.re=function(b){if(!b.kF&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var c=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],d=0;d<c.length;d++){var e=c[d];try{return new ActiveXObject(e),b.kF=e}catch(g){}}f(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return b.kF};
te=new ue;a.we=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");a.xe=function(b){M.call(this);this.headers=new Od;this.xu=b||k};y(xe,Hd);xe.prototype.Da=le("goog.net.XhrIo");a.ye=/^https?$/i;t=xe.prototype;t.Kh=n;t.ea=k;t.wu=k;t.Ks="";t.YF="";t.Mo=0;t.No="";t.Bw=n;t.qs=n;t.Xx=n;t.Ij=n;t.fu=0;t.Hk=k;t.bI="";t.yW=n;
t.send=function(b,c,d,e){this.ea&&f(Error("[goog.net.XhrIo] Object is active with another request="+this.Ks+"; newUri="+b));c=c?c.toUpperCase():"GET";this.Ks=b;this.No="";this.Mo=0;this.YF=c;this.Bw=n;this.Kh=j;this.ea=this.xu?ve(this.xu):ve(te);this.wu=this.xu?se(this.xu):se(te);this.ea.onreadystatechange=v(this.gH,this);try{ie(this.Da,ze(this,"Opening Xhr")),this.Xx=j,this.ea.open(c,b,j),this.Xx=n}catch(g){ie(this.Da,ze(this,"Error opening Xhr: "+g.message));Ae(this,g);return}var b=d||"",h=this.headers.clone();
e&&Md.forEach(e,function(b,c){h.set(c,b)});e=fa.FormData&&b instanceof fa.FormData;"POST"==c&&(!h.Qd("Content-Type")&&!e)&&h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Md.forEach(h,function(b,c){this.ea.setRequestHeader(c,b)},this);this.bI&&(this.ea.responseType=this.bI);E.Qd(this.ea,"withCredentials")&&(this.ea.withCredentials=this.yW);try{this.Hk&&(Id.clearTimeout(this.Hk),this.Hk=k),0<this.fu&&(ie(this.Da,ze(this,"Will abort after "+this.fu+"ms if incomplete")),this.Hk=
Id.setTimeout(v(this.gu,this),this.fu)),ie(this.Da,ze(this,"Sending request")),this.qs=j,this.ea.send(b),this.qs=n}catch(l){ie(this.Da,ze(this,"Send error: "+l.message)),Ae(this,l)}};t.gu=function(){"undefined"!=typeof ea&&this.ea&&(this.No="Timed out after "+this.fu+"ms, aborting",this.Mo=8,ie(this.Da,ze(this,this.No)),this.dispatchEvent("timeout"),this.abort(8))};
a.Ae=function(b,c){b.Kh=n;b.ea&&(b.Ij=j,b.ea.abort(),b.Ij=n);b.No=c;b.Mo=5;Be(b);Ce(b)},a.Be=function(b){b.Bw||(b.Bw=j,b.dispatchEvent("complete"),b.dispatchEvent("error"))};t.abort=function(b){this.ea&&this.Kh&&(ie(this.Da,ze(this,"Aborting")),this.Kh=n,this.Ij=j,this.ea.abort(),this.Ij=n,this.Mo=b||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ce(this))};t.p=function(){this.ea&&(this.Kh&&(this.Kh=n,this.Ij=j,this.ea.abort(),this.Ij=n),Ce(this,j));xe.m.p.call(this)};
t.gH=function(){!this.Xx&&!this.qs&&!this.Ij?this.zS():De(this)};t.zS=function(){De(this)};
a.De=function(b){if(b.Kh&&"undefined"!=typeof ea)if(b.wu[1]&&4==Ee(b)&&2==Fe(b))ie(b.Da,ze(b,"Local request error detected and ignored"));else if(b.qs&&4==Ee(b))Id.setTimeout(v(b.gH,b),0);else if(b.dispatchEvent("readystatechange"),4==Ee(b)){ie(b.Da,ze(b,"Request complete"));b.Kh=n;try{if(Ge(b))b.dispatchEvent("complete"),b.dispatchEvent("success");else{b.Mo=6;var c;try{c=2<Ee(b)?b.ea.statusText:""}catch(d){ie(b.Da,"Can not get status: "+d.message),c=""}b.No=c+" ["+Fe(b)+"]";Be(b)}}finally{Ce(b)}}},
a.Ce=function(b,c){if(b.ea){var d=b.ea,e=b.wu[0]?ha:k;b.ea=k;b.wu=k;b.Hk&&(Id.clearTimeout(b.Hk),b.Hk=k);c||b.dispatchEvent("ready");try{d.onreadystatechange=e}catch(g){b.Da.log(ce,"Problem encountered resetting onreadystatechange: "+g.message,i)}}};t.Hb=function(){return!!this.ea};
a.Ge=function(b){var c=Fe(b),d;a:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=j;break a;default:d=n}if(!d){if(c=0===c)b=String(b.Ks).match(we)[1]||k,!b&&self.location&&(b=self.location.protocol,b=b.substr(0,b.length-1)),c=!ye.test(b?b.toLowerCase():"");d=c}return d},a.Ee=function(b){return b.ea?b.ea.readyState:0},a.Fe=function(b){try{return 2<Ee(b)?b.ea.status:-1}catch(c){return b.Da.Ok("Can not get status: "+c.message),-1}},a.He=function(b){try{return b.ea?b.ea.responseText:
""}catch(c){return ie(b.Da,"Can not get responseText: "+c.message),""}},a.Ie=function(b){if(b.ea)return Yc(b.ea.responseText)};t.getResponseHeader=function(b){return this.ea&&4==Ee(this)?this.ea.getResponseHeader(b):i};a.ze=function(b,c){return c+" ["+b.YF+" "+b.Ks+" "+Fe(b)+"]"};a.Je=function(b){M.call(this);this.Fj=new pe(b);this.Q=new me(this)};y(Je,Hd);t=Je.prototype;t.Da=le("goog.net.BulkLoader");t.hx=function(){return this.Fj.hx()};t.load=function(){var b=this.Q,c=this.Fj.mx();this.Da.info("Starting load of code with "+c.length+" uris.");for(var d=0;d<c.length;d++){var e=new xe;b.c(e,"complete",v(this.EO,this,d));e.send(c[d])}};
t.EO=function(b,c){this.Da.info('Received event "'+c.type+'" for id '+b+" with uri "+this.Fj.Fg[b]);var d=c.target;Ge(d)?this.Jx(b,d):this.zx(b,d)};t.Jx=function(b,c){var d=He(c);this.Fj.Gt[b]=d;a:{var e=this.Fj,d=e.Gt;if(d.length==e.Fg.length){for(e=0;e<d.length;e++)if(d[e]==k){d=n;break a}d=j}else d=n}d&&(this.Da.info("All uris loaded."),this.dispatchEvent("success"));c.G()};t.zx=function(b,c){this.dispatchEvent("error");c.G()};
t.p=function(){Je.m.p.call(this);this.Q.G();this.Q=k;this.Fj.G();this.Fj=k};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
a.Ke=function(b,c){this.In=[];this.UC=b;this.HD=c||k};t=Ke.prototype;t.ai=n;t.no=n;t.np=0;t.LA=n;t.dM=n;t.xv=0;t.cancel=function(b){if(this.ai)this.wp instanceof Ke&&this.wp.cancel();else{if(this.Xa){var c=this.Xa;delete this.Xa;b?c.cancel(b):(c.xv--,0>=c.xv&&c.cancel())}this.UC?this.UC.call(this.HD,this):this.LA=j;this.ai||Le(this,new Me(this))}};t.lD=function(b,c){Ne(this,b,c);this.np--;0==this.np&&this.ai&&Oe(this)};a.Ne=function(b,c,d){b.ai=j;b.wp=d;b.no=!c;Oe(b)};
t.Qh=function(){this.ai&&(this.LA||f(new Pe(this)),this.LA=n)};t.jl=function(b){this.Qh();Ne(this,j,b)};
a.Le=function(b,c){b.Qh();Ne(b,n,c)},a.Qe=function(b){return z.some(b.In,function(b){return qa(b[1])})},a.Oe=function(b){b.tB&&(b.ai&&Qe(b))&&(fa.clearTimeout(b.tB),delete b.tB);b.Xa&&(b.Xa.xv--,delete b.Xa);for(var c=b.wp,d=n,e=n;b.In.length&&0==b.np;){var g=b.In.shift(),h=g[0],l=g[1],g=g[2];if(h=b.no?l:h)try{var m=h.call(g||b.HD,c);la(m)&&(b.no=b.no&&(m==c||m instanceof Error),b.wp=c=m);c instanceof Ke&&(e=j,b.np++)}catch(p){c=p,b.no=j,Qe(b)||(d=j)}}b.wp=c;e&&b.np&&(e=c,m=v(b.lD,b,j),h=v(b.lD,b,
n),e.In.push([m,h,i]),e.ai&&Oe(e),c.dM=j);d&&(b.tB=fa.setTimeout(function(){f(c)},0))},a.Pe=function(b){Da.call(this);this.deferred=b};y(Pe,Da);Pe.prototype.message="Deferred has already fired";Pe.prototype.name="AlreadyCalledError";a.Me=function(b){Da.call(this);this.deferred=b};y(Me,Da);Me.prototype.message="Deferred was cancelled";Me.prototype.name="CancelledError";a.Re=[],a.Te=function(){if(this&&this.jI){var b=this.jI;b&&"SCRIPT"==b.tagName&&Se(b,j,this.gu)}},a.Se=function(b,c,d){d!=k&&fa.clearTimeout(d);b.onload=ha;b.onerror=ha;b.onreadystatechange=ha;c&&window.setTimeout(function(){L(b)},0)},a.Ue=function(b,c){var d="Jsloader error (code #"+b+")";c&&(d+=": "+c);Da.call(this,d);this.code=b};y(Ue,Da);a.Ve=function(){M.call(this);this.Q=new me(this);this.mh={}};y(Ve,Hd);t=Ve.prototype;t.Pb=le("goog.module.ModuleLoader");t.FD=n;t.gV=n;
t.YQ=function(b,c,d,e){var g=this.mh[b]||new We;g.kG=j;g.ZA=d||k;g.Cw=e||k;if(this.mh[b])g.bA!=k&&Xe(this,b);else{this.mh[b]=g;d=[];for(e=0;e<b.length;e++)z.extend(d,c[b[e]].mx());this.Pb.info("downloadModules ids:"+b+" uris:"+d);if(this.FD){var h=d;if(h.length&&(b=Re.length,z.extend(Re,h),!b)){var h=Re,l=function(){var b=h.shift(),c={},d=c.document||document,e=document.createElement("SCRIPT"),g={jI:e,gu:i},I=new Ke(Te,g),G=k,Q=c.timeout!=k?c.timeout:5E3;0<Q&&(G=window.setTimeout(function(){Se(e,
j);Le(I,new Ue(1,"Timeout reached for loading script "+b))},Q),g.gu=G);e.onload=e.onreadystatechange=function(){if(!e.readyState||"loaded"==e.readyState||"complete"==e.readyState)Se(e,c.sZ||n,G),I.jl(k)};e.onerror=function(){Se(e,j,G);Le(I,new Ue(0,"Error while loading script "+b))};Zb(e,{type:"text/javascript",charset:"UTF-8",src:b});g=d.getElementsByTagName("HEAD");(!g||z.Ib(g)?d.documentElement:g[0]).appendChild(e);h.length&&(I.In.push([l,l,i]),I.ai&&Oe(I))};l()}}else this.mh[b].aI=d,c=new Je(d),
d=this.Q,d.c(c,"success",v(this.Jx,this,c,b),n,k),d.c(c,"error",v(this.zx,this,c,b),n,k),c.load()}};a.Xe=function(b,c){b.dispatchEvent(new Ye(Ze,c));b.Pb.info("evaluateCode ids:"+c);var d=j,e=b.mh[c],g=e.aI,h=e.bA;try{if(b.gV)for(var l=0;l<g.length;l++)Ba(h[l]+" //@ sourceURL="+g[l]);else Ba(h.join("\n"))}catch(m){d=n,b.Pb.Ok("Loaded incomplete code for module(s): "+c,m)}b.dispatchEvent(new Ye($e,c));d?e.ZA&&e.ZA():af(b,c,e.Cw,k);delete b.mh[c]};
t.Jx=function(b,c){this.Pb.info("Code loaded for module(s): "+c);var d=this.mh[c];d.bA=b.hx();d.kG&&Xe(this,c);Ld(b.G,5,b)};t.zx=function(b,c,d){var e=this.mh[c];e&&(delete this.mh[c],af(this,c,e.Cw,d));Ld(b.G,5,b)};a.af=function(b,c,d,e){b.dispatchEvent(new Ye(bf,c));b.Pb.Ok("Request failed for module(s): "+c);d&&d(e)};t.p=function(){Ve.m.p.call(this);this.Q.G();this.Q=k};a.$e=Gd("evaluateCode"),a.Ze=Gd("requestSuccess"),a.bf=Gd("requestError"),a.Ye=function(b,c){id.call(this,b);this.y_=c};
y(Ye,id);a.We=function(){this.bA=this.aI=k;this.kG=n;this.Cw=this.ZA=k};a.cf=function(b,c){M.call(this);this.qG=c;this.Xg=[];b>this.qG&&f(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var d=0;d<b;d++)this.Xg.push(this.ol())};y(cf,M);t=cf.prototype;t.mD=k;t.QD=k;a.df=function(b,c){b.Xg.length<b.qG?b.Xg.push(c):b.iw(c)};t.ol=function(){return this.mD?this.mD():{}};t.iw=function(b){if(this.QD)this.QD(b);else if(ra(b))if(qa(b.G))b.G();else for(var c in b)delete b[c]};
t.p=function(){cf.m.p.call(this);for(var b=this.Xg;b.length;)this.iw(b.pop());delete this.Xg};a.gf=function(){this.fg=[];this.Az=new Od;this.nu=this.cJ=this.dJ=this.OI=0;this.Bk=new Od;this.Lv=this.bJ=0;this.dz=1;this.El=new cf(0,4E3);this.El.ol=function(){return new ef};this.Tp=new cf(0,50);this.Tp.ol=function(){return new ff};var b=this;this.Px=new cf(0,2E3);this.Px.ol=function(){return String(b.dz++)};this.Px.iw=ba();this.aN=3};gf.prototype.Da=le("goog.debug.Trace");a.ff=function(){this.AB=this.time=this.count=0};
ff.prototype.toString=function(){var b=[];b.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");this.AB&&b.push(" [VarAlloc = ",this.AB,"]");return b.join("")};a.ef=function(){},a.kf=function(b,c,d,e){var g=[];-1==d?g.push("    "):g.push(hf(b.Gr-d));g.push(" ",jf(b.Gr-c));0==b.Hr?g.push(" Start        "):1==b.Hr?(g.push(" Done "),g.push(hf(b.g0-b.startTime)," ms ")):g.push(" Comment      ");g.push(e,b);0<b.aJ&&g.push("[VarAlloc ",b.aJ,"] ");return g.join("")};
ef.prototype.toString=function(){return this.type==k?this.cD:"["+this.type+"] "+this.cD};gf.prototype.reset=function(b){this.aN=b;for(b=0;b<this.fg.length;b++){var c=this.El.id;c&&df(this.Px,c);df(this.El,this.fg[b])}this.fg.length=0;this.Az.clear();this.OI=za();this.Lv=this.bJ=this.nu=this.cJ=this.dJ=0;c=this.Bk.Gb();for(b=0;b<c.length;b++){var d=this.Bk.get(c[b]);d.count=0;d.time=0;d.AB=0;df(this.Tp,d)}this.Bk.clear()};gf.prototype.Dq=u(14);
gf.prototype.toString=function(){for(var b=[],c=-1,d=[],e=0;e<this.fg.length;e++){var g=this.fg[e];1==g.Hr&&d.pop();b.push(" ",kf(g,this.OI,c,d.join("")));c=g.Gr;b.push("\n");0==g.Hr&&d.push("|  ")}if(0!=this.Az.Wa()){var h=za();b.push(" Unstopped timers:\n");O.forEach(this.Az,function(c){b.push("  ",c," (",h-c.startTime," ms, started at ",jf(c.startTime),")\n")})}c=this.Bk.Gb();for(e=0;e<c.length;e++)d=this.Bk.get(c[e]),1<d.count&&b.push(" TOTAL ",d,"\n");b.push("Total tracers created ",this.bJ,
"\n","Total comments created ",this.Lv,"\n","Overhead start: ",this.dJ," ms\n","Overhead end: ",this.cJ," ms\n","Overhead comment: ",this.nu," ms\n");return b.join("")};a.hf=function(b){var b=Math.round(b),c="";1E3>b&&(c=" ");100>b&&(c="  ");10>b&&(c="   ");return c+b},a.jf=function(b){b=Math.round(b);return String(100+b/1E3%60).substring(1,3)+"."+String(1E3+b%1E3).substring(1,4)};new gf;a.lf=function(b){return function(){return b}},a.mf=lf(n),a.nf=lf(j),a.of=function(b){return b},a.pf=function(b,c){var d=arguments,e=d.length;return function(){var b;e&&(b=d[e-1].apply(this,arguments));for(var c=e-2;0<=c;c--)b=d[c].call(this,b);return b}},a.qf=function(b){return function(){return!b.apply(this,arguments)}};a.rf=function(){M.call(this)};y(rf,M);a.sf=function(b,c){this.Or=b;this.ia=c};sf.prototype.execute=function(b){this.Or&&(this.Or.call(this.ia||k,b),this.Or=this.ia=k)};sf.prototype.abort=function(){this.ia=this.Or=k};a.tf=function(b,c){M.call(this);this.JD=b;this.Gd=c;this.vz=[];this.jz=[];this.WD=[]};y(tf,M);t=tf.prototype;t.Fg=k;t.uR=rf;t.$y=k;t.ae=q("Gd");t.mx=function(){var b=[];return jQuery.support.cors?this.Fg:ma(this.Fg)?(z.forEach(this.Fg,function(c){b.push(uf(new vf(c)))}),b):uf(new vf(this.Fg))};t.yt=function(b,c){return this.zt(this.vz,b,c)};t.zt=function(b,c,d){c=new sf(c,d);b.push(c);return c};t.fe=function(){return!!this.$y};
t.jp=function(b){var c=new this.uR;b();this.$y=c;c=(c=!!wf(this.WD,b()))||!!wf(this.vz,b());c||(this.jz.length=0);return c};t.ui=function(b){if(b=wf(this.jz,b)){var c="Module errback failures: "+b;window.setTimeout(function(){f(Error(c))},0)}this.WD.length=0;this.vz.length=0};a.wf=function(b,c){for(var d=[],e=0;e<b.length;e++)try{b[e].execute(c)}catch(g){d.push(g)}b.length=0;return d.length?d:k};t.p=function(){tf.m.p.call(this);Vc(this.$y)};a.xf=function(){M.call(this);this.pd={};this.yf=[];this.rk=[];this.td=[];this.Pi=[];this.Wq={};this.AD=this.Rq=new tf([],"")};y(xf,M);ia(xf);t=xf.prototype;t.Da=le("goog.module.ModuleManager");t.IC=n;t.Ky=k;t.gr=0;t.VF=n;t.vJ=n;t.DG=k;t.CE=q("DG");t.Hb=function(){return 0<this.yf.length};
a.zf=function(b){var c=b.Hb();c!=b.VF&&(yf(b,c?"active":"idle"),b.VF=c);c=0<b.Pi.length;c!=b.vJ&&(yf(b,c?"userActive":"userIdle"),b.vJ=c)},a.Bf=function(b,c,d,e,g){d.yt(g.jl,g);d.zt(d.jz,function(b){Le(g,Error(b))},i);Af(b,c)?e&&(b.Da.info("User initiated module already loading: "+c),z.contains(b.Pi,c)||b.Pi.push(c),zf(b)):e?(b.Da.info("User initiated module load: "+c),z.contains(b.Pi,c)||b.Pi.push(c)):b.Da.info("Initiating module load: "+c)},a.Df=function(b,c){z.Ib(b.yf)?Cf(b,c):(b.td.push(c),zf(b))},
a.Cf=function(b,c,d,e){d||(b.gr=0);for(var g=0;g<c.length;g++)b.pd[c[g]].fe()&&f(Error("Module already loaded: "+c[g]));d=[];for(g=0;g<c.length;g++)d=d.concat(Ef(b,c[g]));z.Yz(d);!b.IC&&1<d.length&&(g=d.shift(),b.Da.info("Must load "+g+" module before "+c),b.td=z.map(d,function(b){return[b]}).concat(b.td),d=[g]);b.Da.info("Loading module(s): "+d);b.yf=d;b.rk=b.IC?c:z.clone(d);zf(b);c=v(b.Ky.YQ,b.Ky,z.clone(d),b.pd,k,v(b.QO,b),v(b.RO,b),!!e);(b=5E3*Math.pow(b.gr,2))?window.setTimeout(c,b):c()},a.Ef=
function(b,c){for(var d=[c],e=z.clone(b.pd[c].JD);e.length;){var g=e.pop();b.pd[g].fe()||(d.unshift(g),Array.prototype.unshift.apply(e,b.pd[g].JD))}z.Yz(d);return d},a.If=function(b){var c=xf.F();c.ag?c.Da.Ok("Module loaded after module manager was disposed: "+b):(c.Da.info("Module loaded: "+b),c.pd[b].jp(v(c.CE,c))&&Ff(c,Gf),z.remove(c.Pi,b),z.remove(c.yf,b),z.Ib(c.yf)&&Hf(c),zf(c))},a.Af=function(b,c){if(z.contains(b.yf,c))return j;for(var d=0;d<b.td.length;d++)if(z.contains(b.td[d],c))return j;
return n};t.load=function(b,c){var d=[];z.Yz([b],d);for(var e=[],g={},h=0;h<d.length;h++){var l=d[h],m=this.pd[l],p=new Ke;g[l]=p;m.fe()?p.jl(this.DG):(Bf(this,l,m,!!c,p),Af(this,l)||e.push(l))}0<e.length&&Df(this,e);return g[b]};a.Gf=4;t=xf.prototype;
t.QO=function(b){this.gr++;401==b?(this.Da.info("Module loading unauthorized"),Ff(this,0),this.td.length=0):410==b?(Jf(this,3),Hf(this)):3<=this.gr?(this.Da.info("Aborting after failure to load: "+this.yf),Jf(this,1),Hf(this)):(this.Da.info("Retrying after failure to load: "+this.yf),Cf(this,this.rk,j,8001==b))};t.RO=function(){this.Da.info("Aborting after timeout: "+this.yf);Jf(this,2);Hf(this)};
a.Jf=function(b,c){1<b.rk.length?b.td=z.map(b.rk,function(b){return[b]}).concat(b.td):Ff(b,c)},a.Ff=function(b,c){var d=b.rk;b.yf.length=0;for(var e=[],g=0;g<b.td.length;g++){var h=z.filter(b.td[g],function(b){var c=Ef(this,b);return z.some(d,function(b){return z.contains(c,b)})},b);z.extend(e,h)}for(g=0;g<d.length;g++)z.xs(e,d[g]);for(g=0;g<e.length;g++){for(h=0;h<b.td.length;h++)z.remove(b.td[h],e[g]);z.remove(b.Pi,e[g])}var l=b.Wq.error;if(l)for(g=0;g<l.length;g++)for(var m=l[g],h=0;h<e.length;h++)m("error",
e[h],c);for(g=0;g<d.length;g++)b.pd[d[g]]&&b.pd[d[g]].ui(c);b.rk.length=0;zf(b)},a.Hf=function(b){for(;b.td.length;){var c=z.filter(b.td.shift(),function(b){return!this.pd[b].fe()},b);if(0<c.length){Cf(b,c);return}}zf(b)};t.yt=function(b,c){ma(b)||(b=[b]);for(var d=0;d<b.length;d++)this.zt(b[d],c)};t.zt=function(b,c){var d=this.Wq;d[b]||(d[b]=[]);d[b].push(c)};a.yf=function(b,c){for(var d=b.Wq[c],e=0;d&&e<d.length;e++)d[e](c)};
t.p=function(){xf.m.p.call(this);Uc(E.Ka(this.pd),this.Rq);this.Wq=this.td=this.Pi=this.rk=this.yf=this.pd=k};a.Kf=function(b){this.Ga=b},a.Lf=/\s*;\s*/;t=Kf.prototype;t.isEnabled=function(){return navigator.cookieEnabled};t.set=function(b,c,d,e,g,h){/[;=\s]/.test(b)&&f(Error('Invalid cookie name "'+b+'"'));/[;\r\n]/.test(c)&&f(Error('Invalid cookie value "'+c+'"'));la(d)||(d=-1);g=g?";domain="+g:"";e=e?";path="+e:"";h=h?";secure":"";d=0>d?"":0==d?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(za()+1E3*d)).toUTCString();this.Ga.cookie=b+"="+c+g+e+d+h};
t.get=function(b,c){for(var d=b+"=",e=(this.Ga.cookie||"").split(Lf),g=0,h;h=e[g];g++){if(0==h.lastIndexOf(d,0))return h.substr(d.length);if(h==b)return""}return c};t.remove=function(b,c,d){var e=this.Qd(b);this.set(b,"",0,c,d);return e};t.Gb=function(){return Mf(this).keys};t.Ka=function(){return Mf(this).wJ};t.Ib=function(){return!this.Ga.cookie};t.Wa=function(){return!this.Ga.cookie?0:(this.Ga.cookie||"").split(Lf).length};t.Qd=function(b){return la(this.get(b))};
t.Og=function(b){for(var c=Mf(this).wJ,d=0;d<c.length;d++)if(c[d]==b)return j;return n};t.clear=function(){for(var b=Mf(this).keys,c=b.length-1;0<=c;c--)this.remove(b[c])};a.Mf=function(b){for(var b=(b.Ga.cookie||"").split(Lf),c=[],d=[],e,g,h=0;g=b[h];h++)e=g.indexOf("="),-1==e?(c.push(""),d.push(g)):(c.push(g.substring(0,e)),d.push(g.substring(e+1)));return{keys:c,wJ:d}},a.Nf=new Kf(document);Nf.SX=3950;a.Of=function(b,c,d,e){this.top=b;this.right=c;this.bottom=d;this.left=e};Of.prototype.clone=function(){return new Of(this.top,this.right,this.bottom,this.left)};Of.prototype.contains=function(b){return!this||!b?n:b instanceof Of?b.left>=this.left&&b.right<=this.right&&b.top>=this.top&&b.bottom<=this.bottom:b.x>=this.left&&b.x<=this.right&&b.y>=this.top&&b.y<=this.bottom};Of.prototype.expand=u(64);
a.Pf=function(b,c){var d=c.x<b.left?c.x-b.left:c.x>b.right?c.x-b.right:0,e=c.y<b.top?c.y-b.top:c.y>b.bottom?c.y-b.bottom:0;return Math.sqrt(d*d+e*e)};a.Qf=function(b,c,d,e){this.left=b;this.top=c;this.width=d;this.height=e};Qf.prototype.clone=function(){return new Qf(this.left,this.top,this.width,this.height)};a.Rf=function(b){return new Of(b.top,b.left+b.width,b.top+b.height,b.left)};
Qf.prototype.EF=function(b){var c=Math.max(this.left,b.left),d=Math.min(this.left+this.width,b.left+b.width);if(c<=d){var e=Math.max(this.top,b.top),b=Math.min(this.top+this.height,b.top+b.height);if(e<=b)return this.left=c,this.top=e,this.width=d-c,this.height=b-e,j}return n};
Qf.prototype.contains=function(b){return b instanceof Qf?this.left<=b.left&&this.left+this.width>=b.left+b.width&&this.top<=b.top&&this.top+this.height>=b.top+b.height:b.x>=this.left&&b.x<=this.left+this.width&&b.y>=this.top&&b.y<=this.top+this.height};Qf.prototype.Tl=function(){return new Qb(this.width,this.height)};a.Tf=function(b,c,d){oa(c)?Sf(b,d,c):E.forEach(c,xa(Sf,b))},a.Sf=function(b,c,d){(d=Uf(b,d))&&(b.style[d]=c)},a.Uf=function(b,c){var d=gb(c);if(b.style[d]===i){var e=C?"Webkit":B?"Moz":A?"ms":tb?"O":k,g;g=oa(i)?$a(i):"\\s";g=c.replace(RegExp("(^"+(g?"|["+g+"]+":"")+")([a-z])","g"),function(b,c,d){return c+d.toUpperCase()});e+=g;if(b.style[e]!==i)return e}return d},a.Vf=function(b,c){var d=Tb(b);return d.defaultView&&d.defaultView.getComputedStyle&&(d=d.defaultView.getComputedStyle(b,k))?d[c]||d.getPropertyValue(c)||
"":""},a.Wf=function(b,c){return b.currentStyle?b.currentStyle[c]:k},a.Xf=function(b,c){return Vf(b,c)||Wf(b,c)||b.style&&b.style[c]},a.Yf=function(b){return Xf(b,"position")},a.$f=function(b,c,d){var e,g=B&&(mb||xb)&&Gb("1.9");c instanceof Ob?(e=c.x,c=c.y):(e=c,c=d);b.style.left=Zf(e,g);b.style.top=Zf(c,g)},a.ag=function(b){b=b?Tb(b):document;return A&&!Ib(9)&&!Mc(Ub(b))?b.body:b.documentElement},a.bg=function(b){var c=b.getBoundingClientRect();A&&(b=b.ownerDocument,c.left-=b.documentElement.clientLeft+
b.body.clientLeft,c.top-=b.documentElement.clientTop+b.body.clientTop);return c},a.cg=function(b){if(A&&!Ib(8))return b.offsetParent;for(var c=Tb(b),d=Xf(b,"position"),e="fixed"==d||"absolute"==d,b=b.parentNode;b&&b!=c;b=b.parentNode)if(d=Xf(b,"position"),e=e&&"static"==d&&b!=c.documentElement&&b!=c.body,!e&&(b.scrollWidth>b.clientWidth||b.scrollHeight>b.clientHeight||"fixed"==d||"absolute"==d||"relative"==d))return b;return k},a.fg=function(b){for(var c=new Of(0,Infinity,Infinity,0),d=Ub(b),e=d.xa().body,
g=d.xa().documentElement,h=ac(d.Ga);b=cg(b);)if((!A||0!=b.clientWidth)&&(!C||0!=b.clientHeight||b!=e)&&b!=e&&b!=g&&"visible"!=Xf(b,"overflow")){var l=dg(b),m;m=b;if(B&&!Gb("1.9")){var p=parseFloat(Vf(m,"borderLeftWidth"));if(eg(m))var r=m.offsetWidth-m.clientWidth-p-parseFloat(Vf(m,"borderRightWidth")),p=p+r;m=new Ob(p,parseFloat(Vf(m,"borderTopWidth")))}else m=new Ob(m.clientLeft,m.clientTop);l.x+=m.x;l.y+=m.y;c.top=Math.max(c.top,l.y);c.right=Math.min(c.right,l.x+b.clientWidth);c.bottom=Math.min(c.bottom,
l.y+b.clientHeight);c.left=Math.max(c.left,l.x)}e=h.scrollLeft;h=h.scrollTop;c.left=Math.max(c.left,e);c.top=Math.max(c.top,h);d=$b(d.Ta());c.right=Math.min(c.right,e+d.width);c.bottom=Math.min(c.bottom,h+d.height);return 0<=c.top&&0<=c.left&&c.bottom>c.top&&c.right>c.left?c:k},a.hg=function(b,c){var d,e=dg(b),g=dg(c),h=gg(c);d=e.x-g.x-h.left;var e=e.y-g.y-h.top,g=c.clientHeight-b.offsetHeight,h=c.scrollLeft,l=c.scrollTop,h=h+Math.min(d,Math.max(d-(c.clientWidth-b.offsetWidth),0)),l=l+Math.min(e,
Math.max(e-g,0));d=new Ob(h,l);c.scrollLeft=d.x;c.scrollTop=d.y},a.dg=function(b){var c,d=Tb(b),e=Xf(b,"position"),g=B&&d.getBoxObjectFor&&!b.getBoundingClientRect&&"absolute"==e&&(c=d.getBoxObjectFor(b))&&(0>c.screenX||0>c.screenY),h=new Ob(0,0),l=ag(d);if(b==l)return h;if(b.getBoundingClientRect)c=bg(b),b=Nc(Ub(d)),h.x=c.left+b.x,h.y=c.top+b.y;else if(d.getBoxObjectFor&&!g)c=d.getBoxObjectFor(b),b=d.getBoxObjectFor(l),h.x=c.screenX-b.screenX,h.y=c.screenY-b.screenY;else{c=b;do{h.x+=c.offsetLeft;
h.y+=c.offsetTop;c!=b&&(h.x+=c.clientLeft||0,h.y+=c.clientTop||0);if(C&&"fixed"==Yf(c)){h.x+=d.body.scrollLeft;h.y+=d.body.scrollTop;break}c=c.offsetParent}while(c&&c!=b);if(tb||C&&"absolute"==e)h.y-=d.body.offsetTop;for(c=b;(c=cg(c))&&c!=d.body&&c!=l;)if(h.x-=c.scrollLeft,!tb||"TR"!=c.tagName)h.y-=c.scrollTop}return h},a.jg=function(b,c){var d=ig(b),e=ig(c);return new Ob(d.x-e.x,d.y-e.y)},a.ig=function(b){var c=new Ob;if(1==b.nodeType){if(b.getBoundingClientRect){var d=bg(b);c.x=d.left;c.y=d.top}else{var d=
Nc(Ub(b)),e=dg(b);c.x=e.x-d.x;c.y=e.y-d.y}if(B&&!Gb(12)){var g;A?g="-ms-transform":C?g="-webkit-transform":tb?g="-o-transform":B&&(g="-moz-transform");var h;g&&(h=Xf(b,g));h||(h=Xf(b,"transform"));h?(b=h.match(kg),b=!b?new Ob(0,0):new Ob(parseFloat(b[1]),parseFloat(b[2]))):b=new Ob(0,0);c=new Ob(c.x+b.x,c.y+b.y)}}else g=qa(b.vE),h=b,b.targetTouches?h=b.targetTouches[0]:g&&b.Zb.targetTouches&&(h=b.Zb.targetTouches[0]),c.x=h.clientX,c.y=h.clientY;return c},a.lg=function(b,c,d){var e=dg(b);c instanceof
Ob&&(d=c.y,c=c.x);$f(b,b.offsetLeft+(c-e.x),b.offsetTop+(d-e.y))},a.mg=function(b,c,d){c instanceof Qb?(d=c.height,c=c.width):d==i&&f(Error("missing height argument"));b.style.width=Zf(c,j);b.style.height=Zf(d,j)},a.Zf=function(b,c){"number"==typeof b&&(b=(c?Math.round(b):b)+"px");return b},a.og=function(b){if("none"!=Xf(b,"display"))return ng(b);var c=b.style,d=c.display,e=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";b=ng(b);c.display=d;c.position=g;c.visibility=
e;return b},a.ng=function(b){var c=b.offsetWidth,d=b.offsetHeight,e=C&&!c&&!d;return(!la(c)||e)&&b.getBoundingClientRect?(b=bg(b),new Qb(b.right-b.left,b.bottom-b.top)):new Qb(c,d)},a.pg=function(b){var c=dg(b),b=og(b);return new Qf(c.x,c.y,b.width,b.height)},a.qg=function(b,c){var d=b.style;"opacity"in d?d.opacity=c:"MozOpacity"in d?d.MozOpacity=c:"filter"in d&&(d.filter=""===c?"":"alpha(opacity="+100*c+")")},a.R=function(b,c){b.style.display=c?"":"none"},a.rg=function(b){return"none"!=b.style.display},
a.eg=function(b){return"rtl"==Xf(b,"direction")},a.sg=B?"MozUserSelect":C?"WebkitUserSelect":k,a.tg=function(b,c,d){d=!d?b.getElementsByTagName("*"):k;if(sg){if(c=c?"none":"",b.style[sg]=c,d)for(var b=0,e;e=d[b];b++)e.style[sg]=c}else if(A||tb)if(c=c?"on":"",b.setAttribute("unselectable",c),d)for(b=0;e=d[b];b++)e.setAttribute("unselectable",c)},a.ug=function(b){return new Qb(b.offsetWidth,b.offsetHeight)},a.vg=function(b,c,d,e){if(/^\d+px?$/.test(c))return parseInt(c,10);var g=b.style[d],h=b.runtimeStyle[d];
b.runtimeStyle[d]=b.currentStyle[d];b.style[d]=c;c=b.style[e];b.style[d]=g;b.runtimeStyle[d]=h;return c},a.wg=function(b,c){var d=Wf(b,c);return d?vg(b,d,"left","pixelLeft"):0},a.xg=function(b){if(A){var c=wg(b,"paddingLeft"),d=wg(b,"paddingRight"),e=wg(b,"paddingTop"),b=wg(b,"paddingBottom");return new Of(e,d,b,c)}c=Vf(b,"paddingLeft");d=Vf(b,"paddingRight");e=Vf(b,"paddingTop");b=Vf(b,"paddingBottom");return new Of(parseFloat(e),parseFloat(d),parseFloat(b),parseFloat(c))},a.yg={thin:2,medium:4,
thick:6},a.zg=function(b,c){if("none"==Wf(b,c+"Style"))return 0;var d=Wf(b,c+"Width");return d in yg?yg[d]:vg(b,d,"left","pixelLeft")},a.gg=function(b){if(A){var c=zg(b,"borderLeft"),d=zg(b,"borderRight"),e=zg(b,"borderTop"),b=zg(b,"borderBottom");return new Of(e,d,b,c)}c=Vf(b,"borderLeftWidth");d=Vf(b,"borderRightWidth");e=Vf(b,"borderTopWidth");b=Vf(b,"borderBottomWidth");return new Of(parseFloat(e),parseFloat(d),parseFloat(b),parseFloat(c))},a.kg=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;a.Ag="/update",a.Bg=n;a.Cg=void 0,a.S=void 0,a.Dg=void 0,a.Eg=void 0,a.Fg=void 0,a.Gg=void 0,a.Hg=void 0,a.Ig=void 0,a.Jg=void 0,a.Kg=void 0,a.Lg=void 0,a.Mg=void 0,a.Ng=void 0,a.Og=void 0,a.Pg=void 0,a.Qg=void 0,a.Rg=void 0,a.Sg={},a.Tg={};
z.forEach(window.DZMT,function(b){var c=b[1];switch(b[0]){case "form_key":Cg=c;break;case "current_user":S=c;S.Uw=c[0];S.Ia=function(){return"-1"!==S[3]};S.Yj=c[3];S.ye=1===c[7];S.Cl=c[8];S.To=c[9];S.Nx=c[10];S.cz=c[11];S.TN=function(){return S[2].replace("_s","_is")};break;case "env":Dg={Im:c[0],fr:c[1],Oc:c[2],HF:c[3],f0:"http://static."+c[0],RF:n,i0:j};break;case "env_comet_path":Dg.fr=c;break;case "current_question":Eg={Y:c[0],Lq:c[1],cr:c[2],$m:c[3],uZ:c[4],rn:c[5],mb:c[6],Jo:c[7],j_:c[8],k0:c[9],
EZ:c[10],Xb:c[11],rV:c[12],kk:c[13],eZ:c[14],status:c[15]};break;case "current_question_owner":S.kk=c;break;case "need_first_answer_guide":S.CN=c;break;case "bio":Fg=c;break;case "current_topic":Gg=c;break;case "current_people":Hg=c;Hg.Uw=c[0];Hg.id=c[3];break;case "current_list":Ig=c;break;case "block_topic":Jg=c;break;case "draft":Kg=c.length?c:k;break;case "editing_queue":Lg=c;break;case "sina_bind_info":c.length&&(Sg.id=c[0],Sg.name=c[1]);break;case "qq_bind_info":c.length&&(Tg.id=c[0],Tg.name=
c[1]);break;case "disabled_components":Mg=c;break;case "comet_path":Ag=c;break;case "enforce_realname":Ng=c;break;case "action_ban":Og=c;break;case "admin_reasons":Pg=c;break;case "permissions":Qg=c,Rg=function(b){return z.contains(Qg,b)}}});window.DZMT=k;Eg&&(Eg.NF=n);Mg||(Mg=[]);navigator.userAgent.match(/iPad/i)&&(Dg.RF=j,Dg.Oc=j);Dg.Im&&(document.domain=Dg.Im);Dg.fr&&(Ag="http://"+Dg.fr+Ag);Dg.Oc&&window.scrollTo(0,1);a.Vg=function(b,c,d,e,g){if(!A&&(!C||!Gb("525")))return j;if(mb&&g)return Ug(b);if(g&&!e||!d&&(17==c||18==c||mb&&91==c))return n;if(C&&e&&d)switch(b){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return n}if(A&&e&&c==b)return n;switch(b){case 13:return!(A&&Ib(9));case 27:return!C}return Ug(b)},a.Ug=function(b){if(48<=b&&57>=b||96<=b&&106>=b||65<=b&&90>=b||C&&0==b)return j;switch(b){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;
default:return n}},a.Wg=function(b){switch(b){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return b}};a.Xg=function(b){var c=b.offsetLeft,d=b.offsetParent;!d&&"fixed"==Yf(b)&&(d=Tb(b).documentElement);if(!d)return c;if(B)var e=gg(d),c=c+e.left;else Ib(8)&&(e=gg(d),c-=e.left);return eg(d)?d.clientWidth-(c+b.offsetWidth):c};a.Yg=function(b,c,d){M.call(this);this.target=b;this.handle=c||b;this.Ns=d||new Qf(NaN,NaN,NaN,NaN);this.Ga=Tb(b);this.Q=new me(this);N(this.handle,["touchstart","mousedown"],this.Xm,n,this)};y(Yg,Hd);a.Zg=A||B&&Gb("1.9.3");t=Yg.prototype;t.clientX=0;t.clientY=0;t.screenX=0;t.screenY=0;t.Zt=0;t.$t=0;t.hj=0;t.ij=0;t.jc=j;t.mj=n;t.Ox=0;t.vR=0;t.SP=n;t.Oi=n;t.cg=u(52);t.g=q("Q");t.uI=function(b){this.Ox=Math.pow(b,2)};t.eb=ca("jc");
t.p=function(){Yg.m.p.call(this);yd(this.handle,["touchstart","mousedown"],this.Xm,n,this);this.Q.Qc();Zg&&this.Ga.releaseCapture();this.Q=this.handle=this.target=k};a.$g=function(b){la(b.Ef)||(b.Ef=eg(b.target));return b.Ef};
t.Xm=function(b){var c="mousedown"==b.type;if(this.jc&&!this.mj&&(!c||od(b))){ah(b);if(0==this.Ox)if(this.dispatchEvent(new bh("start",this,b.clientX,b.clientY,b)))this.mj=j,b.preventDefault();else return;else b.preventDefault();var c=this.Ga,d=c.documentElement,e=!Zg;this.Q.c(c,["touchmove","mousemove"],this.VO,e);this.Q.c(c,["touchend","mouseup"],this.Fr,e);Zg?(d.setCapture(n),this.Q.c(d,"losecapture",this.Fr)):this.Q.c(cc(c),"blur",this.Fr);A&&this.SP&&this.Q.c(c,"dragstart",jd);this.zU&&this.Q.c(this.zU,
"scroll",this.pz,e);this.clientX=this.Zt=b.clientX;this.clientY=this.$t=b.clientY;this.screenX=b.screenX;this.screenY=b.screenY;this.hj=this.Oi?Xg(this.target):this.target.offsetLeft;this.ij=this.target.offsetTop;this.Dz=Nc(Ub(this.Ga));this.vR=za()}else this.dispatchEvent("earlycancel")};
t.Fr=function(b,c){this.Q.Qc();Zg&&this.Ga.releaseCapture();if(this.mj){ah(b);this.mj=n;var d=ch(this,this.hj),e=dh(this,this.ij);this.dispatchEvent(new bh("end",this,b.clientX,b.clientY,b,d,e,c||"touchcancel"==b.type))}else this.dispatchEvent("earlycancel");("touchend"==b.type||"touchcancel"==b.type)&&b.preventDefault()};a.ah=function(b){var c=b.type;"touchstart"==c||"touchmove"==c?b.w(b.Zb.targetTouches[0],b.currentTarget):("touchend"==c||"touchcancel"==c)&&b.w(b.Zb.changedTouches[0],b.currentTarget)};
t.VO=function(b){if(this.jc){ah(b);var c=(this.Oi&&$g(this)?-1:1)*(b.clientX-this.clientX),d=b.clientY-this.clientY;this.clientX=b.clientX;this.clientY=b.clientY;this.screenX=b.screenX;this.screenY=b.screenY;if(!this.mj){var e=this.Zt-this.clientX,g=this.$t-this.clientY;if(e*e+g*g>this.Ox)if(this.dispatchEvent(new bh("start",this,b.clientX,b.clientY,b)))this.mj=j;else{this.ag||this.Fr(b);return}}d=eh(this,c,d);c=d.x;d=d.y;this.mj&&this.dispatchEvent(new bh("beforedrag",this,b.clientX,b.clientY,b,
c,d))&&(fh(this,b,c,d),b.preventDefault())}};a.eh=function(b,c,d){var e=Nc(Ub(b.Ga)),c=c+(e.x-b.Dz.x),d=d+(e.y-b.Dz.y);b.Dz=e;b.hj+=c;b.ij+=d;c=ch(b,b.hj);b=dh(b,b.ij);return new Ob(c,b)};t.pz=function(b){var c=eh(this,0,0);b.clientX=this.clientX;b.clientY=this.clientY;fh(this,b,c.x,c.y)};
a.fh=function(b,c,d,e){b.Zv(d,e);b.dispatchEvent(new bh("drag",b,c.clientX,c.clientY,c,d,e))},a.ch=function(b,c){var d=b.Ns,e=!isNaN(d.left)?d.left:k,d=!isNaN(d.width)?d.width:0;return Math.min(e!=k?e+d:Infinity,Math.max(e!=k?e:-Infinity,c))},a.dh=function(b,c){var d=b.Ns,e=!isNaN(d.top)?d.top:k,d=!isNaN(d.height)?d.height:0;return Math.min(e!=k?e+d:Infinity,Math.max(e!=k?e:-Infinity,c))};
t.Zv=function(b,c){this.Oi&&$g(this)?this.target.style.right=b+"px":this.target.style.left=b+"px";this.target.style.top=c+"px"};a.bh=function(b,c,d,e,g,h,l,m){id.call(this,b);this.clientX=d;this.clientY=e;this.QC=g;this.left=la(h)?h:c.hj;this.top=la(l)?l:c.ij;this.Ar=c;this.GZ=!!m};y(bh,id);a.gh=function(b){M.call(this);this.e=b;b=A?"focusout":"blur";this.WQ=N(this.e,A?"focusin":"focus",this,!A);this.XQ=N(this.e,b,this,!A)};y(gh,Hd);gh.prototype.handleEvent=function(b){var c=new md(b.Zb);c.type="focusin"==b.type||"focus"==b.type?"focusin":"focusout";this.dispatchEvent(c)};gh.prototype.p=function(){gh.m.p.call(this);Ad(this.WQ);Ad(this.XQ);delete this.e};a.hh=function(){};ia(hh);hh.prototype.dz=0;a.ih=function(b){return":"+(b.dz++).toString(36)};hh.F();a.T=function(b){M.call(this);this.H=b||Ub();this.Ef=jh};y(T,Hd);T.prototype.RP=hh.F();a.jh=k,a.kh=function(b,c){switch(b){case 1:return c?"disable":"enable";case 2:return c?"highlight":"unhighlight";case 4:return c?"activate":"deactivate";case 8:return c?"select":"unselect";case 16:return c?"check":"uncheck";case 32:return c?"focus":"blur";case 64:return c?"open":"close"}f(Error("Invalid component state"))};t=T.prototype;t.Gd=k;t.Ba=n;t.e=k;t.Ef=k;t.Zy=k;t.Xa=k;t.Yb=k;t.ff=k;t.zJ=n;
t.ae=function(){return this.Gd||(this.Gd=ih(this.RP))};a.lh=function(b,c){b.Xa&&b.Xa.ff&&(E.remove(b.Xa.ff,b.Gd),E.add(b.Xa.ff,c,b));b.Gd=c};t.h=q("e");t.di=function(b){return this.e?this.H.di(b,this.e):k};t.g=function(){return this.Ul||(this.Ul=new me(this))};a.nh=function(b,c){b==c&&f(Error("Unable to set parent component"));c&&(b.Xa&&b.Gd&&mh(b.Xa,b.Gd)&&b.Xa!=c)&&f(Error("Unable to set parent component"));b.Xa=c;T.m.Qt.call(b,c)};t.getParent=q("Xa");
t.Qt=function(b){this.Xa&&this.Xa!=b&&f(Error("Method not supported"));T.m.Qt.call(this,b)};t.K=q("H");t.o=function(){this.e=this.H.createElement("div")};t.Z=function(b){this.Ct(b)};t.Ct=function(b,c){this.Ba&&f(Error("Component already rendered"));this.e||this.o();b?b.insertBefore(this.e,c||k):this.H.xa().body.appendChild(this.e);(!this.Xa||this.Xa.Ba)&&this.B()};
t.n=function(b){this.Ba&&f(Error("Component already rendered"));if(b&&this.Wc(b)){this.zJ=j;if(!this.H||this.H.xa()!=Tb(b))this.H=Ub(b);this.$(b);this.B()}else f(Error("Invalid element to decorate"))};t.Wc=s(j);t.$=ca("e");t.B=function(){this.Ba=j;oh(this,function(b){!b.Ba&&b.h()&&b.B()})};t.$a=function(){oh(this,function(b){b.Ba&&b.$a()});this.Ul&&this.Ul.Qc();this.Ba=n};
t.p=function(){T.m.p.call(this);this.Ba&&this.$a();this.Ul&&(this.Ul.G(),delete this.Ul);oh(this,function(b){b.G()});!this.zJ&&this.e&&L(this.e);this.Xa=this.Zy=this.e=this.ff=this.Yb=k};t.J=function(b,c){this.Zk(b,ph(this),c)};
t.Zk=function(b,c,d){b.Ba&&(d||!this.Ba)&&f(Error("Component already rendered"));(0>c||c>ph(this))&&f(Error("Child component index out of bounds"));if(!this.ff||!this.Yb)this.ff={},this.Yb=[];b.getParent()==this?(E.set(this.ff,b.ae(),b),z.remove(this.Yb,b)):E.add(this.ff,b.ae(),b);nh(b,this);z.Co(this.Yb,b,c);b.Ba&&this.Ba&&b.getParent()==this?(d=this.ba(),d.insertBefore(b.h(),d.childNodes[c]||k)):d?(this.e||this.o(),c=qh(this,c+1),b.Ct(this.ba(),c?c.e:k)):this.Ba&&(!b.Ba&&b.e&&b.e.parentNode&&1==
b.e.parentNode.nodeType)&&b.B()};t.ba=q("e");t.Id=function(){this.Ef==k&&(this.Ef=eg(this.Ba?this.e:this.H.xa().body));return this.Ef};t.Di=function(b){this.Ba&&f(Error("Component already rendered"));this.Ef=b};a.ph=function(b){return b.Yb?b.Yb.length:0},a.mh=function(b,c){return b.ff&&c?E.get(b.ff,c)||k:k},a.qh=function(b,c){return b.Yb?b.Yb[c]||k:k},a.oh=function(b,c,d){b.Yb&&z.forEach(b.Yb,c,d)};
t.removeChild=function(b,c){if(b){var d=oa(b)?b:b.ae(),b=mh(this,d);d&&b&&(E.remove(this.ff,d),z.remove(this.Yb,b),c&&(b.$a(),b.e&&L(b.e)),nh(b,k))}b||f(Error("Child is not in parent component"));return b};t.At=function(b){for(var c=[];this.Yb&&0!=this.Yb.length;)c.push(this.removeChild(qh(this,0),b));return c};a.rh=function(b,c){M.call(this);this.ia=new me(this);this.sh(b||k);c&&(this.Li=c)};y(rh,Hd);t=rh.prototype;t.e=k;t.gl=j;t.EC=k;t.Sj=n;t.OU=n;t.Ay=-1;t.yy=-1;t.fF=n;t.rN=j;t.Li="toggle_display";t.hi=q("Li");t.h=q("e");t.sh=function(b){sh(this);this.e=b};t.Cp=u(62);a.sh=function(b){b.Sj&&f(Error("Can not change this state of the popup while showing."))};t.S=q("Sj");t.qy=u(55);t.z=function(b){this.Op&&this.Op.stop();this.vo&&this.vo.stop();b?this.HA():this.am()};t.oa=ha;
t.HA=function(){if(!this.Sj&&this.bp()){this.e||f(Error("Caller must call setElement before trying to show the popup"));this.oa();var b=Tb(this.e);this.fF&&this.ia.c(b,"keydown",this.$R,j);if(this.gl)if(this.ia.c(b,"mousedown",this.ZG,j),A){var c;try{c=b.activeElement}catch(d){}for(;c&&"IFRAME"==c.nodeName;){try{var e=c.contentDocument||c.contentWindow.document}catch(g){break}b=e;c=b.activeElement}this.ia.c(b,"mousedown",this.ZG,j);this.ia.c(b,"deactivate",this.XG)}else this.ia.c(b,"blur",this.XG);
"toggle_display"==this.Li?(this.e.style.visibility="visible",R(this.e,j)):"move_offscreen"==this.Li&&this.oa();this.Sj=j;this.Op?(xd(this.Op,"end",this.ft,n,this),this.Op.play()):this.ft()}};t.am=function(b){if(!this.Sj||!this.dispatchEvent({type:"beforehide",target:b}))return n;this.ia&&this.ia.Qc();this.Sj=n;this.yy=za();this.vo?(xd(this.vo,"end",xa(this.kD,b),n,this),this.vo.play()):this.kD(b);return j};
t.kD=function(b){"toggle_display"==this.Li?this.OU?Ld(this.gF,0,this):this.gF():"move_offscreen"==this.Li&&(this.e.style.top="-10000px");this.bk(b)};t.gF=function(){this.e.style.visibility="hidden";R(this.e,n)};t.bp=function(){return this.dispatchEvent("beforeshow")};t.ft=function(){this.Ay=za();this.yy=-1;this.dispatchEvent("show")};t.bk=function(b){this.dispatchEvent({type:"hide",target:b})};t.ZG=function(b){b=b.target;!uc(this.e,b)&&((!this.EC||uc(this.EC,b))&&!(150>za()-this.Ay))&&this.am(b)};
t.$R=function(b){27==b.keyCode&&this.am(b.target)&&(b.preventDefault(),b.stopPropagation())};t.XG=function(b){if(this.rN){var c=Tb(this.e);if(A||tb){if(b=c.activeElement,!b||uc(this.e,b)||"BODY"==b.tagName)return}else if(b.target!=c)return;150>za()-this.Ay||this.am()}};t.p=function(){rh.m.p.call(this);this.ia.G();Vc(this.Op);Vc(this.vo);delete this.e;delete this.ia};a.th=function(b,c){T.call(this,c);this.jW=!!b};y(th,T);t=th.prototype;t.Nw=k;t.ob=n;t.Vc=k;t.Gc=k;t.Mf=k;t.O=s("goog-modalpopup");t.fo=q("Vc");t.o=function(){th.m.o.call(this);var b=this.h();D.add(b,this.O());Fc(b,j);R(b,n);this.Ny();uh(this)};
t.Ny=function(){this.jW&&!this.Gc&&(this.Gc=this.K().o("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'}),this.Gc.className=this.O()+"-bg",R(this.Gc,n),qg(this.Gc,0));this.Vc||(this.Vc=this.K().o("div",this.O()+"-bg"),R(this.Vc,n))};a.uh=function(b){b.Mf||(b.Mf=b.K().createElement("span"),R(b.Mf,n),Fc(b.Mf,j),b.Mf.style.position="absolute")};t.Wc=function(b){return!!b&&"DIV"==b.tagName};
t.$=function(b){th.m.$.call(this,b);D.add(this.h(),this.O());this.Ny();uh(this);R(this.h(),n)};t.B=function(){this.Gc&&lc(this.Gc,this.h());lc(this.Vc,this.h());th.m.B.call(this);mc(this.Mf,this.h());this.Nw=new gh(this.K().xa());this.g().c(this.Nw,"focusin",this.eS)};t.$a=function(){this.S()&&this.z(n);Vc(this.Nw);th.m.$a.call(this);L(this.Gc);L(this.Vc);L(this.Mf)};
t.z=function(b){b!=this.ob&&(this.zm&&this.zm.stop(),this.yn&&this.yn.stop(),this.ym&&this.ym.stop(),this.xn&&this.xn.stop(),b?this.HA():this.am())};t.HA=function(){this.dispatchEvent("beforeshow")&&(this.aA(),this.oa(),this.g().c(this.K().Ta(),"resize",this.aA),vh(this,j),this.focus(),this.ob=j,this.zm&&this.yn?(xd(this.zm,"end",this.vi,n,this),this.yn.play(),this.zm.play()):this.vi())};
t.am=function(){this.dispatchEvent("beforehide")&&(this.g().wa(this.K().Ta(),"resize",this.aA),this.ob=n,this.ym&&this.xn?(xd(this.ym,"end",this.rm,n,this),this.xn.play(),this.ym.play()):this.rm())};a.vh=function(b,c){b.Gc&&R(b.Gc,c);b.Vc&&R(b.Vc,c);R(b.h(),c);R(b.Mf,c)};t.vi=function(){this.dispatchEvent("show")};t.rm=function(){vh(this,n);this.dispatchEvent("hide")};t.S=q("ob");t.focus=function(){this.nE()};
t.aA=function(){this.Gc&&R(this.Gc,n);this.Vc&&R(this.Vc,n);var b=this.K().xa(),c=$b(cc(b)||window),d=Math.max(c.width,Math.max(b.body.scrollWidth,b.documentElement.scrollWidth)),b=Math.max(c.height,Math.max(b.body.scrollHeight,b.documentElement.scrollHeight));this.Gc&&(R(this.Gc,j),mg(this.Gc,d,b));this.Vc&&(R(this.Vc,j),mg(this.Vc,d,b))};
t.oa=function(){var b=this.K().xa(),c=cc(b)||window;if("fixed"==Yf(this.h()))var d=b=0;else d=Nc(this.K()),b=d.x,d=d.y;var e=og(this.h()),c=$b(c),b=Math.max(b+c.width/2-e.width/2,0),d=Math.max(d+c.height/2-e.height/2,0);$f(this.h(),b,d);$f(this.Mf,b,d)};t.eS=function(b){b.target==this.Mf&&Ld(this.nE,0,this)};t.nE=function(){try{A&&this.K().xa().body.focus(),this.h().focus()}catch(b){}};t.p=function(){Vc(this.zm);this.zm=k;Vc(this.ym);this.ym=k;Vc(this.yn);this.yn=k;Vc(this.xn);this.xn=k;th.m.p.call(this)};a.wh=function(b,c,d){th.call(this,c,d);this.Hc=b||"modal-dialog"};y(wh,th);t=wh.prototype;t.xN=j;t.uo=j;t.Yy=j;t.VD=j;t.Oq=0.5;t.ju="";t.vc="";t.Db=k;t.jw=n;t.Cc=k;t.Qf=k;t.iu=k;t.Pf=k;t.He=k;t.gc=k;t.hk=Xc.VJ;t.O=q("Hc");t.fb=function(b){this.ju=b;this.Qf&&zc(this.Qf,b)};t.Oa=function(b){this.vc=b;this.He&&(this.He.innerHTML=b)};t.ib=q("vc");t.Ip=u(18);a.xh=function(b){b.h()||b.Z()};t.ba=function(){xh(this);return this.He};a.yh=function(b){xh(b);return b.Cc};t.Xw=function(){xh(this);return this.gc};
a.zh=function(b){xh(b);return b.h()};t.fo=function(){xh(this);return wh.m.fo.call(this)};
a.Ah=function(b,c){b.Oq=c;if(b.h()){var d=b.fo();d&&qg(d,b.Oq)}},a.Ch=function(b,c){c!=b.Yy&&Bh(b,c)},a.Bh=function(b,c){b.Yy=c;if(b.Ba){var d=b.K(),e=b.fo(),g=b.Gc;c?(g&&d.Do(g,b.h()),d.Do(e,b.h())):(d.removeNode(g),d.removeNode(e))}},a.Dh=function(b,c){b.h()&&D.enable(b.Cc,b.Hc+"-title-draggable",c);c&&!b.Db?(b.Db=new Yg(b.h(),b.Cc),D.add(b.Cc,b.Hc+"-title-draggable"),N(b.Db,"start",b.HU,n,b)):!c&&b.Db&&(b.Db.G(),b.Db=k)};
t.o=function(){wh.m.o.call(this);var b=this.h(),c=this.K();this.Cc=c.o("div",{className:this.Hc+"-title",id:this.ae()},this.Qf=c.o("span",this.Hc+"-title-text",this.ju),this.Pf=c.o("span",this.Hc+"-title-close"));jc(b,this.Cc,this.He=c.o("div",this.Hc+"-content"),this.gc=c.o("div",this.Hc+"-buttons"));this.iu=this.Cc.id;Oc(b,this.hk);Pc(b,"labelledby",this.iu||"");this.vc&&(this.He.innerHTML=this.vc);R(this.Pf,this.uo);this.uc&&(b=this.uc,b.e=this.gc,b.Z());R(this.gc,!!this.uc);Ah(this,this.Oq)};
t.$=function(b){wh.m.$.call(this,b);b=this.Hc+"-content";(this.He=Wb(k,b,this.h())[0])?this.vc=this.He.innerHTML:(this.He=this.K().o("div",b),this.vc&&(this.He.innerHTML=this.vc),this.h().appendChild(this.He));var b=this.Hc+"-title",c=this.Hc+"-title-text",d=this.Hc+"-title-close";(this.Cc=Wb(k,b,this.h())[0])?(this.Qf=Wb(k,c,this.Cc)[0],this.Pf=Wb(k,d,this.Cc)[0],this.Cc.id||(this.Cc.id=this.ae())):(this.Cc=this.K().o("div",{className:b,id:this.ae()}),this.h().insertBefore(this.Cc,this.He));this.iu=
this.Cc.id;this.Qf?this.ju=Hc(this.Qf):(this.Qf=this.K().o("span",c,this.ju),this.Cc.appendChild(this.Qf));Pc(this.h(),"labelledby",this.iu||"");this.Pf||(this.Pf=this.K().o("span",d),this.Cc.appendChild(this.Pf));R(this.Pf,this.uo);b=this.Hc+"-buttons";(this.gc=Wb(k,b,this.h())[0])?(this.uc=new Eh(this.K()),this.uc.n(this.gc)):(this.gc=this.K().o("div",b),this.h().appendChild(this.gc),this.uc&&(b=this.uc,b.e=this.gc,b.Z()),R(this.gc,!!this.uc));Ah(this,this.Oq)};
t.B=function(){wh.m.B.call(this);this.g().c(this.h(),"keydown",this.ip).c(this.h(),"keypress",this.ip);this.g().c(this.gc,"click",this.SR);Dh(this,this.VD);this.g().c(this.Pf,"click",this.OS);Oc(this.h(),this.hk);""!==this.Qf.id&&Pc(this.h(),"labelledby",this.Qf.id);this.Yy||Bh(this,n)};t.$a=function(){this.S()&&this.z(n);Dh(this,n);wh.m.$a.call(this)};t.z=function(b){b!=this.S()&&(this.Ba||this.Z(),wh.m.z.call(this,b))};t.vi=function(){wh.m.vi.call(this);this.dispatchEvent(Fh)};
t.rm=function(){wh.m.rm.call(this);this.dispatchEvent(Gh);this.jw&&this.G()};t.focus=function(){wh.m.focus.call(this);if(this.uc){var b=this.uc.tr;if(b)for(var c=this.K().xa(),d=this.gc.getElementsByTagName("button"),e=0,g;g=d[e];e++)if(g.name==b){try{if(C||tb){var h=c.createElement("input");h.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.h().appendChild(h);h.focus();this.h().removeChild(h)}g.focus()}catch(l){}break}}};
t.HU=function(){var b=this.K().xa(),c=$b(cc(b)||window),d=Math.max(b.body.scrollWidth,c.width),b=Math.max(b.body.scrollHeight,c.height),e=og(this.h());"fixed"==Yf(this.h())?(c=new Qf(0,0,Math.max(0,c.width-e.width),Math.max(0,c.height-e.height)),this.Db.Ns=c||new Qf(NaN,NaN,NaN,NaN)):this.Db.Ns=new Qf(0,0,d-e.width,b-e.height)||new Qf(NaN,NaN,NaN,NaN)};t.OS=function(){if(this.uo){var b=this.uc,c=b&&b.Cv;c?(b=b.get(c),this.dispatchEvent(new Hh(c,b))&&this.z(n)):this.z(n)}};
t.Pt=function(b){this.uo=b;this.Pf&&R(this.Pf,this.uo)};t.p=function(){this.gc=this.Pf=k;wh.m.p.call(this)};a.Ih=function(b,c){b.uc=c;if(b.gc){if(b.uc){var d=b.uc;d.e=b.gc;d.Z()}else b.gc.innerHTML="";R(b.gc,!!b.uc)}};t.SR=function(b){a:{for(b=b.target;b!=k&&b!=this.gc;){if("BUTTON"==b.tagName)break a;b=b.parentNode}b=k}if(b&&!b.disabled){var b=b.name,c=this.uc.get(b);this.dispatchEvent(new Hh(b,c))&&this.z(n)}};
t.ip=function(b){var c=n,d=n,e=this.uc,g=b.target;if("keydown"==b.type)if(this.xN&&27==b.keyCode){var h=e&&e.Cv,g="SELECT"==g.tagName&&!g.disabled;h&&!g?(d=j,c=e.get(h),c=this.dispatchEvent(new Hh(h,c))):g||(c=j)}else 9==b.keyCode&&(b.shiftKey&&g==this.h())&&(d=j);else if(13==b.keyCode){if("BUTTON"==g.tagName)h=g.name;else if(e){var l=e.tr,m=l&&e.Yc(l),g=("TEXTAREA"==g.tagName||"SELECT"==g.tagName||"A"==g.tagName)&&!g.disabled;m&&(!m.disabled&&!g)&&(h=l)}h&&e&&(d=j,c=this.dispatchEvent(new Hh(h,String(e.get(h)))))}if(c||
d)b.stopPropagation(),b.preventDefault();c&&this.z(n)};a.Hh=function(b,c){this.type=Jh;this.key=b;this.caption=c};y(Hh,id);a.Jh="dialogselect",a.Gh="afterhide",a.Fh="aftershow",a.Eh=function(b){this.H=b||Ub();Od.call(this)},a.Kh=void 0;y(Eh,Od);t=Eh.prototype;t.Hc="goog-buttonset";t.tr=k;t.e=k;t.Cv=k;t.set=function(b,c,d,e){Od.prototype.set.call(this,b,c);d&&(this.tr=b);e&&(this.Cv=b);return this};t.ze=function(b,c,d){return this.set(b.key,b.caption,c,d)};
t.Z=function(){if(this.e){this.e.innerHTML="";var b=Ub(this.e);Md.forEach(this,function(c,d){var e=b.o("button",{name:d},c);d==this.tr&&(e.className=this.Hc+"-default");this.e.appendChild(e)},this)}};t.n=function(b){if(b&&1==b.nodeType){this.e=b;for(var b=this.e.getElementsByTagName("button"),c=0,d,e,g;d=b[c];c++)if(e=d.name||d.id,g=Hc(d)||d.value,e){var h=0==c;this.set(e,g,h,d.name==Lh);h&&D.add(d,this.Hc+"-default")}}};t.h=q("e");t.K=q("H");
t.Yc=function(b){for(var c=this.e.getElementsByTagName("BUTTON"),d=0,e;e=c[d];d++)if(e.name==b||e.id==b)return e;return k};a.Lh="cancel",a.Mh={aY:"ok",RJ:Lh,JK:"yes",ZX:"no",wY:"save",$W:"continue"},a.Nh=w("确定"),a.Oh=w("取消"),a.Ph=w("Yes"),a.Qh=w("No"),a.Rh=w("Save"),a.Sh=w("Continue"),a.Th={key:"ok",caption:Nh},a.Uh={key:Lh,caption:Oh},a.Vh={key:"yes",caption:Ph},a.Wh={key:"no",caption:Qh},a.Xh={key:"save",caption:Rh},a.Yh={key:"continue",caption:Sh};
"undefined"!=typeof document&&((new Eh).ze(Th,j,j),Kh=(new Eh).ze(Uh,n,j).ze(Th,j),(new Eh).ze(Vh,j).ze(Wh,n,j),(new Eh).ze(Vh).ze(Wh,j).ze(Uh,n,j),(new Eh).ze(Yh).ze(Xh).ze(Uh,j,j));a.Zh=void 0,a.$h=void 0,a.ai=void 0,a.bi=void 0,a.ci=void 0,a.di=void 0,a.ei=void 0;ei=di=ci=bi=ai=$h=Zh=n;a.fi=pb();fi&&(-1!=fi.indexOf("Firefox")?Zh=j:-1!=fi.indexOf("Camino")?$h=j:-1!=fi.indexOf("iPhone")||-1!=fi.indexOf("iPod")?ai=j:-1!=fi.indexOf("iPad")?bi=j:-1!=fi.indexOf("Android")?ci=j:-1!=fi.indexOf("Chrome")?di=j:-1!=fi.indexOf("Safari")&&(ei=j));a.gi=Zh,a.hi=$h,a.ii=ai,a.ji=bi,a.ki=ci,a.li=di,a.mi=ei;a.ni=void 0,a.oi=void 0,a.pi=void 0,a.qi=void 0,a.ri=ii||ji,a.si=ri&&navigator.userAgent.match(/OS\s(\w+)/)[1].slice(0,3).replace(/_/g,".");ni="contentEditable"in document.documentElement&&!(ri&&5>si)&&!(ki&&3>navigator.userAgent.match(/Android (\d)/)[1]);a.ti=$(document.documentElement);oi="ontouchstart"in window;ti.addClass(ub?"mobile":"no-mobile");pi=ri&&6<=si||!ub;document.createElement("input");qi=1.5<=window.devicePixelRatio;window.JSON||(window.JSON={parse:Yc,stringify:ad});a.ui=void 0;
"orientation"in window&&(ui=function(){var b={"0":"portrait",90:"landscape landscape-left","-90":"landscape landscape-right"},c=b[window.orientation]||"";ti.removeClass(E.Ka(b).join(" ")).addClass(c)},$(window).on("orientationchange",ui),ui());$.support.fixedPosition=j;a:{var vi=document.createElement("bootstrap"),wi={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"},xi;for(xi in wi)if(vi.style[xi]!==i)break a};a.yi=function(b,c,d){wh.call(this,b,c,d)};y(yi,wh);t=yi.prototype;t.CJ=k;t.B=function(){var b=!oi;this.VD=b;Dh(this,b&&this.Ba);yi.m.B.call(this);this.gl&&zi(this);this.Fi(this.CJ)};a.zi=function(b){b.gl&&b.g().c(b.Vc||b.Gc,"click",function(){this.gl&&this.z(n)})};t.Cp=u(61);t.oa=function(){yi.m.oa.call(this);if(!this.LN){var b=$(this.h()),c=$(window).scrollTop(),c=ub&&!ji?c:"-="+Math.min(b.offset().top-c,60)+"px";b.add(this.Mf).css("top",c)}};
t.Fi=function(b){if(this.e&&(this.Ba&&pa(b))&&(!ub||ji))this.e.style.width=Zf(b,j),this.CJ=b;oa(b)&&(this.e.style.width=b);return this};a.Ci=function(b,c,d,e){ra(b)?(e=d,d=c):b={title:b,content:c};qa(d)||(d=ha);var g=$.extend({},Ai,b),h=Bi=Bi||new yi;(c=g.$i.length)?(b=new Eh,1<c?b.set(Lh,g.$i[0],n,j).set("yes",g.$i[1],j):b.set("yes",g.$i[0],j),Ih(h,b),h.Xw(),b.Yc("yes").className="zg-btn-blue",b.Yc(Lh)&&(b.Yc(Lh).className="zg-link-btn zm-command-cancel")):Ih(h,k);D.enable(zh(h),"with-button",!!c);Cd(h);h.on(Gh,function(){D.remove(h.h(),g.className)}).on(Jh,function(b){return d.call(e||h,"yes"===b.key)});D.add(zh(h),g.className);
h.fb(g.title);Ch(h,g.AG);h.Oa(g.content);h.z(g.open);return h},a.Bi=void 0,a.Ai={open:j,AG:n,title:"确认",content:"",className:"",$i:["取消","确认"]},a.U=function(b,c){if(b){var d=Ci({title:"提示信息",content:Oa(b),$i:[],className:"no-close-button"});setTimeout(function(){d.z(n)},c||3E3)}};a.V=function(b){xe.call(this);this.WU=!!b;this.headers.set("AuthToken",Cg);this.headers.set("X-Requested-With","XMLHttpRequest");this.on("complete",this.mO,n,this)},a.Di=void 0;y(V,xe);a.Ei=function(b,c,d,e){var g=new V;if(c)g.on("complete",c);g.ajax(b,e,d)},a.Fi=/#.*$/,a.Gi={"text/html":"html","text/plain":"text","application/json":"json","application/javascript":"script","application/x-javascript":"script"},a.Hi=[];
V.prototype.mO=function(){R(Ii(),n);var b=this.getResponseHeader("content-type");if(b){var c=Gi[b.split(";")[0].toLowerCase()];if(c&&Hi.length){var d=He(this);z.forEach(Hi,function(b){b.xW===c&&b.filter("json"===c?JSON.parse(d):d)},this)}}};V.prototype.ajax=function(b,c,d){b=encodeURI(decodeURI(b));b=b.replace(Fi,"");if(!this.ea){this.WU&&R(Ii(),j);d=d||"POST";if("POST"===d.toUpperCase()){var e=Nf.get("_xsrf");e&&(c=(c?c+"&_xsrf=":"_xsrf=")+e)}return this.send(b,d,c,this.headers)}};
a.Ii=function(){if(Di)return Di;var b=K("div",{id:"zh-global-spinner",style:"display:none",innerHTML:"加载中…"});document.body.appendChild(b);return Di=b};a.Ji=function(){M.call(this)};y(Ji,Hd);Ji.prototype.g=function(){return this.ji||(this.ji=new me(this))};a.Ki=new Ji;Hd.prototype.on=function(){Hd.prototype.addEventListener.apply(this,arguments);return this};Hd.prototype.off=function(){Hd.prototype.removeEventListener.apply(this,arguments);return this};Hd.prototype.V=Hd.prototype.dispatchEvent;a.Li=function(){};a.Mi=function(){};y(Mi,Li);Mi.prototype.Wa=function(){var b=0;O.forEach(this.hd(j),function(){b++});return b};Mi.prototype.clear=function(){var b=O.toArray(this.hd(j)),c=this;z.forEach(b,function(b){c.remove(b)})};a.Ni=function(b){this.wh=b};y(Ni,Mi);t=Ni.prototype;t.ky=function(){try{return!!this.wh&&!!this.wh.getItem}catch(b){}return n};t.set=function(b,c){try{this.wh.setItem(b,c)}catch(d){f("Storage mechanism: Quota exceeded")}};t.get=function(b){b=this.wh.getItem(b);!oa(b)&&b!==k&&f("Storage mechanism: Invalid value was encountered");return b};t.remove=function(b){this.wh.removeItem(b)};t.Wa=function(){return this.wh.length};
t.hd=function(b){var c=0,d=this.wh,e=new Nd;e.next=function(){c>=d.length&&f(O.gb);var e=d.key(c++);if(b)return e;e=d.getItem(e);oa(e)||f("Storage mechanism: Invalid value was encountered");return e};return e};t.clear=function(){this.wh.clear()};a.Oi=function(){var b=k;try{b=window.localStorage||k}catch(c){}this.wh=b};y(Oi,Ni);a.Qi=function(b,c){if(A&&!Ib(9)){Pi||(Pi=new Od);this.wd=Pi.get(b);this.wd||(c?this.wd=document.getElementById(c):(this.wd=document.createElement("userdata"),this.wd.addBehavior("#default#userData"),document.body.appendChild(this.wd)),Pi.set(b,this.wd));this.XA=b;try{this.wd.load(this.XA)}catch(d){this.wd=k}}};y(Qi,Mi);a.Ri={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},a.Pi=k;t=Qi.prototype;t.wd=k;t.XA=k;
a.Si=function(b){return"_"+encodeURIComponent(b).replace(/[.!~*'()%]/g,function(b){return Ri[b]})};t.ky=function(){return!!this.wd};t.set=function(b,c){this.wd.setAttribute(Si(b),c);Ti(this)};t.get=function(b){b=this.wd.getAttribute(Si(b));!oa(b)&&b!==k&&f("Storage mechanism: Invalid value was encountered");return b};t.remove=function(b){this.wd.removeAttribute(Si(b));Ti(this)};t.Wa=function(){return Ui(this).attributes.length};
t.hd=function(b){var c=0,d=Ui(this).attributes,e=new Nd;e.next=function(){c>=d.length&&f(O.gb);var e=d[c++];if(b)return decodeURIComponent(e.nodeName.replace(/\./g,"%")).substr(1);e=e.nodeValue;oa(e)||f("Storage mechanism: Invalid value was encountered");return e};return e};t.clear=function(){for(var b=Ui(this),c=b.attributes.length;0<c;c--)b.removeAttribute(b.attributes[c-1].nodeName);Ti(this)};a.Ti=function(b){try{b.wd.save(b.XA)}catch(c){f("Storage mechanism: Quota exceeded")}},a.Ui=function(b){return b.wd.XMLDocument.documentElement};a.Vi=function(b,c){this.km=b;this.ik=c+"::"};y(Vi,Mi);t=Vi.prototype;t.km=k;t.ik="";t.set=function(b,c){this.km.set(this.ik+b,c)};t.get=function(b){return this.km.get(this.ik+b)};t.remove=function(b){this.km.remove(this.ik+b)};t.hd=function(b){var c=this.km.hd(j),d=this,e=new Nd;e.next=function(){for(var e=c.next();e.substr(0,d.ik.length)!=d.ik;)e=c.next();return b?e.substr(d.ik.length):d.km.get(e)};return e};a.Wi=function(b){var c=new Oi;return c.ky()?b?new Vi(c,b):c:k},a.Xi=function(b){b=new Qi(b||"UserDataSharedStore");return b.ky()?b:k};a.Yi=Wi(i)||Xi(i);a.vf=function(b,c){var d;b instanceof vf?(this.Pe=la(c)?c:b.Pe,Zi(this,b.zi),$i(this,b.hq),aj(this,b.lj),bj(this,b.Am),cj(this,b.yg),dj(this,b.Lc().clone()),ej(this,b.eo)):b&&(d=String(b).match(we))?(this.Pe=!!c,Zi(this,d[1]||"",j),$i(this,d[2]||"",j),aj(this,d[3]||"",j),bj(this,d[4]),cj(this,d[5]||"",j),dj(this,d[6]||"",j),ej(this,d[7]||"",j)):(this.Pe=!!c,this.Ld=new fj(k,0,this.Pe))};t=vf.prototype;t.zi="";t.hq="";t.lj="";t.Am=k;t.yg="";t.eo="";t.HQ=n;t.Pe=n;
t.toString=function(){var b=[],c=this.zi;c&&b.push(gj(c,hj),":");if(c=this.lj){b.push("//");var d=this.hq;d&&b.push(gj(d,hj),"@");b.push(encodeURIComponent(String(c)));c=this.Am;c!=k&&b.push(":",String(c))}if(c=this.yg)this.lj&&"/"!=c.charAt(0)&&b.push("/"),b.push(gj(c,"/"==c.charAt(0)?ij:jj));(c=this.Ld.toString())&&b.push("?",c);(c=this.eo)&&b.push("#",gj(c,kj));return b.join("")};
t.resolve=function(b){var c=this.clone(),d=!!b.zi;d?Zi(c,b.zi):d=!!b.hq;d?$i(c,b.hq):d=!!b.lj;d?aj(c,b.lj):d=b.Am!=k;var e=b.yg;if(d)bj(c,b.Am);else if(d=!!b.yg){if("/"!=e.charAt(0))if(this.lj&&!this.yg)e="/"+e;else{var g=c.yg.lastIndexOf("/");-1!=g&&(e=c.yg.substr(0,g+1)+e)}g=e;if(".."==g||"."==g)e="";else if(!Wa(g,"./")&&!Wa(g,"/."))e=g;else{for(var e=Fa(g,"/"),g=g.split("/"),h=[],l=0;l<g.length;){var m=g[l++];"."==m?e&&l==g.length&&h.push(""):".."==m?((1<h.length||1==h.length&&""!=h[0])&&h.pop(),
e&&l==g.length&&h.push("")):(h.push(m),e=j)}e=h.join("/")}}d?cj(c,e):d=""!==b.Ld.toString();d?dj(c,b.Ld.toString()?decodeURIComponent(b.Ld.toString()):""):d=!!b.eo;d&&ej(c,b.eo);return c};t.clone=function(){return new vf(this)};
a.Zi=function(b,c,d){lj(b);b.zi=d?c?decodeURIComponent(c):"":c;b.zi&&(b.zi=b.zi.replace(/:$/,""))},a.$i=function(b,c,d){lj(b);b.hq=d?c?decodeURIComponent(c):"":c},a.aj=function(b,c,d){lj(b);b.lj=d?c?decodeURIComponent(c):"":c},a.bj=function(b,c){lj(b);c?(c=Number(c),(isNaN(c)||0>c)&&f(Error("Bad port number "+c)),b.Am=c):b.Am=k},a.uf=function(b){return b.yg},a.cj=function(b,c,d){lj(b);b.yg=d?c?decodeURIComponent(c):"":c},a.dj=function(b,c,d){lj(b);c instanceof fj?(b.Ld=c,b.Ld.qA(b.Pe)):(d||(c=gj(c,
mj)),b.Ld=new fj(c,0,b.Pe))};t.Lc=q("Ld");a.ej=function(b,c,d){lj(b);b.eo=d?c?decodeURIComponent(c):"":c},a.lj=function(b){b.HQ&&f(Error("Tried to modify a read-only Uri"))};t.qA=function(b){this.Pe=b;this.Ld&&this.Ld.qA(b);return this};
a.gj=function(b,c){return oa(b)?encodeURI(b).replace(c,nj):k},a.nj=function(b){b=b.charCodeAt(0);return"%"+(b>>4&15).toString(16)+(b&15).toString(16)},a.hj=/[#\/\?@]/g,a.jj=/[\#\?:]/g,a.ij=/[\#\?]/g,a.mj=/[\#\?@]/g,a.kj=/#/g,a.fj=function(b,c,d){this.Wd=b||k;this.Pe=!!d},a.pj=function(b){if(!b.Jb&&(b.Jb=new Od,b.ma=0,b.Wd))for(var c=b.Wd.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),g=k,h=k;0<=e?(g=c[d].substring(0,e),h=c[d].substring(e+1)):g=c[d];g=decodeURIComponent(g.replace(/\+/g," "));
g=oj(b,g);b.add(g,h?decodeURIComponent(h.replace(/\+/g," ")):"")}};t=fj.prototype;t.Jb=k;t.ma=k;t.Wa=function(){pj(this);return this.ma};t.add=function(b,c){pj(this);this.Wd=k;var b=oj(this,b),d=this.Jb.get(b);d||this.Jb.set(b,d=[]);d.push(c);this.ma++;return this};t.remove=function(b){pj(this);b=oj(this,b);return this.Jb.Qd(b)?(this.Wd=k,this.ma-=this.Jb.get(b).length,this.Jb.remove(b)):n};t.clear=function(){this.Jb=this.Wd=k;this.ma=0};t.Ib=function(){pj(this);return 0==this.ma};
t.Qd=function(b){pj(this);b=oj(this,b);return this.Jb.Qd(b)};t.Og=function(b){var c=this.Ka();return z.contains(c,b)};t.Gb=function(){pj(this);for(var b=this.Jb.Ka(),c=this.Jb.Gb(),d=[],e=0;e<c.length;e++)for(var g=b[e],h=0;h<g.length;h++)d.push(c[e]);return d};t.Ka=function(b){pj(this);var c=[];if(b)this.Qd(b)&&(c=z.concat(c,this.Jb.get(oj(this,b))));else for(var b=this.Jb.Ka(),d=0;d<b.length;d++)c=z.concat(c,b[d]);return c};
t.set=function(b,c){pj(this);this.Wd=k;b=oj(this,b);this.Qd(b)&&(this.ma-=this.Jb.get(b).length);this.Jb.set(b,[c]);this.ma++;return this};t.get=function(b,c){var d=b?this.Ka(b):[];return 0<d.length?String(d[0]):c};t.toString=function(){if(this.Wd)return this.Wd;if(!this.Jb)return"";for(var b=[],c=this.Jb.Gb(),d=0;d<c.length;d++)for(var e=c[d],g=encodeURIComponent(String(e)),e=this.Ka(e),h=0;h<e.length;h++){var l=g;""!==e[h]&&(l+="="+encodeURIComponent(String(e[h])));b.push(l)}return this.Wd=b.join("&")};
t.clone=function(){var b=new fj;b.Wd=this.Wd;this.Jb&&(b.Jb=this.Jb.clone(),b.ma=this.ma);return b};a.oj=function(b,c){var d=String(c);b.Pe&&(d=d.toLowerCase());return d};t.qA=function(b){b&&!this.Pe&&(pj(this),this.Wd=k,Md.forEach(this.Jb,function(b,d){var e=d.toLowerCase();d!=e&&(this.remove(d),this.remove(e),0<b.length&&(this.Wd=k,this.Jb.set(oj(this,e),z.clone(b)),this.ma+=b.length))},this));this.Pe=b};
t.extend=function(b){for(var c=0;c<arguments.length;c++)Md.forEach(arguments[c],function(b,c){this.add(c,b)},this)};a.qj=function(b){var c=b.Dc;c.category&&c.action&&W(c.category,b.type.replace("!","")+"_"+c.action,c.label,c.value)},a.W=function(b,c,d,e,g){window._gaq||(window._gaq=[]);"feed"===b&&Wa(window.location.href,"topstory")&&(b="topstory");var h=$("#zh-question-list");"feed"===b&&h.length&&"topstory"===h.attr("data-feedtype")&&(b="topstory");d&&(d=""+d);e&&(e=parseInt(e,10));window._gaq.push(["_trackEvent",b,c,d,e,!!g]);!Wa(location.host,"zhihu.com")&&window.console&&console.log("trackEvent(new)",z.toArray(arguments))};a.rj=void 0;
rj={ZJ:["BC","AD"],YJ:["Before Christ","Anno Domini"],hK:"JFMAMJJASOND".split(""),uK:"JFMAMJJASOND".split(""),gK:"January February March April May June July August September October November December".split(" "),kn:"January February March April May June July August September October November December".split(" "),rK:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),wK:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),IK:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),yK:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
$B:"Sun Mon Tue Wed Thu Fri Sat".split(" "),xK:"Sun Mon Tue Wed Thu Fri Sat".split(" "),TB:"SMTWTFS".split(""),vK:"SMTWTFS".split(""),sK:["Q1","Q2","Q3","Q4"],jK:["1st quarter","2nd quarter","3rd quarter","4th quarter"],PJ:["AM","PM"],QB:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],BK:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Ku:6,Qu:[5,6],Lu:5};a.sj=function(b,c){switch(c){case 1:return 0==b%4&&(0!=b%100||0==b%400)?29:28;case 5:case 8:case 10:case 3:return 30}return 31},a.uj=function(b,c,d){pa(b)?(this.aa=new Date(b,c||0,d||1),tj(this,d||1)):ra(b)?(this.aa=new Date(b.getFullYear(),b.getMonth(),b.getDate()),tj(this,b.getDate())):(this.aa=new Date(za()),this.aa.setHours(0),this.aa.setMinutes(0),this.aa.setSeconds(0),this.aa.setMilliseconds(0))};t=uj.prototype;t.Wg=rj.Ku;t.Hl=rj.Lu;
t.clone=function(){var b=new uj(this.aa);b.Wg=this.Wg;b.Hl=this.Hl;return b};t.getFullYear=function(){return this.aa.getFullYear()};t.getYear=function(){return this.getFullYear()};t.getMonth=function(){return this.aa.getMonth()};t.getDate=function(){return this.aa.getDate()};t.getTime=function(){return this.aa.getTime()};t.getDay=u(49);t.getUTCHours=function(){return this.aa.getUTCHours()};t.getTimezoneOffset=function(){return this.aa.getTimezoneOffset()};
a.vj=function(b){b=b.getTimezoneOffset();if(0==b)b="Z";else var c=Math.abs(b)/60,d=Math.floor(c),c=60*(c-d),b=(0<b?"-":"+")+bb(d)+":"+bb(c);return b};t.set=function(b){this.aa=new Date(b.getFullYear(),b.getMonth(),b.getDate())};t.setFullYear=function(b){this.aa.setFullYear(b)};t.setMonth=function(b){this.aa.setMonth(b)};t.setDate=function(b){this.aa.setDate(b)};t.setTime=u(36);
t.add=function(b){if(b.se||b.ke){var c=this.getMonth()+b.ke+12*b.se,d=this.getYear()+Math.floor(c/12),c=c%12;0>c&&(c+=12);var e=Math.min(sj(d,c),this.getDate());this.setDate(1);this.setFullYear(d);this.setMonth(c);this.setDate(e)}b.Rd&&(c=new Date(this.getYear(),this.getMonth(),this.getDate(),12),b=new Date(c.getTime()+864E5*b.Rd),this.setDate(1),this.setFullYear(b.getFullYear()),this.setMonth(b.getMonth()),this.setDate(b.getDate()),tj(this,b.getDate()))};
t.Ik=function(b,c){return[this.getFullYear(),bb(this.getMonth()+1),bb(this.getDate())].join(b?"-":"")+(c?vj(this):"")};t.eg=function(b){return this.getYear()==b.getYear()&&this.getMonth()==b.getMonth()&&this.getDate()==b.getDate()};t.toString=function(){return this.Ik()};a.tj=function(b,c){if(b.getDate()!=c){var d=b.getDate()<c?1:-1;b.aa.setUTCHours(b.aa.getUTCHours()+d)}};t.valueOf=function(){return this.aa.valueOf()};a.xj=function(){M.call(this);this.da=wj;this.Yn=this.startTime=k};y(xj,Hd);a.wj=0;xj.prototype.si=function(){this.Td("begin")};xj.prototype.ti=function(){this.Td("end")};xj.prototype.Td=function(b){this.dispatchEvent(b)};a.yj=function(b,c,d){M.call(this);this.Vj=b;this.eh=c||0;this.ia=d;this.Bv=v(this.Vg,this)};y(yj,M);t=yj.prototype;t.Gd=0;t.p=function(){yj.m.p.call(this);this.stop();delete this.Vj;delete this.ia};t.start=function(b){this.stop();this.Gd=Ld(this.Bv,la(b)?b:this.eh)};t.stop=function(){this.Hb()&&Id.clearTimeout(this.Gd);this.Gd=0};t.fire=function(){this.stop();this.Vg()};t.Hb=function(){return 0!=this.Gd};t.Vg=function(){this.Gd=0;this.Vj&&this.Vj.call(this.ia)};a.zj={},a.Aj=k,a.Bj=function(b){b=ua(b);delete zj[b];E.Ib(zj)&&Aj&&Aj.stop()},a.Cj=function(){Aj||(Aj=new yj(function(){var b=za();E.forEach(zj,function(d){d.Wv(b)});E.Ib(zj)||Cj()},20));var b=Aj;b.Hb()||b.start()};a.Dj=function(b,c,d,e){xj.call(this);(!ma(b)||!ma(c))&&f(Error("Start and end parameters must be arrays"));b.length!=c.length&&f(Error("Start and end points must be the same length"));this.Sp=b;this.tN=c;this.duration=d;this.cC=e;this.coords=[];this.Oi=n};y(Dj,xj);t=Dj.prototype;t.cg=u(51);t.tE=0;t.progress=0;t.xy=k;
t.play=function(b){if(b||this.da==wj)this.progress=0,this.coords=this.Sp;else if(1==this.da)return n;Bj(this);this.startTime=b=za();-1==this.da&&(this.startTime-=this.duration*this.progress);this.Yn=this.startTime+this.duration;this.xy=this.startTime;this.progress||this.si();this.Td("play");-1==this.da&&this.Td("resume");this.da=1;var c=ua(this);c in zj||(zj[c]=this);Cj();this.Wv(b);return j};t.stop=function(b){Bj(this);this.da=wj;b&&(this.progress=1);Ej(this,this.progress);this.Td("stop");this.ti()};
t.p=function(){this.da==wj||this.stop(n);this.Td("destroy");Dj.m.p.call(this)};t.Wv=function(b){this.progress=(b-this.startTime)/(this.Yn-this.startTime);1<=this.progress&&(this.progress=1);this.tE=1E3/(b-this.xy);this.xy=b;Ej(this,this.progress);1==this.progress?(this.da=wj,Bj(this),this.Td("finish"),this.ti()):1==this.da&&this.gz()};a.Ej=function(b,c){qa(b.cC)&&(c=b.cC(c));b.coords=Array(b.Sp.length);for(var d=0;d<b.Sp.length;d++)b.coords[d]=(b.tN[d]-b.Sp[d])*c+b.Sp[d]};t.gz=function(){this.Td("animate")};
t.Td=function(b){this.dispatchEvent(new Fj(b,this))};a.Fj=function(b,c){id.call(this,b);this.coords=c.coords;this.x=c.coords[0];this.y=c.coords[1];this.t0=c.coords[2];this.duration=c.duration;this.progress=c.progress;this.SZ=c.tE;this.state=c.da;this.cZ=c};y(Fj,id);a.Gj=function(b,c,d,e,g){Dj.call(this,c,d,e,g);this.element=b};y(Gj,Dj);t=Gj.prototype;t.Eh=ha;t.Id=function(){la(this.Ef)||(this.Ef=eg(this.element));return this.Ef};t.gz=function(){this.Eh();Gj.m.gz.call(this)};t.ti=function(){this.Eh();Gj.m.ti.call(this)};t.si=function(){this.Eh();Gj.m.si.call(this)};a.Hj=function(b,c,d,e,g){(2!=c.length||2!=d.length)&&f(Error("Start and end points must be 2D"));Gj.apply(this,arguments)};y(Hj,Gj);
Hj.prototype.Eh=function(){if(this.Oi){var b=this.element,c=Math.round(this.coords[0]),c=Math.max(c,0);b.scrollLeft=eg(b)?B?-c:!A||!Gb("8")?b.scrollWidth-c-b.clientWidth:c:c}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};a.Ij=function(b,c,d,e,g){pa(c)&&(c=[c]);pa(d)&&(d=[d]);Gj.call(this,b,c,d,e,g);(1!=c.length||1!=d.length)&&f(Error("Start and end points must be 1D"))};y(Ij,Gj);Ij.prototype.Eh=function(){qg(this.element,this.coords[0])};
Ij.prototype.show=function(){this.element.style.display=""};Ij.prototype.hide=function(){this.element.style.display="none"};a.Jj=function(b,c,d){Ij.call(this,b,1,0,c,d)};y(Jj,Ij);Jj.prototype.si=function(){this.show();Jj.m.si.call(this)};Jj.prototype.ti=function(){this.hide();Jj.m.ti.call(this)};a.Kj=function(b,c,d){Ij.call(this,b,0,1,c,d)};y(Kj,Ij);Kj.prototype.si=function(){this.show();Kj.m.si.call(this)};
a.Lj=function(b,c,d,e,g){(3!=c.length||3!=d.length)&&f(Error("Start and end points must be 3D"));Gj.apply(this,arguments)};y(Lj,Gj);Lj.prototype.Eh=function(){for(var b=[],c=0;c<this.coords.length;c++)b[c]=Math.round(this.coords[c]);b="rgb("+b.join(",")+")";this.element.style.backgroundColor=b};a.Mj=function(b){return b*b*b},a.Nj=function(b){return 1-Math.pow(1-b,3)},a.Oj=function(b){return 3*b*b-2*b*b*b};a.Pj=/^\/node\//;$.ajaxPrefilter(function(b,c){var d=c.data,e;if(d&&(e=d.params)&&"object"===$.type(e)&&Pj.test(c.url))d.params=JSON.stringify(e),b.data=$.param(d)});
a.Rj=function(b,c){return $.post("/node/MemberFollowBaseV2",{method:c?"follow_member":"unfollow_member",params:{hash_id:b}})},a.Sj=function(b,c){return $.post("/node/QuestionFollowBaseV2",{method:c?"follow_question":"unfollow_question",params:{question_id:b}})},a.Tj=function(b,c){return $.post(c?"/collection/follow":"/collection/unfollow",{favlist_id:b})},a.Uj=function(b,c){return $.post("/node/TopicFollowBaseV2",{method:c?"follow_topic":"unfollow_topic",params:{topic_id:b}})},a.Vj=function(b,c,d,
e){var g=k;e&&(d&&(d=$.proxy(d,e)),g&&(g=$.proxy(g,e)));$.get("/node/"+b,{params:c},function(b){b&&b.r?g&&g(b):d&&d(b)})};a.Wj=function(b,c){return $.post("/node/ColumnFollowBaseV2",{method:c?"follow_column":"unfollow_column",params:{column_id:b}})};a.Xj=function(b,c){return $.post("/roundtable/"+b,{action:c?"follow":"unfollow"})};a.Yj=function(){this.os=[];this.loaded=[];this.AH=[];this.cs=n};Yj.prototype.add=function(b){b&&!z.find(this.os,function(c){return c===b})&&(this.cs?b.src=b.getAttribute("data-source"):(this.os.push(b),this.loaded.push(0)))};Yj.prototype.w=function(){z.forEach(this.os,function(b){this.AH.push(dg(b).y)},this);this.XC();N(window,"scroll",this.XC,n,this);this.cs=j};
Yj.prototype.hM=function(){var b=bc(document).y+1200;z.forEach(this.os,function(c,d){!this.loaded[d]&&b>this.AH[d]&&(this.loaded[d]=1,c.src=c.getAttribute("data-source"))},this)};Yj.prototype.XC=function(){this.YC&&clearTimeout(this.YC);this.YC=setTimeout(v(this.hM,this),100)};a.Zj=new Yj;a.$j={hidden:"visibilitychange",msHidden:"msvisibilitychange",mozHidden:"mozvisibilitychange",webkitHidden:"webkitvisibilitychange"},a.ak=E.kE($j,function(b,c){return c in document}),a.bk=$j[ak],a.ck=la(ak);a.dk={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:"semicolon",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",
96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",186:"semicolon",187:"equals",189:"dash",188:",",190:".",191:"/",192:"~",219:"open-square-bracket",220:"\\",221:"close-square-bracket",222:"single-quote",224:"win"};a.gk=function(b){M.call(this);this.Tm={};this.ih={Fk:[],time:0};this.$N=E.Wh(ek);this.AV=E.Wh(fk);this.sC=j;this.nL=this.qL=n;this.tR=j;this.hh=b;N(this.hh,"keydown",this.tf,n,this);mb&&(B&&Gb("1.8"))&&N(this.hh,"keyup",this.KE,n,this);nb&&!B&&(N(this.hh,"keypress",this.aF,n,this),N(this.hh,"keyup",this.bF,n,this))},a.hk=void 0;y(gk,Hd);
a.ek=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],a.fk="color date datetime datetime-local email month number password search tel text time url week".split(" "),a.ik={qK:"shortcut",pK:"shortcut_"};t=gk.prototype;t.RT=function(b,c){jk(this.Tm,kk(1,arguments),b)};t.$V=function(b){jk(this.Tm,kk(0,arguments),k)};
a.kk=function(b,c){var d;if(oa(c[b])){d=c[b];d=d.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase();d=d.split(" ");for(var e=[],g,h=0;g=d[h];h++){var l=g.split("+"),m;g=0;for(var p,r=0;p=l[r];r++){switch(p){case "shift":g|=1;continue;case "ctrl":g|=2;continue;case "alt":g|=4;continue;case "meta":g|=8;continue}m=p;if(!hk){l={};p=i;for(p in dk)l[dk[p]]=p;hk=l}m=hk[m];break}e.push({keyCode:m,CG:g})}d=e}else{e=c;h=b;ma(c[b])&&(e=c[b],h=0);for(d=[];h<e.length;h+=2)d.push({keyCode:e[h],CG:e[h+
1]})}return d};t.uB=function(){this.Tm={}};t.p=function(){gk.m.p.call(this);this.uB();yd(this.hh,"keydown",this.tf,n,this);mb&&(B&&Gb("1.8"))&&yd(this.hh,"keyup",this.KE,n,this);nb&&!B&&(yd(this.hh,"keypress",this.aF,n,this),yd(this.hh,"keyup",this.bF,n,this));this.hh=k};t.KE=function(b){if(224==b.keyCode)this.xG=j,Ld(function(){this.xG=n},400,this);else{var c=b.metaKey||this.xG;if((67==b.keyCode||88==b.keyCode||86==b.keyCode)&&c)b.metaKey=c,this.tf(b)}};
a.lk=function(b){return nb&&!B&&b.ctrlKey&&b.altKey&&!b.shiftKey};t.aF=function(b){32<b.keyCode&&lk(b)&&(this.PF=j)};t.bF=function(b){!this.PF&&lk(b)&&this.tf(b)};a.jk=function(b,c,d){var e=c.shift(),e=e.keyCode&255|e.CG<<8,g=b[e];g&&(d&&(0==c.length||oa(g)))&&f(Error("Keyboard shortcut conflicts with existing shortcut"));c.length?(g||(g=b[e]={}),jk(g,c,d)):b[e]=d},a.mk=function(b,c,d,e){d=d||0;return(e=(e||b.Tm)[c[d]])&&!oa(e)&&1<c.length-d?mk(b,c,d+1,e):e};
t.tf=function(b){var c;c=b.keyCode;if(16==c||17==c||18==c)c=n;else{var d=b.target,e="TEXTAREA"==d.tagName||"INPUT"==d.tagName||"BUTTON"==d.tagName||"SELECT"==d.tagName,g=!e&&(d.isContentEditable||d.ownerDocument&&"on"==d.ownerDocument.designMode);c=!e&&!g||this.$N[c]||this.nL?j:g?n:this.tR&&(b.altKey||b.ctrlKey||b.metaKey)?j:"INPUT"==d.tagName&&this.AV[d.type]?13==c:"INPUT"==d.tagName||"BUTTON"==d.tagName?32!=c:n}if(c)if("keydown"==b.type&&lk(b))this.PF=n;else{c=(B?Wg(b.keyCode):b.keyCode)&255|((b.shiftKey?
1:0)|(b.ctrlKey?2:0)|(b.altKey?4:0)|(b.metaKey?8:0))<<8;var h,l,d=za();this.ih.Fk.length&&1500>=d-this.ih.time?h=mk(this,this.ih.Fk):this.ih.Fk.length=0;h=h?h[c]:this.Tm[c];h||(h=this.Tm[c],this.ih.Fk=[]);h&&oa(h)?l=h:h?(this.ih.Fk.push(c),this.ih.time=d,B&&b.preventDefault()):this.ih.Fk.length=0;l&&(this.sC&&b.preventDefault(),this.qL&&b.stopPropagation(),h=b.target,c=this.dispatchEvent(new nk(ik.qK,l,h)),(c&=this.dispatchEvent(new nk(ik.pK+l,l,h)))||b.preventDefault(),this.ih.Fk.length=0)}};
a.nk=function(b,c,d){id.call(this,b,d);this.identifier=c};y(nk,id);a.ok=function(b){M.call(this);this.wf(b)};y(ok,M);a.pk=[];t=ok.prototype;t.wf=function(b){pk.push(this);this.il=new Od;this.ia=new gk(b);this.ia.sC=n;this.ia.addEventListener("shortcut",this.RS,n,this)};a.qk=function(b,c,d,e){b.zn={key:c,action:d,context:e};b.ia.RT(c,c);b.il.set(c,b.zn);return b};t.aW=function(b){this.zn=k;this.ia.$V(b,b);this.il.remove(b);return this};t.uB=function(){this.zn=k;this.ia.uB();this.il.clear();return this};a.rk=function(b,c){b.zn.Bb=c;return b};
t.RS=function(b){var c=this.il.get(b.identifier);c&&c.action.call(c.context,b)};t.p=function(){ok.m.p.call(this);z.remove(pk,this);this.ia.G();this.il=this.zn=this.ia=k};a.sk=new ok(document);sk.CB=function(b){return new ok(b)};a.tk=function(b){var c=n,d;return function(){if(c)return d;c=j;return d=b.apply(this,arguments)}},a.uk=function(b,c){var d=Bc(b,function(b){return 3===b.nodeType&&!Ha(b.nodeValue)})[0];d&&(d.nodeValue=c)},a.vk=function(b,c){var d=new Jj(b,500);c&&N(d,"finish",v(function(){L(this)},b));d.play()},a.wk=function(b,c,d,e){"bottom"===e&&(e="b");var g="";(d===n?n:j)&&(g='data-tip="t$'+(e||"t")+"$"+b[1]+'"');return["<a ",g,' class="',c||"zm-item-tag",'" href="/topic/',b[1],'">',b[0],"</a>"].join("")},a.xk=
function(b){return!b?"":b.replace(/^\s+/,"").replace(/\s+$/,"")},a.yk=void 0,a.zk=RegExp("^⁠+|⁠+$");yk=function(b){return b.replace(zk,"")};
a.Ak=function(){return'<a href="javascript:;" class="zu-edit-button" name="edit"><i class="zu-edit-button-icon"></i>修改</a>'},a.Bk=function(b,c,d){var e;b&&(c=$(b).data("animation")||new Lj(b,[255,255,150],c||[255,255,255],d||2E3),$(b).data("animation",c),1==c.da&&c.stop(j),e=b.style.backgroundColor,xd(c,"end",function(){Tf(this.element,"background-color",e)},n,c),c.play())},a.Ck=function(b,c,d){ck&&document[ak]?N(document,bk,function g(){document[ak]||(Bk(b,c,d),yd(document,bk,g))}):Bk(b,c,d)},a.Dk=
function(b){var c=0,d=0;do d=b.indexOf("?",d),-1!==d&&(c++,d+=1);while(-1!==d);return c},a.Ek=function(b,c,d){c=z.slice(b.data,1);if("topic"===b.data[0]){var b=(c[2]?'<img class="zm-item-img-avatar zg-left" src="'+c[2]+'">':"")+'<span class="zu-autocomplete-row-name'+(c[3]?"":" zu-autocomplete-row-name-info")+'" title="'+c[0]+'">'+c[0]+"</span>",e=5<c.length&&c[5],b=b+'<span class="zg-gray-normal zu-autocomplete-row-description">';c[4]||e?(e&&(b+="又称 "+c[5]),c[4]&&e&&(b+="，"),c[4]&&(b+=c[4]+" 人关注")):
b+="&nbsp;";d.innerHTML=b+"</span>"}else"people"===b.data[0]?d.innerHTML='<img class="zm-item-img-avatar zg-left" src="'+c[2]+'"><span class="zu-autocomplete-row-name" title="'+c[0]+'">'+c[0]+'</span><span class="zg-gray-normal zu-autocomplete-row-description">'+(c[4]||"&nbsp;")+"</span>":"question"===b.data[0]?d.innerHTML=c[0]+'<span class="zm-ac-gray">问题</span>':"plain_text"===b.data[0]?(d.innerHTML=b.data[1],D.add(d,c[1])):"sina"===b.data[0]&&(d.innerHTML=c[0])},a.Fk=function(b,c,d){var e,c=z.slice(b.data,
1);if("topic"===b.data[0]){b=["<a ",' style="display:block" href="/topic/'+c[1]+'"><span class="zm-item-tag">',c[0],"</span>"].join("");e=6<c.length&&c[6];if(c[5]||e){var b=b+'<span class="zm-ac-gray">',g=[];e&&g.push("又称 "+c[6]);(e=parseInt(c[5],10))&&g.push(e+" 个精华问答");b+=g.join("，");b+="</span>"}else b+='<span class="zm-ac-gray" >&nbsp;</span>';d.innerHTML=b+"</a>"}else"people"===b.data[0]?d.innerHTML='<a href="/people/'+c[1]+'" title="'+c[0]+'" class="zm-ac-link zm-ac-link-people"><img class="zm-item-img-avatar zg-left" src="'+
c[2]+'"><span class="zu-autocomplete-row-name" title="'+c[0]+'">'+c[0]+'</span><span class="zg-gray-normal zu-autocomplete-row-description">'+(c[4]||"&nbsp;")+"</span></a>":"question"===b.data[0]?(e=parseInt(c[3],10),d.innerHTML=(c[4]?'<a class="zg-star" data-tip="s$b$优质问答" href="/question/'+c[2]+'"></a>':"")+['<a class="zm-ac-link"','href="/question/'+c[2]+'">',c[0]].join("")+('<span class="zm-ac-gray">'+(e?e+" 个回答":"还没有回答")+"</span></a>")):"search_link"===b.data[0]?(d.innerHTML='<a href="/search?q='+
c[0]+'&type=question">查看全部搜索结果<i class="zg-icon arrow"></i></a>',D.add(d,"zu-autocomplete-row-search-link")):"plain_text"===b.data[0]?d.innerHTML=c[0]:"sina"===b.data[0]&&(c=['<a href="javascript:;" title="'+c[0]+'">','<img class="zm-item-img-avatar" src="'+c[2]+'" />',c[0],"</a>"].join(""),d.innerHTML=c);$(d).on("click","a",function(b){b.preventDefault()})},a.Gk=function(b,c){for(var d=c;d!=k&&d!==b;){if("A"===d.tagName)return d;d=d.parentNode}return k},a.Hk=function(b){this.yQ=b;this.data=new Od};
Hk.prototype.add=function(b,c){this.yQ===n?this.data.set(b,c):this.data.set(encodeURIComponent(b),encodeURIComponent(c))};Hk.prototype.Lc=function(){var b=[];z.forEach(this.data.Gb(),function(c){b.push(c+"="+this.data.get(c))},this);return b.join("&")};
a.Kk=function(b,c,d,e,g){if(S.Ia()){Ik&&"pending"===Ik.state()&&Ik.abort();var g=g||{},c=c||b.getAttribute("data-focustype"),e=e||["zg-follow","zg-unfollow"],h=e[0],l=e[1],m=D.has(b,h);Y.V({type:"ga_click_follow",target:b,data:{type:c,Rj:m}});var p=function(c){c?(D.Ui(b,h,l),uk(b,g.unfollow_text||"取消关注")):(D.Ui(b,l,h),uk(b,g.follow_text||"关注"));qa(d)&&d()},e=function(b){b.r?U(b.msg):p(m)},r;r={roundtable:Xj,column:Wj,people:Rj,question:Sj,topic:Uj,favlist:Tj}[c];var x=b.getAttribute("data-id")||b.id.match(/-(.*)/)[1];
r&&(r=r(x,m),"people"===c&&m?r.done(e):p(m),Ik=r)}else e=Jk.F(),e.Ha=c+"_follow_button",e.z(j),e.Tc.apply(e,{question:["follow","加入知乎，即可订阅最新回答","有新回答时通知你"],people:["follow","加入知乎，即可和 TA 互动交流","结识好友、搭档和大牛"],topic:["follow","加入知乎，即可关注话题","订阅话题下更多精彩内容"]}[c])},a.Ik=void 0,a.Lk=function(b){b=xk(b);return!b?0:Math.ceil(b.replace(/(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|-)+)/g,"aaaaaaaaaaaaaaaaaaaa").replace(/\n/g,"a").replace(/\s/g,"a").replace(/[\u3000-\u303F\u4E00-\u9FA5\uf900-\ufa2d\uFF00-\uFFEF]/g,
"aa").length/2)},a.Nk=function(b,c,d,e){window._gaq||(window._gaq=[]);d&&(d=""+d);e&&(e=parseInt(e,10));window._gaq.push(["_trackEvent",b,c,d,e]);Bg&&Mk("trackEvent(deprecated)",z.toArray(arguments))},a.Ok=function(b){window._gaq||(window._gaq=[]);window._gaq.push(["_trackPageview",b])},a.Pk=void 0,a.Qk={yV:{evaluate:/<%([\s\S]+?)%>/g,sQ:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},escape:function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,
"&#x27;").replace(/\//g,"&#x2F;")}},a.Rk=/.^/,a.Sk=function(b){return b.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};
Pk=function(b,c){var d=Qk.yV,d="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(data||{}){__p.push('"+b.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(d.escape||Rk,function(b,c){return"',_.escape("+Sk(c)+"),'"}).replace(d.sQ||Rk,function(b,c){return"',"+Sk(c)+",'"}).replace(d.evaluate||Rk,function(b,c){return"');"+Sk(c).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",e=new Function("data","_",d);
return c?e(c,Qk):function(b){return e.call(this,b,Qk)}};$(function(){var b=xg(document.body).top;Tk.paddingTop=b});a.Tk={offsetTop:0,paddingTop:0,vC:n},a.Uk=function(b){$(b.target.N.e).off("click.disable-a").on("click.disable-a","a",function(b){b.preventDefault()})},a.Vk=function(b,c){var d=k;return function(){var e=this,g=arguments;clearTimeout(d);d=setTimeout(function(){c.apply(e,g)},b)}};a.Wk={"rt:button":function(){Kk(this,"roundtable",k,["zg-btn-green","zg-btn-white"])},"rt:link":function(){Kk(this,"roundtable",k,k,{follow_text:"关注活动"})},"c:link":function(){Kk(this,"column",k,k,{follow_text:"关注专栏"})},"c:button":function(){Kk(this,"column",k,["zg-btn-follow","zg-btn-unfollow"])},"q:link":function(){Kk(this,"question",k,k,{follow_text:"关注问题"})},"m:link":function(){Kk(this,"people")},"t:link":function(){Kk(this,"topic")},"m:button":function(){var b=this;Kk(b,"people",function(){b.getAttribute("data-focusme")&&
(D.has(b,"zg-btn-follow")?b.setAttribute("data-tip","s$b$对方已关注你"):b.setAttribute("data-tip","s$b$已互相关注"))},["zg-btn-follow","zg-btn-unfollow"])},"q:m:button":function(){Kk(this,"question",k,["zg-btn-green","zg-btn-white"])},"f:button":function(){Kk(this,"favlist",k,["zg-btn-follow","zg-btn-unfollow"])},"t:button":function(){Kk(this,"topic",k,["zg-btn-follow","zg-btn-unfollow"])}};$(function(){$(document.body).on("click.video","div[data-swfurl]",function(b){var c=b.currentTarget,b=$(b.currentTarget).data("swfurl");if(!Kc(c,k,"zh-summary")){var d={url:$(".video-info",c).text()};if(ub||ji)b=J("video-url",c),$(c).trigger("videobox:open",d),window.open(b.innerHTML);else{var e=K("embed"),g={src:b,type:"application/x-shockwave-flash",allowscriptaccess:"never",allowfullscreen:"true",wmode:"opaque","class":"video",pluginspage:"http://get.adobe.com/cn/flashplayer/"},h=-1<b.indexOf("tudou");
if(-1<b.indexOf("youku")){var l=b.match(/\w{10,}/g);l&&(g.src="http://static.youku.com/v1.0.0366/v/swf/loader.swf?"+("VideoIDS="+l[0]+"&embedid=-&isAutoPlay=true&isShowRelatedVideo=false"))}h&&(g.src=b.replace("/v.swf","&autoPlay=true/v.swf"),g.flashvars="playMovie=true&auto=true");E.forEach(g,function(b,c){e.setAttribute(c,b)});var b=K("a",{innerHTML:'<i class="icon-fold"></i>收起视频',"class":"video-player-close",href:"#"}),m=K("div","video-player-box",[e,K("div","video-player-foot",b)]);xd(b,"click",
function(b){b.preventDefault();L(m);R(c,j);$(c).trigger("videobox:close",d)});mc(m,c);R(c,n);$(c).trigger("videobox:open",d)}}})});a.Xk=void 0,a.Yk=function(b){if(ub||ji)window.open("http://v.youku.com/v_show/id_"+b+".html");else if(window.YKU){var c,d;Xk?c=Xk:(c=new yi,c.on("beforehide",function(){var b="close_video_finished";try{b=58<+d.currentTime()?"close_video_finished":"close_video_playing",d.pauseVideo()}catch(c){}Y.V({type:"ga_click_close_video",label:b})}));c.z(j);$(c.h()).addClass("videopopup-dialog");var e=$(c.ba());e.children().remove();var g=$(yh(c));e.append($('<div id="youkuplayer"></div>').width(860).height(524)).append($('<div class="share-wrap">  分享视频：   <a href="javascript:;" class="share sina-share" data-type="sina" >新浪微博</a>  <a href="javascript:;" class="share renren-share" data-type="renren" >人人网</a>  <a href="javascript:;" class="share douban-share" data-type="douban" >豆瓣</a>  <a href="javascript:;" class="share qzone-share" data-type="qzone" >QQ 空间</a></div>').on("click",
".share",function(c){var c=$(c.target),d;"sina"===c.data("type")?(Y.V({type:"ga_click_share_video",label:"share_video_sina_weibo"}),d="http://service.weibo.com/share/share.php?"+$.param({type:"6",count:"1",appkey:"3063806388",title:"『如果每个人都变得乐于分享自己的知识，这个世界总会好上一点儿的吧。』 ——分享自@知乎  http://www.zhihu.com/#play-video http://v.youku.com/v_show/id_"+b+".html",pic:"http://s0.zhimg.com/misc/weibo.png",language:"zh_cn",rnd:(new Date).valueOf()})):"renren"===c.data("type")?(Y.V({type:"ga_click_share_video",label:"share_video_renren"}),
d="http://www.connect.renren.com/share/sharer?"+$.param({url:"http://www.zhihu.com/#play-video",title:"知乎 —— 可能是最好的中文问答社区。"})):"douban"===c.data("type")?(Y.V({type:"ga_click_share_video",label:"share_video_douban"}),d="http://www.douban.com/recommend/?"+$.param({url:"http://www.zhihu.com/#play-video",sel:"『如果每个人都变得乐于分享自己的知识，这个世界总会好上一点儿的吧。』 ——分享自@知乎  http://www.zhihu.com/#play-video http://v.youku.com/v_show/id_"+b+".html",title:"知乎 —— 可能是最好的中文问答社区。",image:"http://s0.zhimg.com/misc/weibo.png",v:1})):
"qzone"===c.data("type")&&(Y.V({type:"ga_click_share_video",label:"share_video_qqzone"}),d="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+$.param({url:"http://www.zhihu.com/#play-video",showcount:"1",desc:"『如果每个人都变得乐于分享自己的知识，这个世界总会好上一点儿的吧。』 ——分享自@知乎 ",summary:"在知乎，认真你就赢了",title:"知乎 —— 可能是最好的中文问答社区。",site:"知乎网",pics:"http://s0.zhimg.com/misc/weibo.png",style:"203",width:98,height:22}));d&&window.open(d,"","width=700, height=580, top=100, left=100, toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no")}));
g.removeClass("modal-dialog-title").addClass("videopopup-title");c.Fi("auto");$(c.fo()).css("backgroundColor","#000");Ah(c,0.8);d=new window.YKU.Player("youkuplayer",{client_id:"31cc1eceae589704",vid:b,autoplay:j,show_related:n});Xk=c;c.oa()}};$(function(){$(document.body).on("click.videopopup","div[data-vid]",function(b){b=$(b.currentTarget).data();Y.V({type:"ga_click_play_video",label:b.label||"home_play_video"});Yk(b.vid)})});
$(function(){Wa(location.hash,"play-video")&&(window.setTimeout(function(){Y.V({type:"ga_visit_home_video"})},10),Yk("XNjEwNTk4MjIw"))});a.Zk=void 0,a.$k=window.FastClick;Zk=[".ac-row *",".goog-menu *",".goog-menu-button *"];if($k){var al=$k.prototype.needsClick,bl;if(window.AX){var cl=z.find(["matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"],function(b){return HTMLElement.prototype[b]});bl=cl&&HTMLElement.prototype[cl]}var dl=bl?function(b,c){return bl.call(b,c)}:function(b,c){return $(b).is(c)};$k.prototype.needsClick=function(b){return z.some(Zk,function(c){return dl(b,c)})?j:al.call(this,b)}};a.el=function(){M.call(this)};y(el,Hd);el.prototype.g=function(){return this.ji||(this.ji=new me(this))};el.prototype.qf=function(b,c){if(!this.e)return k;for(var d=c||"A",e=b;e!=k&&e!==this.e;){if(e.tagName===d)return e;e=e.parentNode}return k};a.fl=function(){M.call(this);this.last=this.KZ=0;this.OZ=n};y(fl,el);fl.prototype.w=function(){if(this.e=H("zh-global-message"))this.EG=J("zu-global-notify-msg",this.e),this.g().c(this.e,"click",this.ha)};fl.prototype.ha=function(b){b.target&&b.target.name&&R(this.e,n)};a.hl=function(b,c){c&&c.length&&z.forEach(c,function(b){this.dispatchEvent(new gl(b[0],b[1]))},b)};fl.prototype.fireEvent=u(37);
a.il=function(b){var c=Y;c.EG?(c.EG.innerHTML=b,R(c.e,j)):U(b)},a.gl=function(b,c){this.type=b;this.nb=c};y(gl,id);a.Y=new fl;Y.w();a.jl=function(b){function c(){r.onload=r.onerror=r.onreadystatechange=k;document.body.removeChild(r)}function d(){c();p.resolve()}function e(){clearTimeout(m);m=k;try{delete window[h]}catch(b){window[h]=k}}"string"===$.type(b)&&(b={url:b});var b=b||{},g=$.Deferred(),h="zh"+za()+cb(),l=$.extend({},b.data||{},{callback:h}),m=k;b.timeout&&(m=setTimeout(function(){window[h]&&(window[h]=e,g.reject("timeout"))},b.timeout));window[h]=g.resolve;var b=b.url+(-1===b.url.indexOf("?")?"?":"&")+$.param(l),p=$.Deferred(),
r=document.createElement("script");r.onload=d;r.onerror=function(){c();p.reject()};r.onreadystatechange=function(){("loaded"===r.readyState||"complete"===r.readyState)&&d()};r.src=b;document.body.appendChild(r);p.promise().fail(g.reject).always(e);return g.promise()};a.kl=function(b){this.options=$.extend(j,{},this.R,b||{});this.promise=k;this.dI=1E3;this.Ry=3E4;this.Tj=this.dI;this.WP=1.5};y(kl,Hd);kl.prototype.R={type:"GET",url:"",data:{},timeout:6E4,xhrFields:{withCredentials:j}};kl.prototype.Jz=function(){if(!(this.promise&&"pending"===this.promise.state())){var b=this.options;this.promise=($.support.cors?$.ajax(b):jl(b)).done($.proxy(this.sS,this)).fail($.proxy(this.ui,this))}};
kl.prototype.sS=function(b){this.Tj=this.dI;try{this.dispatchEvent({type:"message",data:b})}catch(c){}this.Jz()};kl.prototype.ui=function(){this.Tj!==this.Ry&&(this.Tj*=this.WP);this.Tj>this.Ry&&(this.Tj=this.Ry);this.Bc=setTimeout($.proxy(this.Jz,this),this.Tj);this.dispatchEvent("error")};a.ll=function(b){this.Jd=b},a.ml=function(b){return function(){this.Jd=b.apply(k,[this.Jd].concat(z.toArray(arguments)));return this}};ll.prototype.filter=ml(z.filter);ll.prototype.map=ml(z.map);ll.prototype.reduce=ml(z.reduce);ll.prototype.reduceRight=ml(z.reduceRight);ll.prototype.flatten=ml(z.flatten);ll.prototype.size=function(){return this.Jd.length};ll.prototype.toArray=q("Jd");a.nl=function(b){E.extend(this.D={},this.R,b||{});this.wf()},a.ol=["group","key","name"],a.pl=function(b){return z.every(ol,function(c){return b[c]})},a.ql=function(b){return $.extend({},{key:b.key},b.Bb)},a.rl=function(b,c){z.every(b,function(b){return!z.every(ol,function(e){return b[e]===c[e]})})&&b.push(c);return b},a.sl=function(b,c){var d=b[c.group];d?d.push(c):b[c.group]=[c];return b};nl.prototype.R={hN:"帮助信息",dw:"shortcut-tips-dialog"};
nl.prototype.wf=function(){rk(qk(sk,"shift+/",this.show,this),{group:"导航",name:"帮助",key:"?"})};
nl.prototype.show=function(){var b=this.D,c=b.hN,d;d=(new ll(pk)).map(function(b){return E.Ka(b.il.ku())}).flatten().map(ql).filter(pl).reduce(rl,[]).reduce(sl,{}).toArray();var e=['<div class="shortcut-tips">'],g={qU:/([^\s+])+|([\s+])/g,NN:function(b){return b.replace(this.qU,function(b,c){return c?"<kbd>"+b+"</kbd>":" "+b+" "})}};E.forEach(d,function(b,c){e.push('<div class="group"><h2>',c,"</h2><dl>");z.forEach(b,function(b){e.push("<dt>",g.NN(b.key),"</dt>");e.push("<dd>",b.name,"</dd>")});e.push("</dl></div>")});
e.push("</div>");d=e.join("");Ci({title:c,content:d,$i:["确定"],className:b.dw})};$.easing.easeOutCubic=function(b,c,d,e,g){return e*((c=c/g-1)*c*c+1)+d};a.tl=function(b){T.call(this);this.Jj=-1;E.extend(this.D={},this.R,b||{})};y(tl,T);t=tl.prototype;t.R={items:">li",kM:n,JN:j,className:"navigable",pE:"navigable-focusin"};t.B=function(){tl.m.B.call(this);var b=this.D;this.L=$(this.e).addClass(b.className).data("navigable",this).on("focusin.navigable focusout.navigable",b.items,$.proxy(this.dS,this));this.Mh()};t.p=function(){tl.m.p.call(this);this.L.removeClass(this.D.className).data("navigable",k).off(".navigable");this.L=k};t.Mh=ha;t.index=q("Jj");
t.size=function(){return this.items().length};t.prev=function(){ul(this,this.index()-1)};t.next=function(){ul(this,this.index()+1)};t.first=function(){ul(this,0)};t.last=function(){ul(this,this.size()-1)};a.ul=function(b,c){if(c!==b.index()){var d=b.size(),e=d-1;b.D.kM&&(c>e?c=0:0>c&&(c=e));b.dispatchEvent({data:{index:c,size:d},type:"action"});0>c||c>e||(b.Jj=c,b.kz(b.items()[b.index()]))}};
t.dS=function(b){var c=this.D,d=b.currentTarget,e=$(d);"focusin"===b.type?(e.addClass(c.pE),this.Jj=$.inArray(d,this.items())):e.removeClass(c.pE)};t.kz=function(b){this.D.JN&&(b.tabIndex=-1,b.focus());this.dispatchEvent({data:{item:b},type:"focus"})};tl.prototype.items=function(){var b=this.D.items;return!b?this.L.children().get():$(b,this.L).get()};a.vl=function(b){tl.call(this,b);this.MJ=$($.browser.webkit?document.body:document.documentElement)};y(vl,tl);E.extend(vl.prototype.R={yU:200,offsetTop:0},tl.prototype.R);a.wl=function(b){return{k:{action:b.prev,Bb:{group:"导航",name:"上一条目"}},j:{action:b.next,Bb:{group:"导航",name:"下一条目"}},"g g":{action:b.first,Bb:{group:"导航",name:"第一个条目"}},"shift+g":{action:b.last,Bb:{group:"导航",name:"最后一个条目"}},"shift+k":{action:b.AU,Bb:{group:"导航",name:"屏幕上移"}},"shift+j":{action:b.wU,Bb:{group:"导航",name:"屏幕下移"}}}};
t=vl.prototype;t.Mh=function(){E.forEach(wl(this),function(b,c){rk(qk(sk,c,b.action,this),b.Bb)},this)};t.p=function(){vl.m.p.call(this);var b=E.Gb(wl(this));z.forEach(ma(b)?b:[b],sk.aW,sk)};t.kz=function(b){vl.m.kz.call(this,b);var c=this.D;this.scrollTo($(b).offset().top+c.offsetTop,c.yU,"easeOutCubic")};t.scrollTo=function(b,c,d){this.MJ.stop().animate({scrollTop:b},c,d)};t.wU=function(){this.scrollTo("+=60",100)};t.AU=function(){this.scrollTo("-=60",100)};a.xl=function(){T.call(this)};y(xl,T);a.yl=new xl;yl.n(document);a.zl=function(){wh.call(this,i,i,i);this.MM=S.Cl;this.To=S.To;this.Nx=S.Nx;this.AI=""!==this.To;this.g().c(Ki,"/activation/resend-email",xa(this.JU,j))};ia(zl);y(zl,yi);t=zl.prototype;t.Kk=Pk('    <% if (showTopTip) { %>       <div class="top-tip well-blue"><%= topTip %></div>    <% } %>    <% if (showForm) { %>    <form class="js-email-form">    <dl class="zm-form-table zm-form-table-wide" style="">      <dt class="zm-form-table-head zm-form-table-head-align-middle">        <label class="" for="cur-login-passwd">您的注册邮箱：</label>      </dt>      <dd class="zm-form-table-field zg-form-table-count">        <label class=""><%= curEmail %></label></dd>      <% if (hasPassword) { %>      <dt class="zm-form-table-head zm-form-table-head-align-middle">        <label class="" for="cur-login-passwd">您的密码：</label>      </dt>      <dd class="zm-form-table-field">        <input class="zg-form-text-input" type="password" name="pw"></dd>      <% } %>      <dt class="zm-form-table-head zm-form-table-head-align-middle">        <label class="" for="new-email">新的登录邮箱：</label>      </dt>      <dd class="zm-form-table-field">        <input class="zg-form-text-input" type="text" name="newemail"></dd>      <dd class="zm-form-table-field">        <button class="js-update-email zg-btn-blue">更新邮箱</button>        <a class="js-cancel zm-form-btn-collapse" href="javascript:;">取消</a>      </dd>    </dl>    </form>    <% } %>    <% if (showMiddleTip) { %>    <div class="middle-tip"><%= middleTip %></div>    <% } %>    <% if (showSendEmail) { %>    <div class="">      <dl class="zm-form-table zm-form-table-wide" >        <dt class="zm-form-table-head zm-form-table-head-align-middle">          <label class="">您的<%= isMobile ? "" : "注册" %>邮箱：</label>        </dt>        <dd class="zm-form-table-field zg-form-table-count">          <label class="login-email"><%= curEmail %></label>          <a class="js-change-email" href="javascript:;">修改</a>          <br>        </dd>      </dl>    <% if (sent) { %>    <div style="text-align:center;clear:both;"><span class="zg-medium-gray">已发送</span></div>    <% } else { %>    <div style="text-align:center;margin-bottom:15px;clear:both;"><a class="js-resend" href="javascript:;">重新发送激活邮件</a></div>    <% } %>    </div>    <% } %>    <% if (showEmailUrl) { %>    <div class="email-url">      <a class="zg-btn-blue" target="_blank" href="<%= emailUrl %>">进入我的邮箱 »</a>    </div>    <% } %>    <% if (showBottomTip) { %>    <div class="bottom-tip"><%= bottomTip %></div>    <% } %>    ');
t.au={showTopTip:j,showSendEmail:j,showBottomTip:j};t.jV={showTopTip:j,showForm:j,showBottomTip:j,showEmailUrl:n};t.kV={showMiddleTip:j};t.Z=function(){zl.m.Z.call(this);this.fb("请激活帐号");Al(this,zl.prototype.au);this.L=$(this.ba()).addClass("activate-dialog");$(this.e).css("width","400px");this.qv()};
a.Al=function(b,c){var d=$.extend({showTopTip:n,showMiddleTip:n,showBottomTip:n,showEmailUrl:b.AI,showForm:n,showSendEmail:n,isMobile:ub,sent:b.tI,topTip:"为正常使用知乎提问、回答、评论和编辑功能，请验证您的邮箱、激活帐号。",middleTip:Ga("一封验证邮件已经发到您的新邮箱：<br>%s，请注意查收。",b.AR),bottomTip:"请进入邮箱收取验证邮件、并通过邮件中链接激活你的知乎帐号。",curEmail:b.MM,emailUrl:b.To,hasPassword:b.Nx},c);b.Oa(b.Kk(d))};
t.qv=function(){var b=this;$.each({".js-update-email":b.eW,".js-cancel":b.cancel,".js-change-email":b.eM,".js-resend":b.hU},function(c,d){b.L.on("click",c,$.proxy(d,b))})};t.eW=function(){var b=this;$.post("/settings/update_email",b.L.find(".js-email-form").serialize()).done(function(c){c.r?U(c.msg):(b.AR=c.msg[0],b.AI=""!==c.msg[1],b.To=c.msg[1],Al(b,zl.prototype.kV))});return n};t.JU=function(b){this.tI=b;Al(this,zl.prototype.au)};t.cancel=function(){Al(this,zl.prototype.au)};
t.eM=function(){Al(this,zl.prototype.jV)};t.hU=function(){var b=this;$.post("/reactive").done(function(c){c.r?U(c.msg):(b.tI=j,Al(b,zl.prototype.au))})};a.Bl=function(b){T.call(this);this.oF=k;this.nv=b;this.X_=0;this.u_=3;this.Ko=n};y(Bl,T);t=Bl.prototype;t.n=function(b){this.wrap=b;if(b=J("zm-entry-head-avatar-edit-button",this.wrap))this.Ko=j,this.g().c(b,"click",function(b){b.stopPropagation();b.preventDefault();S.Ia()&&!S.ye&&"people"!==this.nv?zl.F().z(j):S.Ia()?(this.dy(),this.U.z(j)):Jk.F().z(j)});this.oF=J("zm-avatar-editor-preview",this.wrap);if(!this.Ko&&(Cl(this),b=J("zm-form-table-field",this.wrap)))b.appendChild(this.Kl),this.Ea()};
t.dy=function(){this.vT||(Cl(this),this.vT=j,this.U=new yi(k,n),this.U.fb("图片上传"),this.U.ba().appendChild(this.Kl),this.Ea())};
a.Cl=function(b){b.Kl=K("div",b.Ko?k:"zg-section",[b.yT=K("iframe",{id:"av_up_frame",src:"about:_blank",name:"av_up_frame",style:"visible:hidden;position:absolute;height:0;width:0;left:-9000px"}),b.FG=K("div",{"class":"zm-modal-dialog-warnmsg",style:"display:none"},"上传失败， 请重试"),b.ci=K("div","avt_form"),b.fZ=K("label",{"class":"zg-gray zg-section",style:"display: block;padding:12px 0;","for":"avt_file"},"支持 JPG、GIF、PNG 格式，不要超过 2MB。"),b.Ko?K("div","zm-command",[b.ll=K("a",{"class":"zm-command-cancel",
href:"javascript:;"},"关闭"),b.nl=K("a",{"class":"zg-btn-blue",href:"javascript:;"},"开始上传")]):b.nl=K("a",{"class":"zg-btn-blue",href:"javascript:;"},"开始上传")]);b.ci.innerHTML=['<form target="av_up_frame" method="post" enctype="multipart/form-data" action="'+("http://upload."+Dg.Im+":"+location.port)+'">','<input type="hidden" name="type" value="'+("people"===b.nv?"1":"2")+'" />','<input type="hidden" name="dest_id" value="',"people"===b.nv?S[3]:Gg[0][3],'" /><input type="file" name="picture" id="avt_file" /><input type="hidden" name="return_size" value="l" /></form>'].join("");
b.hW=b.ci.firstChild};t.Ea=function(){this.g().c(this.nl,"click",this.iV);this.g().c(Y,"iframe_data",this.fW);this.ll&&this.g().c(this.ll,"click",function(){this.U.z(n)})};t.iV=function(){R(this.FG,n);var b=H("avt_file");b&&b.value&&(Dl(this,j),this.hW.submit())};t.fW=function(b){var b=b.nb,c;b&&!b.r&&(c=b.url||b.msg)?(this.oF.src=c+"?r="+ +new Date,Dl(this,n),this.Ko&&this.U.z(n),this.dispatchEvent({type:"uploadSuccess",data:c})):R(this.FG,j)};
a.Dl=function(b,c){b.Jo=c;b.Jo?(b.nl.innerHTML="上传中…",D.Ui(b.nl,"zg-btn-blue","zg-btn-white")):(b.nl.innerHTML="开始上传",D.Ui(b.nl,"zg-btn-white","zg-btn-blue"))};$.fn.placeholder=function(b){return this.each(function(){var c=$(this),d=c.data("placeholder");d||c.data("placeholder",d=new El(this,b));d.Yq()})};a.El=function(b,c){b&&(this.input=b,"string"===typeof c&&(c={text:c}),E.extend(this.D={},this.R,c||{}),this.ah=k,this.Uu())},a.Fl="placeholder"in document.createElement("input");t=El.prototype;t.R={text:"",offsetParent:k,FC:n};t.UL=["paddingBottom","paddingTop","paddingLeft","paddingRight"];
t.wk=function(b){var c=this.input,d=this.D;d.text=b||"";Fl?(Gl(c)||Pc(c,Wc.zq,d.text),c.setAttribute("placeholder",d.text)):zc(this.label,d.text)};a.Hl=function(b){Fl?D.enable(b.input,"placeholder-hilight",n):D.enable(b.label,"placeholder-label-hilight",n)};t.G=function(){this.ah&&(this.ah.Qc(),this.ah.G());L(this.label);this.label=k};
t.Uu=function(){var b=this.input,c=this.D;c.text||(c.text=b.getAttribute("placeholder"));if(Fl)return this.wk(c.text);var d=this.input,e=gg(d),g=K("label"),h=jg(d,this.offsetParent());Tf(g,{color:"gray",cursor:"text",position:"absolute",left:h.x+e.left+"px",top:h.y+e.top+"px",display:this.Ib()?"block":"none",width:Il(d,"width"),fontSize:Il(d,"fontSize"),lineHeight:Il(d,"lineHeight"),fontFamily:Il(d,"fontFamily")});d=this.label=g;this.wk(c.text);this.offsetParent().appendChild(d);e=this.ah=new me(this);
e.c(b,"blur",this.Yq);e.c(b,"focus",this.hide);c.FC&&e.c(b,"keydown",this.hide);e.c(d,"click",function(){this.hide();rg(b)&&b.focus()});b.E_=v(this.Yq,this);c=this.input;d=this.label;Gl(c)||(c.id?d.htmlFor=c.id:(d.id=ih(hh.F()),Pc(c,Wc.Mu,d.id)));this.position();this.Yq()};a.Gl=function(b){if(("labels"in b?b.labels.length:b.id&&z.some(document.getElementsByTagName("label"),function(c){return c.htmlFor===b.id}))||Qc(b,Wc.zq)||Qc(b,Wc.Mu))return j},a.Il=function(b,c){return Vf(b,c)||Wf(b,c)||b.style[c]};
t.offsetParent=function(){return this.D.offsetParent||this.input.offsetParent};t.Yq=function(){if(!Fl)if(this.Ib()&&rg(this.input)){this.show();var b=this.input,c=gg(b),d=this.label,e=jg(b,this.offsetParent());Tf(d,{left:e.x+c.left+"px",top:e.y+c.top+"px",width:Il(b,"width"),fontSize:Il(b,"fontSize"),lineHeight:Il(b,"lineHeight"),fontFamily:Il(b,"fontFamily")});this.offsetParent().appendChild(d)}else this.hide()};t.show=function(){this.label&&R(this.label,j)};
t.hide=function(){this.label&&R(this.label,n)};t.Ib=function(){return!this.input.value};t.position=function(){z.forEach(this.UL,function(b){this.label.style[b]=Il(this.input,b)},this)};a.Jl=function(){M.call(this);this.Xc=[];this.xl=[];this.kw={};this.Q=new me(this);this.wQ=this.MF=n;this.wB=j};y(Jl,Hd);t=Jl.prototype;t.iF=0;t.uI=ca("iF");a.Kl=function(b,c,d){c.RD=d;c.kj=i;b.Xc.push(c)};
t.w=function(){if(!this.MF){for(var b=0,c=this.Xc.length;b<c;b++)for(var d=qc(this.Xc[b]),e=0,g=d.length;e<g;++e){var h=d[e],l=h,m=ua(l);this.kw[m]=h;this.UD&&(this.Q.c(h,"mouseover",this.wO),this.Q.c(h,"mouseout",this.vO));this.TD&&(this.Q.c(l,"mouseover",this.uO),this.Q.c(l,"mouseout",this.tO));this.xl.push(h);this.Q.c(l,["mousedown","touchstart"],this.dP)}this.MF=j}};
t.p=function(){this.Q.G();for(var b=0,c=this.Xc.length;b<c;b++){var d=this.Xc[b];d.RD=i;d.kj=i}this.Xc.length=0;this.xl.length=0;this.kw=k;Ll(this);Jl.m.p.call(this)};a.Ml=function(b,c){for(var d=0,e=b.Xc.length;d<e;d++){var g=b.Xc[d];g.wl=pg(g)}d=0;for(e=b.xl.length;d<e;d++)g=b.xl[d],g!=c&&(g.wl=pg(g))};
t.dP=function(b){var c=ua(b.currentTarget);this.za=this.kw[c];a:{var c=this.za,d=c.cloneNode(j);switch(c.tagName.toLowerCase()){case "tr":c=K("table",k,K("tbody",k,d));break a;case "td":case "th":c=K("table",k,K("tbody",k,K("tr",k,d)));break a;default:c=d}}this.Cb=c;this.Br&&D.add(this.Cb,this.Br);this.Cb.style.margin="0";this.Cb.style.position="absolute";this.Cb.style.visibility="hidden";Tb(this.za).body.appendChild(this.Cb);c=dg(this.za);lg(this.Cb,c);this.Db=new Yg(this.Cb);this.Db.uI(this.iF);
N(this.Db,"start",this.wx,n,this);N(this.Db,"end",this.rO,n,this);N(this.Db,"earlycancel",this.Fv,n,this);this.Db.Xm(b)};
t.wx=function(b){if(this.dispatchEvent(new Nl("beforedragstart",this,b.QC,this.za,k,k))){this.ht=this.za.parentNode;this.oD=this.yz=this.za.nextElementSibling!=i?this.za.nextElementSibling:rc(this.za.nextSibling,j);this.Uv=this.ht;this.Tv?D.add.apply(k,z.concat(this.za,this.Tv)):this.za.style.visibility="hidden";var c=og(this.Cb);this.Cb.bO=c.width/2;this.Cb.aO=c.height/2;this.Cb.style.visibility="";this.wB&&(this.za.style.display="none");Ml(this,this.za);this.za.style.display="";N(this.Db,"drag",
this.xO,n,this);this.dispatchEvent(new Nl("dragstart",this,b.QC,this.za,this.Cb,this.Db))}else b.preventDefault(),this.Fv()};
t.xO=function(b){var c=dg(this.Cb),c=new Ob(c.x+this.Cb.bO,c.y+this.Cb.aO),d;a:{d=k;if("none"!=this.za.style.display){d=this.za.parentNode;var e=pg(d);if(Ol(c,e))break a}for(var e=0,g=this.Xc.length;e<g;e++){var h=this.Xc[e];if(h!=d&&Ol(c,h.wl)){d=h;break a}}d=k}var l;if(d){d==k&&f(Error("getHoverNextItem_ called with null hoverList."));var m,p,e=n,g=i;switch(d.RD){case 0:l=c.y;m=Pl;p=Ql;break;case 4:e=j;case 2:l=c.x;m=Rl;p=Ql;break;case 5:e=j;case 3:l=c.x,m=Sl,p=Tl}for(var h=k,r,x=qc(d),F=0,I=x.length;F<
I;F++){var G=x[F];if(G!=this.za){var Q=m(G.wl);if(e){var X=Ul(G,c);la(g)||(g=X);if(p(l,Q)&&(r==i||X<g||X==g&&(p(Q,r)||Q==r)))h=G,r=Q;X<g&&(g=X)}else if(p(l,Q)&&(r==i||p(Q,r)))h=G,r=Q}}l=h!==k&&Ul(h,c)>g?k:h}else l=k;if(!this.dispatchEvent(new Nl("beforedragmove",this,b,this.za,this.Cb,this.Db,c,d,l)))return n;if(d)this.wB?(this.za.parentNode!=d||(this.za.nextElementSibling!=i?this.za.nextElementSibling:rc(this.za.nextSibling,j))!=l)&&d.insertBefore(this.za,l):l&&(this.oD=l),this.za.style.display=
"",d.kj&&D.add(d,d.kj);else{this.wQ||(this.za.style.display="none");m=0;for(p=this.Xc.length;m<p;m++)r=this.Xc[m],r.kj&&D.remove(r,r.kj)}d!=this.Uv&&(this.Uv=d,Ml(this,this.za));this.dispatchEvent(new Nl("dragmove",this,b,this.za,this.Cb,this.Db,c,d,l));return n};t.Fv=function(){Ll(this);this.Db=this.Cb=this.yz=this.ht=this.Uv=this.za=k;for(var b=0,c=this.Xc.length;b<c;b++)this.Xc[b].wl=k;b=0;for(c=this.xl.length;b<c;b++)this.xl[b].wl=k};
t.rO=function(b){if(!this.dispatchEvent(new Nl("beforedragend",this,b,this.za,this.Cb,this.Db)))return n;this.wB||this.ht.insertBefore(this.za,this.oD);Ll(this);this.dispatchEvent(new Nl("dragend",this,b,this.za,this.Cb,this.Db));this.Fv();return j};
a.Ll=function(b){Vc(b.Db);b.Cb&&L(b.Cb);b.za&&"none"==b.za.style.display&&(b.ht.insertBefore(b.za,b.yz),b.za.style.display="");b.Tv&&b.za?D.remove.apply(k,z.concat(b.za,b.Tv)):b.za&&(b.za.style.visibility="visible");for(var c=0,d=b.Xc.length;c<d;c++){var e=b.Xc[c];e.kj&&D.remove(e,e.kj)}};t.wO=function(b){D.add.apply(k,z.concat(b.currentTarget,this.UD))};t.vO=function(b){D.remove.apply(k,z.concat(b.currentTarget,this.UD))};t.uO=function(b){D.add.apply(k,z.concat(b.currentTarget,this.TD))};
t.tO=function(b){D.remove.apply(k,z.concat(b.currentTarget,this.TD))};
a.Ol=function(b,c){return b.x>c.left&&b.x<c.left+c.width&&b.y>c.top&&b.y<c.top+c.height},a.Ul=function(b,c){var d=b.wl;return Math.abs(c.y-(d.top+(d.height-1)/2))},a.Pl=function(b){return b.top+b.height-1},a.Rl=function(b){return b.left+b.width-1},a.Sl=function(b){return b.left||0},a.Ql=function(b,c){return b<c},a.Tl=function(b,c){return b>c},a.Nl=function(b,c,d,e,g,h,l,m,p){id.call(this,b);this.HZ=c;this.event=d;this.CZ=e;this.IZ=g;this.Ar=h;this.JZ=l;this.b_=m;this.c_=p};y(Nl,id);a.Zl=function(b,c,d){M.call(this);this.zf=b;this.Gf=d;this.N=c;N(c,[Vl,Wl,Xl,Yl],this);this.ec=k;this.cb=[];this.Nc=-1;this.Jc=0;this.Sd=this.Vb=k;this.CF={}};y(Zl,Hd);t=Zl.prototype;t.pi=10;t.sn=j;t.rC=n;t.EJ=n;t.gJ=n;a.Vl="hilite",a.Wl="select",a.Yl="dismiss",a.Xl="canceldismiss",a.$l={vY:"rowhilite",yX:Vl,zY:Wl,XJ:Yl,VW:Xl,ZY:"update",Si:"suggestionsupdate"};t=Zl.prototype;
t.handleEvent=function(b){if(b.target==this.N)switch(b.type){case Vl:this.Oe(b.xp);break;case Wl:this.Ai();break;case Xl:am(this);break;case Yl:this.jj()}};t.Rt=function(b,c){this.ec!=b&&(this.ec=b,this.zf.yi(this.ec,this.pi,v(this.gR,this),c),am(this))};t.ub=function(){return this.N.S()};
a.bm=function(b){var c=b.Jc+b.cb.length-1;b.Nc>=b.Jc&&b.Nc<c?b.Oe(b.Nc+1):-1==b.Nc?b.Oe(b.Jc):b.Nc==c&&(b.rC?b.Oe(-1):b.EJ&&b.Oe(b.Jc))},a.cm=function(b){b.Nc>b.Jc?b.Oe(b.Nc-1):b.rC&&b.Nc==b.Jc?b.Oe(-1):b.EJ&&(-1==b.Nc||b.Nc==b.Jc)&&b.Oe(b.Jc+b.cb.length-1)};t.Oe=function(b){this.Nc=b;this.N.Oe(b);return-1!=dm(this,b)};
t.Ai=function(){var b=dm(this,this.Nc);if(-1!=b){var b=this.cb[b],c=this.Gf.Bi(b);this.gJ?(this.ec=k,this.jj()):this.Ic();c||(this.dispatchEvent({type:"update",xp:b}),this.gJ&&this.Gf.update(j));return j}this.Ic();this.dispatchEvent({type:"update",xp:k});return n};t.Ic=function(){this.Nc=-1;this.ec=k;this.Jc+=this.cb.length;this.cb=[];window.clearTimeout(this.Sd);this.Sd=k;this.N.Ic();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(Yl)};
t.jj=function(){this.Sd||(this.Sd=window.setTimeout(v(this.Ic,this),100))};t.pF=function(){return this.Sd?(window.clearTimeout(this.Sd),this.Sd=k,j):n};a.am=function(b){b.pF()||window.setTimeout(v(b.pF,b),10)};t.p=function(){Zl.m.p.call(this);delete this.CF;this.N.G();this.Gf.G();this.zf=k};t.gR=function(b,c,d){this.ec==b&&this.Fm(c,d)};
t.Fm=function(b,c){var d="object"==ja(c)&&c,e=(d?d.YZ():c)?dm(this,this.Nc):-1;this.Jc+=this.cb.length;this.cb=b;for(var g=[],h=0;h<b.length;++h)g.push({id:this.Jc+h,data:b[h]});h=k;this.Vb&&(h=this.CF[ua(this.Vb)]||this.Vb);this.N.rL=h;this.N.Fm(g,this.ec,this.Vb);h=this.sn;d&&d.SN()!==i&&(h=d.SN());(h||0<=e)&&0!=g.length&&this.ec?this.Oe(0<=e?this.Jc+e:this.Jc):this.Nc=-1;this.dispatchEvent("suggestionsupdate")};a.dm=function(b,c){var d=c-b.Jc;return 0>d||d>=b.cb.length?-1:d};
t.fl=function(b){var c=this.Gf;c.fl.apply(c,arguments)};t.update=function(b){this.Gf.update(b)};a.gm=function(b){var c;a:{var d=0,e=0;if(em(b))d=b.selectionStart,e=-1;else if(A){var g=fm(b);c=g[0];g=g[1];if(c.inRange(g)){c.setEndPoint("EndToStart",g);if("textarea"==b.type){g.duplicate();d=b=c.text;for(e=n;!e;)0==c.compareEndPoints("StartToEnd",c)?e=j:(c.moveEnd("character",-1),c.text==b?d+="\r\n":e=j);c=[d.length,-1];break a}d=c.text.length;e=-1}}c=[d,e]}return c[0]},a.fm=function(b){var c=b.ownerDocument||b.document,d=c.selection.createRange();"textarea"==b.type?(c=c.body.createTextRange(),
c.moveToElementText(b)):c=b.createTextRange();return[c,d]},a.hm=function(b,c){"textarea"==b.type&&(c=Ja(b.value.substring(0,c)).length);return c},a.em=function(b){try{return"number"==typeof b.selectionStart}catch(c){return n}};a.im=function(b,c){M.call(this);b&&this.attach(b,c)};y(im,Hd);t=im.prototype;t.e=k;t.Fs=k;t.ty=k;t.Gs=k;t.he=-1;t.oi=-1;t.hv=n;
a.jm={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},a.km={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},a.lm=A||C&&Gb("525"),a.mm=mb&&B;t=im.prototype;
t.tf=function(b){if(C&&(17==this.he&&!b.ctrlKey||18==this.he&&!b.altKey||mb&&91==this.he&&!b.metaKey))this.oi=this.he=-1;-1==this.he&&(b.ctrlKey&&17!=b.keyCode?this.he=17:b.altKey&&18!=b.keyCode?this.he=18:b.metaKey&&91!=b.keyCode&&(this.he=91));lm&&!Vg(b.keyCode,this.he,b.shiftKey,b.ctrlKey,b.altKey)?this.handleEvent(b):(this.oi=B?Wg(b.keyCode):b.keyCode,mm&&(this.hv=b.altKey))};t.PO=function(b){this.oi=this.he=-1;this.hv=b.altKey};
t.handleEvent=function(b){var c=b.Zb,d,e,g=c.altKey;A&&"keypress"==b.type?(d=this.oi,e=13!=d&&27!=d?c.keyCode:0):C&&"keypress"==b.type?(d=this.oi,e=0<=c.charCode&&63232>c.charCode&&Ug(d)?c.charCode:0):tb?(d=this.oi,e=Ug(d)?c.keyCode:0):(d=c.keyCode||this.oi,e=c.charCode||0,mm&&(g=this.hv),mb&&(63==e&&224==d)&&(d=191));var h=d,l=c.keyIdentifier;d?63232<=d&&d in jm?h=jm[d]:25==d&&b.shiftKey&&(h=9):l&&l in km&&(h=km[l]);b=h==this.he;this.he=h;c=new nm(h,e,b,c);c.altKey=g;this.dispatchEvent(c)};t.h=q("e");
t.attach=function(b,c){this.Gs&&this.detach();this.e=b;this.Fs=N(this.e,"keypress",this,c);this.ty=N(this.e,"keydown",this.tf,c,this);this.Gs=N(this.e,"keyup",this.PO,c,this)};t.detach=function(){this.Fs&&(Ad(this.Fs),Ad(this.ty),Ad(this.Gs),this.Gs=this.ty=this.Fs=k);this.e=k;this.oi=this.he=-1};t.p=function(){im.m.p.call(this);this.detach()};a.nm=function(b,c,d,e){e&&this.w(e,i);this.type="key";this.keyCode=b;this.charCode=c;this.repeat=d};y(nm,md);a.om=function(b,c,d,e){M.call(this);e=e||150;this.nm=d!=k?d:j;this.zp=b||",;";this.$M=this.zp.substring(0,1);b=this.nm?"[\\s"+this.zp+"]+":"[\\s]+";this.hJ=RegExp("^"+b+"|"+b+"$","g");this.DU=RegExp("\\s*["+this.zp+"]$");this.eG=c||"";this.BT=this.nm;this.ra=0<e?new Jd(e):k;this.ic=new me(this);this.Tu=new me(this);this.qb=new im;this.XF=-1};y(om,M);a.pm=(ii||ji)&&!Gb("533.17.9");t=om.prototype;t.vW=j;t.PN=j;t.oJ=n;t.FU=j;t.EU=j;t.Wu=k;t.hb=k;t.Qo="";t.Qi=n;t.dA=n;t.mJ=j;t.Pr=q("hb");t.X=function(){return this.hb.value};
t.ua=function(b){this.hb.value=b};t.Mq=function(b){ra(b)&&1==b.nodeType&&Pc(b,"haspopup",j);this.ic.c(b,"focus",this.Me);this.ic.c(b,"blur",this.$c);this.hb||(this.Tu.c(b,"keydown",this.oS),ra(b)&&1==b.nodeType&&Lc(Tb(b))==b&&qm(this,b))};t.fl=function(b){for(var c=0;c<arguments.length;c++)this.Mq(arguments[c])};t.Bi=function(b,c){rm(this,b.toString(),c);return n};
a.rm=function(b,c,d){if(la(d)?d:b.nm){var d=sm(b,b.X(),gm(b.hb)),e=tm(b,b.X());b.DU.test(c)||(c=Ma(c)+b.$M);b.vW&&(0!=d&&!Ha(e[d-1])&&(c=" "+c),d==e.length-1&&(c+=" "));if(c!=e[d]){e[d]=c;c=b.hb;(B||A&&Gb("9"))&&c.blur();c.value=e.join("");for(var g=0,h=0;h<=d;h++)g+=e[h].length;c.focus();d=g;e=b.hb;c=d;em(e)?e.selectionStart=c:A&&(g=fm(e),h=g[0],h.inRange(g[1])&&(c=hm(e,c),h.collapse(j),h.move("character",c),h.select()));e=b.hb;em(e)?e.selectionEnd=d:A&&(g=fm(e),c=g[1],g[0].inRange(c)&&(d=hm(e,d),
e=hm(e,gm(e)),c.collapse(j),c.moveEnd("character",d-e),c.select()))}}else b.ua(c);b.dA=j};t.p=function(){om.m.p.call(this);this.Wu!=k&&window.clearTimeout(this.Wu);this.ic.G();delete this.ic;this.Tu.G();this.qb.G()};
t.$b=function(b){switch(b.keyCode){case 40:if(this.ca.ub())return this.oJ?cm(this.ca):bm(this.ca),b.preventDefault(),j;if(!this.nm)return this.update(j),b.preventDefault(),j;break;case 38:if(this.ca.ub())return this.oJ?bm(this.ca):cm(this.ca),b.preventDefault(),j;break;case 9:if(this.ca.ub()&&!b.shiftKey){if(this.update(),this.ca.Ai()&&this.BT)return b.preventDefault(),j}else this.ca.Ic();break;case 13:if(this.ca.ub()){if(this.update(),this.ca.Ai())return b.preventDefault(),b.stopPropagation(),j}else this.ca.Ic();
break;case 27:if(this.ca.ub())return this.ca.Ic(),b.preventDefault(),b.stopPropagation(),j;break;case 229:if(!this.Qi)return this.Qi||(this.ic.c(this.hb,"keyup",this.dH),this.ic.c(this.hb,"keypress",this.cH),this.Qi=j),j;break;default:this.ra&&!this.mJ&&(this.ra.stop(),this.ra.start())}return um(this,b)};a.um=function(b,c){var d=b.nm&&c.charCode&&-1!=b.zp.indexOf(String.fromCharCode(c.charCode));b.FU&&d&&b.update();return b.EU&&d&&b.ca.Ai()?(c.preventDefault(),j):n};t.Zr=s(n);
a.vm=function(b){b.qb.attach(b.hb);b.ic.c(b.qb,"key",b.ip);b.ic.c(b.hb,"mousedown",b.eH);A&&b.ic.c(b.hb,"keypress",b.bH)};t.Me=function(b){qm(this,b.target||k)};a.qm=function(b,c){b.Tu.Qc();b.ca&&am(b.ca);c!=b.hb&&(b.hb=c,b.ra&&(b.ra.start(),b.ic.c(b.ra,Kd,b.tm)),b.Qo=b.X(),vm(b))};t.$c=function(){pm?this.Wu=window.setTimeout(v(this.FH,this),0):this.FH()};
t.FH=function(){this.hb&&(this.ic.wa(this.qb,"key",this.ip),this.qb.detach(),this.ic.wa(this.hb,"keyup",this.Zr),this.ic.wa(this.hb,"mousedown",this.eH),A&&this.ic.wa(this.hb,"keypress",this.bH),this.Qi&&wm(this),this.hb=k,this.ra&&(this.ra.stop(),this.ic.wa(this.ra,Kd,this.tm)),this.ca&&this.ca.jj())};t.tm=function(){this.update()};t.oS=function(b){this.Me(b)};t.ip=function(b){this.XF=b.keyCode;this.ca&&this.$b(b)};t.cH=function(){this.Qi&&229!=this.XF&&wm(this)};
t.dH=function(b){this.Qi&&(13==b.keyCode||77==b.keyCode&&b.ctrlKey)&&wm(this)};t.eH=function(b){this.ca&&this.Ne(b)};t.Ne=ba();a.wm=function(b){b.Qi&&(b.Qi=n,b.ic.wa(b.hb,"keypress",b.cH),b.ic.wa(b.hb,"keyup",b.dH))};t.bH=function(b){um(this,b)};t.update=function(b){if(this.hb&&(b||this.X()!=this.Qo)){if(b||!this.dA){var b=gm(this.hb),c=this.X(),b=tm(this,c)[sm(this,c,b)],b=this.hJ?String(b).replace(this.hJ,""):b;this.ca&&(this.ca.Vb=this.hb,this.ca.Rt(b,this.X()))}this.Qo=this.X()}this.dA=n};
a.sm=function(b,c,d){b=tm(b,c);if(d==c.length)return b.length-1;for(var e=c=0,g=0;e<b.length&&g<=d;e++)g+=b[e].length,c=e;return c},a.tm=function(b,c){if(!b.nm)return[c];for(var d=String(c).split(""),e=[],g=[],h=0,l=n;h<d.length;h++)b.eG&&-1!=b.eG.indexOf(d[h])?(b.PN&&!l&&(e.push(g.join("")),g.length=0),g.push(d[h]),l=!l):!l&&-1!=b.zp.indexOf(d[h])?(g.push(d[h]),e.push(g.join("")),g.length=0):g.push(d[h]);e.push(g.join(""));return e};a.xm=function(b,c){M.call(this);this.iW=b;this.zB=!c;this.ea=new xe};y(xm,M);t=xm.prototype;t.yG="GET";t.vc=i;t.IP=k;t.zy=k;t.rA=ca("yG");t.Oa=ca("vc");t.BW=function(b,c,d){var d=He(d.target),e=[];if(d)try{e=Zc(d)}catch(g){}c(b,e)};
t.yi=function(b,c,d){var e,g=this.zB;e=new vf(this.iW);lj(e);e.Ld.set("token",b);c=String(c);lj(e);e.Ld.set("max_matches",c);g=String(Number(g));lj(e);e.Ld.set("use_similar",g);if(e=e.toString())b=v(this.BW,this,b,d),this.ea.Hb()&&this.ea.abort(),this.zy&&Ad(this.zy),this.zy=xd(this.ea,"success",b),this.ea.send(e,this.yG,this.vc,this.IP)};t.p=function(){this.ea.G();xm.m.p.call(this)};a.Am=function(b,c,d,e,g,h,l,m,p){var r=ym(d),x=pg(b),F=fg(b);F&&x.EF(new Qf(F.left,F.top,F.right-F.left,F.bottom-F.top));var F=Ub(b),I=Ub(d);if(F.xa()!=I.xa()){var G=F.xa().body,I=I.Ta(),Q=new Ob(0,0),X=cc(Tb(G)),ka=G;do{var Na=X==I?dg(ka):ig(ka);Q.x+=Na.x;Q.y+=Na.y}while(X&&X!=I&&(ka=X.frameElement)&&(X=X.parent));G=Pb(Q,dg(G));A&&!Mc(F)&&(G=Pb(G,Nc(F)));x.left+=G.x;x.top+=G.y}b=(c&4&&eg(b)?c^2:c)&-5;x=new Ob(b&2?x.left+x.width:x.left,b&1?x.top+x.height:x.top);x=Pb(x,r);g&&(x.x+=(b&2?-1:1)*g.x,x.y+=
(b&1?-1:1)*g.y);var Ea;if(l)if(p)Ea=p;else if(Ea=fg(d))Ea.top-=r.y,Ea.right-=r.x,Ea.bottom-=r.y,Ea.left-=r.x;return zm(x,d,e,h,Ea,l,m)},a.ym=function(b){var c;if(b=b.offsetParent){var d="HTML"==b.tagName||"BODY"==b.tagName;if(!d||"static"!=Yf(b))c=dg(b),d||(d=(d=eg(b))&&B?-b.scrollLeft:d&&(!A||!Gb("8"))?b.scrollWidth-b.clientWidth-b.scrollLeft:b.scrollLeft,c=Pb(c,new Ob(d,b.scrollTop)))}return c||new Ob},a.zm=function(b,c,d,e,g,h,l){var b=b.clone(),m=0,p=(d&4&&eg(c)?d^2:d)&-5,d=og(c),l=l?l.clone():
d.clone();if(e||0!=p)p&2?b.x-=l.width+(e?e.right:0):e&&(b.x+=e.left),p&1?b.y-=l.height+(e?e.bottom:0):e&&(b.y+=e.top);if(h){if(g){m=b;e=0;if(65==(h&65)&&(m.x<g.left||m.x>=g.right))h&=-2;if(132==(h&132)&&(m.y<g.top||m.y>=g.bottom))h&=-5;m.x<g.left&&h&1&&(m.x=g.left,e|=1);m.x<g.left&&(m.x+l.width>g.right&&h&16)&&(l.width=Math.max(l.width-(m.x+l.width-g.right),0),e|=4);m.x+l.width>g.right&&h&1&&(m.x=Math.max(g.right-l.width,g.left),e|=1);h&2&&(e|=(m.x<g.left?16:0)|(m.x+l.width>g.right?32:0));m.y<g.top&&
h&4&&(m.y=g.top,e|=2);m.y>=g.top&&(m.y+l.height>g.bottom&&h&32)&&(l.height=Math.max(l.height-(m.y+l.height-g.bottom),0),e|=8);m.y+l.height>g.bottom&&h&4&&(m.y=Math.max(g.bottom-l.height,g.top),e|=2);h&8&&(e|=(m.y<g.top?64:0)|(m.y+l.height>g.bottom?128:0));m=e}else m=256;if(m&496)return m}$f(c,b);Rb(d,l)||(g=Mc(Ub(Tb(c))),A&&(!g||!Gb("8"))?(b=c.style,g?(g=xg(c),c=gg(c),b.pixelWidth=l.width-c.left-g.left-g.right-c.right,b.pixelHeight=l.height-c.top-g.top-g.bottom-c.bottom):(b.pixelWidth=l.width,b.pixelHeight=
l.height)):(c=c.style,B?c.MozBoxSizing="border-box":C?c.WebkitBoxSizing="border-box":c.boxSizing="border-box",c.width=Math.max(l.width,0)+"px",c.height=Math.max(l.height,0)+"px"));return m};a.Bm=function(b,c,d,e){M.call(this);this.Xa=b||document.body;this.H=Ub(this.Xa);this.up=!b;this.e=k;this.ec="";this.cb=[];this.Bg=[];this.NI=this.Gj=-1;this.ob=n;this.className="ac-renderer";this.It="ac-row";this.$F="active";this.Vu="ac-active";this.MP="ac-highlighted";this.rl=c||k;this.rJ=e!=k?e:j;this.hs=n;this.pU=!!d;this.lu=n;this.Ws=0};y(Bm,Hd);t=Bm.prototype;t.h=q("e");t.Kf=ca("rJ");
t.Fm=function(b,c,d){this.ec=c;this.cb=b;this.Gj=-1;this.NI=za();this.Vb=d;this.Bg=[];this.e||(this.e=b=this.H.o("div",{style:"display:none"}),D.add(b,this.className),Oc(b,Xc.SB),b.id=ih(hh.F()),this.H.appendChild(this.Xa,b),N(b,"click",this.Vr,n,this),N(b,"mousedown",this.zj,n,this),N(b,"mouseover",this.NE,n,this));this.lu&&(this.e.style.visibility="hidden");this.wW&&(this.e.style.minWidth=this.wW.clientWidth+"px");this.Bg.length=0;this.H.At(this.e);if(this.rl&&this.rl.Z)this.rl.Z(this,this.e,this.cb,
this.ec);else{var e=k;O.forEach(this.cb,function(b){b=Cm(this,b,this.ec);this.lu?this.e.insertBefore(b,e):this.H.appendChild(this.e,b);e=b},this)}0==this.cb.length?this.Ic():(this.show(),this.oa(),tg(this.e,j))};t.Ic=function(){this.Vb&&Pc(this.Vb,"activedescendant","");this.ob&&(this.ob=n,this.Vb&&Pc(this.Vb,Wc.Xk,n),0<this.Ws?(Vc(this.al),this.al=new Jj(this.e,this.Ws),this.al.play()):R(this.e,n))};
t.show=function(){this.ob||(this.ob=j,this.Vb&&(Oc(this.Vb,Xc.UJ),Pc(this.Vb,Wc.QJ,"list"),Pc(this.Vb,Wc.Xk,j)),0<this.Ws?(Vc(this.al),this.al=new Kj(this.e,this.Ws),this.al.play()):R(this.e,j))};t.S=q("ob");a.Dm=function(b,c){var d=0<=c&&c<b.Bg.length?b.Bg[c]:i;b.dispatchEvent({type:"rowhilite",Y_:d})&&(0<=b.Gj&&D.remove(b.Bg[b.Gj],b.Vu,b.$F),b.Gj=c,d&&(D.add(d,b.Vu,b.$F),b.Vb&&Pc(b.Vb,"activedescendant",d?d.id:""),hg(d,b.e)))};
t.Oe=function(b){if(-1==b)Dm(this,-1);else for(var c=0;c<this.cb.length;c++)if(this.cb[c].id==b){Dm(this,c);break}};t.oa=function(){if(this.Vb&&this.up){var b;b=this.pU?3:1;this.lu&&(b^=1);Am(this.rL||this.Vb,b,this.e,b^1,k,k,65);this.lu&&(this.e.style.visibility="visible")}};t.p=function(){this.e&&(yd(this.e,"click",this.Vr,n,this),yd(this.e,"mousedown",this.zj,n,this),yd(this.e,"mouseover",this.NE,n,this),this.H.removeNode(this.e),this.e=k,this.ob=n);Vc(this.al);this.Xa=k;Bm.m.p.call(this)};
t.XH=function(b,c,d){d.innerHTML=Ua(b.data.toString())};
a.Em=function(b,c,d){if(3==c.nodeType){var e=k;ma(d)&&(1<d.length&&!b.hs)&&(e=z.slice(d,1));var g="";d&&(ma(d)&&(d=z.filter(d,function(b){return!Ha(b==k?"":String(b))})),b.hs?ma(d)?g=z.map(d,$a).join("|"):(g=d.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),g=$a(g),g=g.replace(/ /g,"|")):ma(d)?g=0<d.length?$a(d[0]):"":/^\W/.test(d)||(g=$a(d)));d=g;if(0!=d.length){for(var g=c.nodeValue,h=RegExp("([\\s\\S]*?)\\b("+d+")","gi"),d=[],l=0,m=h.exec(g),p=0;m;)p++,d.push(m[1]),d.push(m[2]),l=h.lastIndex,
m=h.exec(g);d.push(g.substring(l));if(1<d.length){e=!b.hs?1:p;for(g=0;g<e;g++)h=2*g,c.nodeValue=d[h],l=b.H.createElement("b"),l.className=b.MP,b.H.appendChild(l,b.H.createTextNode(d[h+1])),l=c.parentNode.insertBefore(l,c.nextSibling),c.parentNode.insertBefore(b.H.createTextNode(""),l.nextSibling),c=l.nextSibling;b=z.slice(d,2*e);c.nodeValue=b.join("")}else e&&Em(b,c,e)}}else for(c=c.firstChild;c;)e=c.nextSibling,Em(b,c,d),c=e},a.Cm=function(b,c,d){var e=b.H.o("div",{className:b.It,id:ih(hh.F())});
Oc(e,Xc.WB);b.rl&&b.rl.dd?b.rl.dd(c,d,e):b.XH(c,d,e);d&&b.rJ&&Em(b,e,d);D.add(e,b.It);b.Bg.push(e);return e},a.Fm=function(b,c){for(;c&&c!=b.e&&!D.has(c,b.It);)c=c.parentNode;return c?z.indexOf(b.Bg,c):-1};t.Vr=function(b){var c=Fm(this,b.target);0<=c&&this.dispatchEvent({type:Wl,xp:this.cb[c].id});b.stopPropagation()};t.zj=function(b){b.stopPropagation();b.preventDefault()};t.NE=function(b){b=Fm(this,b.target);0<=b&&!(300>za()-this.NI)&&this.dispatchEvent({type:Vl,xp:this.cb[b].id})};a.Gm=function(){};
Gm.prototype.Z=ba();Gm.prototype.dd=ba();a.Hm=function(b,c,d,e){this.zf=b=new xm(b,!e);e=new Bm;d=new om(k,k,!!d,300);Zl.call(this,b,e,d);d.ca=this;d.fl(c)};y(Hm,Zl);Hm.prototype.Kf=function(b){this.N.Kf(b)};Hm.prototype.rA=function(b){this.zf.rA(b)};Hm.prototype.Oa=function(b){this.zf.Oa(b)};a.Im=function(b){T.call(this);this.mT=b};y(Im,T);t=Im.prototype;t.$=function(b){Im.m.$.call(this,b);this.we=$("input",b);this.yd=$(".zm-profile-details-items",this.e);this.Aq=[];var c=this;c.Aq=this.we.map(function(){var b=new Jm("/topic/autocomplete",this,c.mT||$(this).parents(".topic-input-wrap")[0]);b.sn=n;var e=v(c.filter,c);b.filter=e;return b});this.Hm()};
t.B=function(){this.g().c(J("add",this.e),"click",this.add);var b=this;this.we.each(function(){b.g().c(this,"keydown",function(b){this.keydown(b)})});z.forEach(this.Aq,function(c){b.g().c(c.N,Wl,b.select)});this.yd.on("click","[name='del']",$.proxy(this.remove,this));this.Hm()};t.Hm=function(){if(!Dg.Oc){var b=this;this.bg&&this.bg.G();var c=new Jl;c.Br="profile-edit-item-moving";Kl(c,this.yd[0],0);c.w();this.bg=c;$('a, input, [role="button"]',this.yd).each(function(){b.g().c(this,"mousedown",function(b){b.stopPropagation()})})}};
t.keydown=function(b){13===b.keyCode&&setTimeout(v(function(){Km(this)&&this.add();this.we[0].value&&(this.we[1]&&!this.we[1].value)&&this.we[1].focus()},this));return j};a.Km=function(b){return z.every(b.we,function(b){return!!b.value})},a.Lm=function(b){z.forEach(b.we,function(b){b.value=""});b.we[0].focus()};t.select=function(){Km(this)&&this.add()};
t.add=function(){var b=La(this.we[0].value);b&&(b={title:b,member_url_token:Hg["1"]},this.we[1]&&(b.sub_title=this.we[1].value||""),Vj("ProfileEditItemV2",b,this.IR,this))};t.IR=function(b){var b=$(b),c;if(b.data("title")){if(c=this.yd.find("[data-title='"+b.data("title")+"']")[0]){Ck(c);Lm(this);return}}else if(b.data("sub-title")&&(c=this.yd.find("[data-sub-title='"+b.data("sub-title")+"']")[0])){Ck(c);Lm(this);return}this.yd.append(b);this.Hm();Lm(this);this.dispatchEvent("add")};
t.remove=function(b){$(b.target).parents("li").remove();this.dispatchEvent("remove")};Im.prototype.filter=function(b){return z.filter(b,function(b){return!this.yd.find("[data-title='"+b+"']")[0]},this)};a.Jm=function(b,c,d,e,g){this.zf=b=new xm(b,!g);d=new Bm(d);e=new om(k,k,!!e,300);Zl.call(this,b,d,e);e.ca=this;e.fl(c);(e=c.getAttribute("placeholder"))&&new El(c,e)};y(Jm,Hm);
Jm.prototype.Fm=function(b,c){b=b[0].slice(1);b=z.filter(b,function(b){return 3<b.length});b=z.map(b,function(b){return b[1]});this.filter&&(b=this.filter(b));Jm.m.Fm.call(this,b,c)};a.Mm=function(b){T.call(this);$.extend(this.options={},this.R,b||{});this.MG=(new vf(location.href)).Lc().get("next")};y(Mm,T);t=Mm.prototype;t.R={lw:function(b,c){Nm(this,b).toggle(c);Om(this);Pm(this,b)}};t.og=n;t.Iu={signup:["signcontrol","signup","sina"],signin:["signcontrol","signin","sina"]};a.Qm=function(b){b.ew();b.MG?location.href=b.MG:b.og?location.href="/":location.reload()};t.B=function(){Mm.m.B.call(this);this.L.show();this.fb("登录或注册");this.Fi(500);Om(this)};
t.$=function(b){Mm.m.$.call(this,b);this.L=$(b);ub&&!ji?this.L.addClass("mobile"):this.L.addClass("dialog");this.og&&(this.L=$(document.body));var b=this.og?k:function(b,c){var d=c.parent();c.is("[type=checkbox]")||c.is("[type=radio]")?b.insertAfter(d):d.hasClass("zg-form-text-input-group")||d.hasClass("zg-form-text-input-group-horizontal")?d.append(b):b.insertAfter(c)},c={confirm_password:{equalTo:"密码不一致",minlength:$.validator.format("密码长度不应小于 {0} 位"),maxlength:$.validator.format("密码长度不应大于 {0} 位")},
password:{minlength:$.validator.format("密码长度不应小于 {0} 位"),maxlength:$.validator.format("密码长度不应大于 {0} 位"),required:"密码未填写"},last_name:{required:"姓氏未填写"},first_name:{required:"名字未填写"},email:{required:"邮箱未填写"}},b={submitHandler:this.fS,errorPlacement:b,messages:c,onfocusout:$.noop,highlight:function(b,c,d){"radio"===b.type?this.jE(b.name).addClass("error").removeClass(d):$(b).addClass("error").removeClass(d)},errorClass:"validate-error"};this.og&&(b=$.extend({},b,{errorContainer:"#summary",errorLabelContainer:"#summary ul",
wrapper:"li",showErrors:function(b,c){if(0<c.length){var d=[];d.push("<ul>");$.each(c,function(b,c){d.push('<li><i class="icon-sign icon-sign-error"></i>'+c.message+"</li>")});d.push("</ul>");$("#summary").html(d.join("")).show()}else $("#summary").hide().html("")}}));this.Tt=b;(b=Nf.get("r_e"))?(this.Cl=(c=b.match(/\"(.+)\"/))?c[1]:b,this.ul="signup"):this.ul=this.ul||"signup";Rm(this,this.Iu[this.ul]);var d=this;this.L.on("click",".js-signup",$.proxy(this.JA,this));this.L.on("click",".js-signin",
$.proxy(this.EI,this));this.L.on("click",".js-bindsignin",function(b){Y.V({type:"ga_click_sign_in_link_account",target:b.target});Rm(d,["bindsignin"]);d.dg()});this.L.on("click",".js-bindweibo",function(){Y.V({type:"ga_click_sign_in_weibo",label:"sign_in_box_weibo"});window.open("/oauth/auth/sina?next="+Sm(),"_blank","top=200,left=400,width=600,height=380,directories=no,menubar=no,toolbar=no");return n}).on("click",".js-weiboname",function(){Y.V({type:"ga_click_sign_in_connect",label:"sign_in_connect_weibo"});
window.open("/oauth/auth/sina?next="+Sm(),"_blank","top=200,left=400,width=600,height=380,directories=no,menubar=no,toolbar=no");return n}).on("click",".js-bindqq",function(){Y.V({type:"ga_click_sign_in_qq",label:"sign_in_box_qq"});window.open("/oauth/auth/qqconn?next="+Sm(),"_blank","top=200,left=400,width=600,height=380,directories=no,menubar=no,toolbar=no");return n}).on("click",".js-qqname",function(){Y.V({type:"ga_click_sign_in_connect",label:"sign_in_connect_weibo"});window.open("/oauth/auth/qqconn?next="+
Sm(),"_blank","top=200,left=400,width=600,height=380,directories=no,menubar=no,toolbar=no");return n});this.Gu=$(".view-signcontrol",this.e);this.Gu.find('[type="radio"]').on("change",$.proxy(function(b){b=$(b.target).val();Tm(this,"signin","signin"===b);Tm(this,"signup","signup"===b);Y.V({type:"ga_click_sign_in_switch",data:b})},this)).filter("[value="+this.ul+"]").prop("checked",j);var b=$(".view-signin",this.e).find("form"),c=$('input[name="email"]',b),e=Yi.get("lastuser:email");!c.val()&&e&&c.val(e);
b.validate($.extend({},this.Tt,{Is:$.proxy(this.jH,this)}));this.uq=b;var g=this;g.q0=(g.Jg=$(".view-signup",g.e)).find("form").validate($.extend({},g.Tt,{Is:$.proxy(g.IS,g)}));g.Cl&&(g.JA(),g.Jg.find("[name=email]").val(g.Cl));g.Jg.find('input[name="accept_terms"]').on("change",function(){g.Jg.find("[type=submit]").prop("disabled",!$(this).prop("checked")).toggleClass("disabled",!$(this).prop("checked"))});if(!A||!Gb("8"))g.Jg.on("change","input, textarea, select",function(){g.vw()});this.g().c(Y,
["accountcallback","sina_callback","qqconn_callback"],$.proxy(this.SG,this));this.JJ=$(".view-bindtip",this.e);var h=this;h.p0=(h.xd=$(".view-info",h.e)).find("form").validate($.extend({},h.Tt,{Is:$.proxy(h.iS,h)}));h.xd.on("change",'input[name="iamstudent"]',function(){$(this).prop("checked")?(h.xd.find(".js-workerinfo").hide(),h.xd.find(".js-studentinfo").show(),Om(h),Um(h)):(h.xd.find(".js-workerinfo").show(),h.xd.find(".js-studentinfo").hide())}).on("change",'input[name="gender"]',function(){var b=
$(".js-avatar",h.L),c=b.attr("src");if("http://p2.zhimg.com/c0/e3/c0e310228_xl.jpg"===c||"http://p2.zhimg.com/54/5a/545a51608_xl.jpg"===c)"0"===$(this).val()?b.attr("src","http://p2.zhimg.com/54/5a/545a51608_xl.jpg"):b.attr("src","http://p2.zhimg.com/c0/e3/c0e310228_xl.jpg")});Um(h);var l=this;(l.mq=$(".view-bindsignin",l.e)).find("form").validate($.extend({},l.Tt,{Is:$.proxy(l.PR,l)}));l.mq.on("click",".js-backto-info",function(b){Y.V({type:"ga_click_sign_in_link_account",target:b.target});Rm(l,
["bindtip","info"]);return n});ub&&l.mq.find("input[type=submit]").val("登录");var m=this;m.HW=$(".view-warmup",m.e).on("click",".js-gotoinfo",function(){m.GP=j;Ok("/signup/form");Rm(m,["info"]);m.og&&(Rm(m,["info","bindtip"]),m.JJ.find("span").hide());m.dg();return n});var p=this;p.sq=$(".view-followtopic",p.e).on("click",".js-gotofollowpeople",function(){Y.V({type:"ga_click_follow_topic",data:p.UV||0});$.get("/register/recommendations").done(function(b){p.en.find("ul").html(Pk(p.qT,{each:z.forEach,
persons:b.msg}));p.en.find("a.box.followed").length&&p.en.find(".friendsfollowed").show()});Rm(p,["followpeople"]);p.en.find("ul").html($("<div>").text("加载中…").css("margin-top","150px").css("text-align","center"));Ok("/signup/suggested_users");return n}).on("click","a.box",p.qE);$(document).on("followchange",function(){var b=p.sq.find("a.box.followed").length;p.sq.find(".js-gotofollowpeople").text(0<b?"下一步":"跳过");p.UV=b;p.pT=p.en.find("a.box.followed").length});var r=this;r.en=$(".view-followpeople",
r.e).on("click",".js-gotofollowtopoic",function(){Y.V({type:"ga_click_sign_in_previous_step"});Vm(r)}).on("click",".js-startuse",function(){Y.V({type:"ga_click_follow_people",data:r.pT||0});Ok("/signup/succeed");Qm(r)}).on("click","a.box",r.qE);this.dg();var x=this;A&&Gb("8")&&$(function(){$("input",x.e).keydown(function(b){if(13===b.keyCode)return $(this).parents("form").submit(),n})})};t.vw=function(){$(window).on("beforeunload.SignFlow",v(s("注册还未完成，确认离开该页面吗？"),this))};t.ew=function(){$(window).off("beforeunload.SignFlow")};
a.Om=function(b){Fl||setTimeout(function(){$("input[placeholder]:visible",b.e).placeholder()},10)},a.Sm=function(){return S.Ia()?"/oauth/callback":"/oauth/account_callback"};
t.SG=function(b){b=b.nb;if(1===b.login)return Ok("/signin/connect/weibo"),Qm(this),n;this.GP?Rm(this,["info","bindtip"]):(Rm(this,["warmup","bindtip"]),this.L.find(".js-weibo-bind-name-transfer").insertAfter(".main-info>div:first-child"));"qqconn"===b.type?(this.xd.find(".js-qqname").text(b.name).removeClass("zg-btn-blue js-qqname").addClass("binded"),this.L.find(".js-avatar").attr("src",b.img)):"sina"===b.type&&(0===$("#follow-official-weibo").length&&this.L.find(".sns-wrap").append('<div id="follow-official-weibo" style="margin-top:15px;"><label><input name="followzhihu" type="checkbox" checked> 关注 <a target="_blank" href="http://e.weibo.com/zhihu">@知乎</a> 官方微博</label></div>'),
this.xd.find(".js-weiboname").text(b.name).removeClass("zg-btn-red js-weiboname").addClass("binded"),this.L.find(".js-avatar").attr("src",b.img));this.xd.find(".zm-entry-head-avatar-edit-button").remove()};a.Um=function(b){ub||b.xd.find("input[aria-haspopup]").each(function(){var b=$(this).data();b.HP||(new Jm("/topic/autocomplete",this,$(this).parent()[0]),b.HP=j)})};
t.JA=function(){this.og&&(location.hash="signup");this.Gu.find("input[type=radio][value=signup]").prop("checked",j);Rm(this,this.Iu.signup);this.Jg.find("[name=email]").val(this.uq.find("[name=email]").val());Om(this);this.dg();return n};t.EI=function(){this.og&&(location.hash="signin");this.Gu.find("input[type=radio][value=signin]").prop("checked",j);Rm(this,this.Iu.signin);this.uq.find("[name=email]").val(this.Jg.find("[name=email]").val());this.dg();return n};a.Wm={people:Rj,topic:Uj};t=Mm.prototype;
t.qE=function(){var b=$(this),c=b.data();c.disabled||(c.disabled=j,Wm[c.type](c.id,!b.hasClass("followed")).done(function(){var c=b.hasClass("followed")?"关注":"已关注";b.toggleClass("followed");$(document).trigger("followchange");b.find(".follow-tip span").text(c)}).always(function(){c.disabled=n}))};t.ez=n;
t.fS=function(b){function c(){d.disabled=n}var d=$(b).data();if(!d.disabled){d.disabled=j;var e=this;var g=$(b);if(g.data("nosubmit")===j)b=$.Deferred().resolve().promise();else{var h=$(b).serializeArray();(g=g.data("otherform"))&&$.each($(g).serializeArray(),function(b,c){z.some(h,function(b){return b.name===c.name})||h.push(c)});b=$.post(b.action,$.param(h))}b.done(e.settings.Is).done(function(b){b&&b.r&&($.isPlainObject(b.msg)?e.showErrors(b.msg):"string"===$.type(b.msg)&&U(b.msg))}).always(c)}};
t.jH=function(b){b&&!b.r?(Ok("/signin"),Qm(this)):b.msg&&this.dg()};t.PR=function(b){Y.V({type:"ga_click_sign_in_link_account",label:"sign_in_box_sign_in_link_account"});this.jH(b)};
t.dg=function(){var b=$(".js-captcha");"1"===Nf.get("l_c")||"1"===Nf.get("r_c")?("1"===Nf.get("r_c")&&(this.xd.find("input[name=email]").is(":visible")?b.appendTo(this.xd.find(".main-info")).show():this.Jg.is(":visible")&&b.insertBefore(this.Jg.find(".captcha-holder")).show()),"1"===Nf.get("l_c")&&(this.mq.is(":visible")?b.appendTo(this.mq.find(".formbar")).show():this.uq.is(":visible")&&b.insertBefore(this.uq.find(".captcha-holder")).show()),this.dg.aM||$(".js-refresh-captcha",this.L).click($.proxy(this.SH,
this)),this.dg.aM=j,b.find('input[name="checkcode"]').prop("disabled",n),this.SH()):(b.hide(),b.find('input[name="checkcode"]').prop("disabled",j))};t.SH=function(){$(".js-captcha-img",this.L).attr("src","/checkcode.jpg?r="+za())};
t.IS=function(b){if(b&&!b.r){S[3]="1";var c=this,b=new Bl("people");b.n(this.xd.find(".avatar-info").get(0));b.on("uploadSuccess",function(b){Y.V({type:"ga_click_sign_in_avatar"});(b=b.data.match(/\/(\w+)_\w.\w+$/))&&c.xd.find('input[name="avatar_path"]').val(b[1])},n,this);Rm(this,["warmup"]);this.xd.find("input[name=email]").val(this.Jg.find("input[name=email]").val()).parent().hide();Ok("/signup/splash");this.ez=j}else this.dg()};t.iS=function(b){b&&!b.r?(Vm(this),this.ez=j):this.dg()};
a.Vm=function(b){$.get("/register/interests").done(function(c){b.sq.find("ul").html(Pk(b.VV,{each:z.forEach,topics:c.msg}))});Rm(b,["followtopic"]);$(document).trigger("followchange");b.sq.find("ul").html($("<div>").text("加载中…").css("margin-top","150px").css("text-align","center"));Ok("/signup/suggested_topics")};t.fb=function(b){var c=this.getParent();c&&c.fb&&(c.fb(b),$(yh(c)).removeClass("title-rich"))};t.Pt=function(b){var c=this.getParent();c&&c.Pt&&c.Pt(b)};
t.Fi=function(b){var c=this.getParent(),d;if(c&&c.h&&(d=c.h(),!ub||ji))$(d).width(b),c.oa()};
a.Rm=function(b,c){function d(b){return z.contains(c,b)}if(b.og){$("#summary").hide();d("signin")?($(".hideinlogin").hide(),$(".hideinreg").css("display","inline-block")):($(".hideinlogin").css("display","inline-block"),$(".hideinreg").hide());if(d("warmup")||d("info"))b.L.addClass("regflow"),$(".hideinlogin").hide();(d("signin")||d("signup"))&&b.L.removeClass("regflow");if(d("info"))$("#summary").prependTo($(".main-info"));else if(d("bindsignin"))$("#summary").insertAfter($(".formbar"));else{var e=
Nm(b,d("signin")?"signin":"signup");$("#summary").insertBefore(e.find(".command"))}(d("followtopic")||d("followpeople"))&&$(".hideinlogin").hide()}b.qF=d("signin")||d("signup")?j:n;if(d("warmup")||d("info"))b.Pt(n),e=b.getParent(),$(e&&e.h?e.h():document.body).addClass("bg-signup"),b.fb("注册知乎"),b.Fi(550),Om(b);d("bindsignin")&&b.fb("登录并绑定微博");if(d("followtopic")&&(b.fb("关注话题"),b.Fi(825),b.og&&(!ub||ji)))$("#js-form-wrapper").width(825).css("margin","0 0 0 -412px").css("top","150px").css("height",
"auto"),$(".footer").css("bottom","-100px"),$(".view-followtopic").width(825),$(".view-followpeople").width(825);d("followpeople")&&b.fb("关注用户");$("div.view",b.e).hide();$.each(c,function(c,d){Tm(b,d)});b.SM=c},a.Nm=function(b,c){return $(".view-"+c,b.e)},a.Tm=function(b,c,d){d="undefined"===$.type(d)?j:!!d;b.options.lw.call(b,c,d);d&&(b.SM=[c])},a.Pm=function(b,c){var d=Nm(b,c).find("input:text,input[type=email]").filter(":visible").get(0);setTimeout(function(){d&&d.focus()})};t.VV='<% each(topics, function(topic, i) { %> <li><a class="box <%= topic.is_following ? "followed" : "" %> " href="javascript:;" data-type="topic" data-id="<%=topic.topic_id%>" ><img src="<%=topic.topic_avatar%>" alt="<%-topic.topic_name%>" /><div><strong class="topicname"><%=topic.topic_name%></strong><div class="extra-info"><strong><%=topic.topic_follower_num%></strong> 人关注<br><strong><%=topic.topic_answer_num%></strong> 个精彩回答</div><div class="follow-tip"><i class="icon-green-check"></i><span><%= topic.is_following ? "已关注" : "关注" %></span></div></div></a></li><% }) %>';
t.qT='<% each(persons, function(person, i) { %> <li><a class="box <%= person.is_following ? "followed" : "" %>" href="javascript:;" data-type="people" data-id="<%=person.member_id %>"><img src="<%=person.member_avatar %>" alt="<%-person.member_fullname %>" /><div><strong class="peoplename"><%=person.member_fullname %></strong><div class="extra-info"><%=person.description %></div><div class="follow-tip"><i class="icon-green-check"></i><span><%= person.is_following ? "已关注" : "关注" %></span></div></div></a></li><% }) %>';a.Jk=function(){wh.call(this,i,i,i)};y(Jk,yi);ia(Jk);t=Jk.prototype;t.Z=function(){S.Ia()||Jk.m.Z.call(this)};t.KA=j;t.HV=Pk('    <span class="sign-icon sign-icon-<%- icon %>"></span>    <div class="title"><%= title %></div>    <div class="sub-title"><%= subTitle %></div>  ');t.Tc=function(b,c,d){var e=$;xh(this);var e=e(this.Qf),g=$(yh(this));b?(e.html(this.HV({icon:b,title:c,subTitle:d})),g.addClass("title-rich")):(e.text("登录或注册"),g.removeClass("title-rich"))};
a.Xm=function(b,c){b.KA=c;if(b.bi)if(b.KA){var d=b.bi;d.qF&&d.JA()}else d=b.bi,d.qF&&d.EI()},a.Ym=function(b){b.g().c(Y,"accountcallback",function(c){if(1===c.nb.login)return location.reload(),n;b.z(j);b.bi&&b.bi.SG(c)})};
t.B=function(){Jk.m.B.call(this);$(this.h()).addClass("sign-dialog");this.g().c(this,"aftershow",function(){var b=this.KA?"signup":"signin";if(this.bi)Pm(this.bi,b);else{var c=H("js-sign-flow");this.ba().appendChild(c);var d=this.bi=new Mm;this.J(d);d.ul=b;d.n(c);this.oa()}}).c(this,"afterhide",function(){Y.V({type:"ga_click_sign_in_close"});this.bi.ez&&location.reload()}).c(this,"beforeshow",function(){Y.V({type:"ga_click_sign_in",data:{label:this.Ha}})})};
$(function(){$("#js-reg-with-mail-in-top").click(function(){var b=Jk.F();b.Ha="header_sign_up";b.Tc();Xm(b,j);b.z(j)});$("#js-reg-with-sina-in-top").click(function(){var b=Jk.F();Y.V({type:"ga_click_sign_in_weibo",label:"header_sign_up"});b.Tc();Xm(b,j);Ym(b)});$("#js-reg-with-qq-in-top").click(function(){var b=Jk.F();Y.V({type:"ga_click_sign_in_qq",label:"header_sign_up"});b.Tc();Xm(b,j);Ym(b)})});Ki.on("init",function(){window.parent!=window&&document.referrer&&(z.some(["zhihu.com","weibo.com"],function(b){return-1<document.referrer.indexOf(b)})?-1<document.referrer.indexOf("zhihu.com")&&!$(window.top.document.body).hasClass("zhi")&&location.reload():location.reload())});Ki.on("init",function(){S.Cl&&Yi.set("lastuser:email",S.Cl)});
Ki.on("init",function(){$(".shameimaru-placeholder").each(function(){var b=$(this);$.get("/node/"+b.data("class"),{params:b.data("params")},function(c){var d=$(c);b.replaceWith(d);$(".shameimaru-close",d).click(function(b){b.preventDefault();$.post("/shameimaru/close",d.data());vk(d[0],j)})})})});
Ki.on("init",function(){$("#js-open-in-app").on("click",function(){var b=$('meta[name="apple-itunes-app"]').attr("content");if(b){var b=(new fj(b.replace(/,\s*/,"&"))).get("app-argument")||"",c=n;-1===b.indexOf("zhihu://")&&(b="zhihu://"+b);window.location=b;window.setTimeout(function(){c=j;window.location="http://itunes.apple.com/cn/app/id432274380"},250);window.setTimeout(function(){c&&window.location.reload()},500);W("app-promotion","click_zhihu_ios_open_dl_link","header_not_logged_in")}})});
Ki.on("init",function(){$(document.body).on("click.follow","[data-follow]",function(){if(this.name)return Mk("末清除的 name 属性:",this);var b=this.getAttribute("data-follow");(b=b&&Wk[b])&&b.call(this)})});Ki.on("postinit",function(){window.FastClick&&FastClick.attach(document.body)});
Ki.on("postinit",function(){if(S.Ia())if(window.MozWebSocket||window.WebSocket&&!("__addTask"in window.WebSocket))io.connect("http://"+Dg.fr).on("live",function(b){hl(Y,JSON.parse(b.replace(/^\+;/,"")))});else{var b=new kl({url:Ag,data:{loc:location.href,channel:za()+cb()},dataType:"polling",converters:{"text polling":function(b){return JSON.parse(b.replace(/^\+;/,""))}}});b.addEventListener("message",function(b){hl(Y,b.data)});b.Jz()}});
Ki.on("init",function(){new nl;vl.prototype.R.offsetTop=-60;var b=$('div[data-widget="navigable"], ul[data-widget="navigable"]');if(1===b.length){var c=b.data("navigable-options"),c=new vl(c);c.n(b.get(0));var d=$("#zh-load-more");c.on("action",function(b){b.data.index>=b.data.size&&d.is(":visible")&&d[0].click()})}});Ki.on("postinit",function(){yl.on("requestLogin",function(){if(!S.Ia())return Jk.F().z(j),n})});a.Zm=function(){xj.call(this);this.queue=[]};y(Zm,xj);Zm.prototype.add=function(b){z.contains(this.queue,b)||(this.queue.push(b),N(b,"finish",this.TG,n,this))};Zm.prototype.remove=function(b){z.remove(this.queue,b)&&yd(b,"finish",this.TG,n,this)};Zm.prototype.p=function(){z.forEach(this.queue,function(b){b.G()});this.queue.length=0;Zm.m.p.call(this)};a.$m=function(){Zm.call(this);this.Lw=0};y($m,Zm);
$m.prototype.play=function(b){if(0==this.queue.length)return n;if(b||this.da==wj)this.Lw=0,this.si();else if(1==this.da)return n;this.Td("play");-1==this.da&&this.Td("resume");var c=-1==this.da&&!b;this.startTime=za();this.Yn=k;this.da=1;z.forEach(this.queue,function(d){(!c||-1==d.da)&&d.play(b)});return j};$m.prototype.stop=function(b){z.forEach(this.queue,function(c){c.da==wj||c.stop(b)});this.da=wj;this.Yn=za();this.Td("stop");this.ti()};
$m.prototype.TG=function(){this.Lw++;this.Lw==this.queue.length&&(this.Yn=za(),this.da=wj,this.Td("finish"),this.ti())};a.an=function(b,c,d){M.call(this);this.Vj=b;this.eh=c;this.ia=d;this.Bv=v(this.NS,this)};y(an,M);t=an.prototype;t.Ut=n;t.yH=0;t.ra=k;t.fire=function(){!this.ra&&!this.yH?this.Vg():this.Ut=j};t.stop=function(){this.ra&&(Id.clearTimeout(this.ra),this.ra=k,this.Ut=n)};t.p=function(){an.m.p.call(this);this.stop()};t.NS=function(){this.ra=k;this.Ut&&!this.yH&&(this.Ut=n,this.Vg())};t.Vg=function(){this.ra=Ld(this.Bv,this.eh);this.Vj.call(this.ia)};a.bn=function(){M.call(this);this.e=k;this.lastPosition=0;this.Iw=this.xU=300;this.fs=j;this.kv=n;this.DV=150};y(bn,el);t=bn.prototype;t.w=function(){if(!(ub&&!ki||z.contains(Mg,"back_to_top"))){this.e=hc(this.zV);document.body.appendChild(this.e);var b=this.g(),c=new an(this.pz,this.DV,this);b.c(window,"scroll",function(){c.fire()});b.c(this.e,"click",this.ML)}};t.zV='<div class="zh-backtotop" style="display:none"><a data-action="backtotop" data-tip="s$r$回到顶部" href="javascript:;" class="btn-backtotop btn-action"><div class="arrow"></div><div class="stick"></div></a></div>';
t.ML=function(){var b=ac(document),c=bc(document),d=c.x,c=c.y,e=new $m,g=this.g();e.add(new Hj(b,[d,c],[0,0],this.xU,Oj));e.add(new Jj(this.e,this.Iw,Nj));g.c(e,"finish",this.bS);g.c(e,"begin",this.OR);e.play();Y.V("ga_click_back_to_top")};t.OR=function(){this.kv=this.fs=j};t.bS=function(){this.kv=n};t.pz=function(){if(!this.kv){var b=bc(document).y,c=ub?500:1E3;this.fs?b>=c&&((new Kj(this.e,this.Iw,Mj)).play(),this.fs=n):b<c&&((new Jj(this.e,this.Iw,Nj)).play(),this.fs=j)}};a.cn=function(){};cn.prototype.link="想来知乎工作？请发送邮件到 jobs@zhihu.com";cn.prototype.DL="          _____                    _____                    _____                    _____          \n         /\\    \\                  /\\    \\                  /\\    \\                  /\\    \\         \n        /::\\____\\                /::\\    \\                /::\\    \\                /::\\    \\        \n       /:::/    /                \\:::\\    \\              /::::\\    \\              /::::\\    \\       \n      /:::/    /                  \\:::\\    \\            /::::::\\    \\            /::::::\\    \\      \n     /:::/    /                    \\:::\\    \\          /:::/\\:::\\    \\          /:::/\\:::\\    \\     \n    /:::/____/                      \\:::\\    \\        /:::/__\\:::\\    \\        /:::/__\\:::\\    \\    \n   /::::\\    \\                      /::::\\    \\      /::::\\   \\:::\\    \\      /::::\\   \\:::\\    \\   \n  /::::::\\    \\   _____    ____    /::::::\\    \\    /::::::\\   \\:::\\    \\    /::::::\\   \\:::\\    \\  \n /:::/\\:::\\    \\ /\\    \\  /\\   \\  /:::/\\:::\\    \\  /:::/\\:::\\   \\:::\\____\\  /:::/\\:::\\   \\:::\\    \\ \n/:::/  \\:::\\    /::\\____\\/::\\   \\/:::/  \\:::\\____\\/:::/  \\:::\\   \\:::|    |/:::/__\\:::\\   \\:::\\____\\\n\\::/    \\:::\\  /:::/    /\\:::\\  /:::/    \\::/    /\\::/   |::::\\  /:::|____|\\:::\\   \\:::\\   \\::/    /\n \\/____/ \\:::\\/:::/    /  \\:::\\/:::/    / \\/____/  \\/____|:::::\\/:::/    /  \\:::\\   \\:::\\   \\/____/ \n          \\::::::/    /    \\::::::/    /                 |:::::::::/    /    \\:::\\   \\:::\\    \\     \n           \\::::/    /      \\::::/____/                  |::|\\::::/    /      \\:::\\   \\:::\\____\\    \n           /:::/    /        \\:::\\    \\                  |::| \\::/____/        \\:::\\   \\::/    /    \n          /:::/    /          \\:::\\    \\                 |::|  ~|               \\:::\\   \\/____/     \n         /:::/    /            \\:::\\    \\                |::|   |                \\:::\\    \\         \n        /:::/    /              \\:::\\____\\               \\::|   |                 \\:::\\____\\        \n        \\::/    /                \\::/    /                \\:|   |                  \\::/    /        \n         \\/____/                  \\/____/                  \\|___|                   \\/____/         \n";a.dn=function(){M.call(this)};y(dn,el);a.en=k;dn.prototype.w=function(){en=this;fn(this)};a.fn=function(b){b.ak=new V(n);P(b.g(),b.ak,"success",b.xS);b.ak.ajax("/noti7/new?r="+ +new Date,k,"GET")};dn.prototype.xS=function(){var b=Ie(this.ak);b&&!b.r&&hl(Y,[b])};a.gn=function(){};gn.prototype.oa=ba();a.hn=function(b,c,d){this.element=b;this.Zf=c;this.jT=d};y(hn,gn);hn.prototype.oa=function(b,c,d){Am(this.element,this.Zf,b,c,i,d,this.jT)};a.jn=function(b,c){this.Vh=b instanceof Ob?b:new Ob(b,c)};y(jn,gn);jn.prototype.oa=function(b,c,d,e){Am(ag(b),0,b,c,this.Vh,d,k,e)};a.kn=function(b,c){this.Lz=4;this.pt=c||i;rh.call(this,b)};y(kn,rh);kn.prototype.ed=function(b){this.pt=b||i;this.S()&&this.oa()};kn.prototype.oa=function(){if(this.pt){var b=!this.S()&&"move_offscreen"!=this.hi(),c=this.h();b&&(c.style.visibility="hidden",R(c,j));this.pt.oa(c,this.Lz,this.Oy);b&&R(c,n)}};a.ln=function(b,c,d){this.H=d||(b?Ub(H(b)):Ub());kn.call(this,this.H.o("div",{style:"position:absolute;display:none;"}));this.fj=new Ob(1,1);this.Za=new Sd;b&&this.attach(b);c!=k&&zc(this.h(),c)};y(ln,kn);a.mn=[];t=ln.prototype;t.fc=k;t.className="goog-tooltip";t.Xt=500;t.gs=0;t.K=q("H");t.attach=function(b){b=H(b);this.Za.add(b);N(b,"mouseover",this.od,n,this);N(b,"mouseout",this.Zl,n,this);N(b,"mousemove",this.Yl,n,this);N(b,"focus",this.Me,n,this);N(b,"blur",this.Zl,n,this)};
t.detach=function(b){if(b)b=H(b),nn(this,b),this.Za.remove(b);else{for(var c=this.Za.Ka(),d=0;b=c[d];d++)nn(this,b);this.Za.clear()}};a.nn=function(b,c){yd(c,"mouseover",b.od,n,b);yd(c,"mouseout",b.Zl,n,b);yd(c,"mousemove",b.Yl,n,b);yd(c,"focus",b.Me,n,b);yd(c,"blur",b.Zl,n,b)};t.$w=q("gs");t.oe=function(b){this.h().innerHTML=b};t.sh=function(b){var c=this.h();c&&L(c);ln.m.sh.call(this,b);b&&(c=this.H.xa().body,c.insertBefore(b,c.lastChild))};t.Mc=u(31);t.bx=u(10);
t.be=function(){return this.Vm?this.S()?4:1:this.$l?3:this.S()?2:0};t.zs=function(b){if(!this.S())return n;var c=dg(this.h()),d=og(this.h());return c.x<=b.x&&b.x<=c.x+d.width&&c.y<=b.y&&b.y<=c.y+d.height};t.bp=function(){if(!rh.prototype.bp.call(this))return n;if(this.anchor)for(var b,c=0;b=mn[c];c++)uc(b.h(),this.anchor)||b.z(n);z.xs(mn,this);b=this.h();b.className=this.className;on(this);N(b,"mouseover",this.Kx,n,this);N(b,"mouseout",this.ZE,n,this);pn(this);return j};
t.bk=function(){z.remove(mn,this);for(var b=this.h(),c,d=0;c=mn[d];d++)c.anchor&&uc(b,c.anchor)&&c.z(n);this.vH&&qn(this.vH);yd(b,"mouseover",this.Kx,n,this);yd(b,"mouseout",this.ZE,n,this);this.anchor=i;0==this.be()&&(this.Nt=n);rh.prototype.bk.call(this)};t.Sy=function(b,c){this.anchor==b&&this.Za.contains(this.anchor)&&(this.Nt||!this.W_?(this.z(n),this.S()||(this.anchor=b,this.ed(c||rn(this,0)),this.z(j))):this.anchor=i);this.Vm=i};t.ei=q("Za");t.Pr=q("fc");
t.tG=function(b){this.$l=i;b==this.anchor&&(this.fc==k||this.fc!=this.h()&&!this.Za.contains(this.fc))&&(!this.ml||!this.ml.fc)&&this.z(n)};a.sn=function(b,c){var d=Nc(b.H);b.fj.x=c.clientX+d.x;b.fj.y=c.clientY+d.y};t.od=function(b){var c=tn(this,b.target);this.fc=c;on(this);c!=this.anchor&&(this.anchor=c,un(this,c),vn(this),sn(this,b))};a.tn=function(b,c){try{for(;c&&!b.Za.contains(c);)c=c.parentNode;return c}catch(d){return k}};t.Yl=function(b){sn(this,b);this.Nt=j};
t.Me=function(b){this.fc=b=tn(this,b.target);this.Nt=j;if(this.anchor!=b){this.anchor=b;var c=rn(this,1);on(this);un(this,b,c);vn(this)}};a.rn=function(b,c){if(0==c){var d=b.fj.clone();return new wn(d)}return new xn(b.fc)},a.vn=function(b){if(b.anchor)for(var c,d=0;c=mn[d];d++)uc(c.h(),b.anchor)&&(c.ml=b,b.vH=c)};
t.Zl=function(b){var c=tn(this,b.target),d=tn(this,b.relatedTarget);c!=d&&(c==this.fc&&(this.fc=k),pn(this),this.Nt=n,this.S()&&(!b.relatedTarget||!uc(this.h(),b.relatedTarget))?qn(this):this.anchor=i)};t.Kx=function(){var b=this.h();this.fc!=b&&(on(this),this.fc=b)};t.ZE=function(b){var c=this.h();if(this.fc==c&&(!b.relatedTarget||!uc(c,b.relatedTarget)))this.fc=k,qn(this)};
a.un=function(b,c,d){b.Vm||(b.Vm=Ld(v(b.Sy,b,c,d),b.Xt))},a.pn=function(b){b.Vm&&(Id.clearTimeout(b.Vm),b.Vm=i)},a.qn=function(b){2==b.be()&&(b.$l=Ld(v(b.tG,b,b.anchor),b.$w()))},a.on=function(b){b.$l&&(Id.clearTimeout(b.$l),b.$l=i)};t.p=function(){this.z(n);pn(this);this.detach();this.h()&&L(this.h());this.fc=k;delete this.H;ln.m.p.call(this)};a.wn=function(b,c){jn.call(this,b,c)};y(wn,jn);
wn.prototype.oa=function(b,c,d){c=ag(b);c=fg(c);d=d?new Of(d.top+10,d.right,d.bottom,d.left+10):new Of(10,0,0,10);zm(this.Vh,b,4,d,c,9)&496&&zm(this.Vh,b,4,d,c,5)};a.xn=function(b){hn.call(this,b,3)};y(xn,hn);xn.prototype.oa=function(b,c,d){var e=new Ob(10,0);Am(this.element,this.Zf,b,c,e,d,9)&496&&Am(this.element,2,b,1,e,d,5)};a.yn=function(b,c,d){ln.call(this,b,c,d)};y(yn,ln);t=yn.prototype;t.UM=n;t.TM=100;t.cq=n;t.ft=function(){yn.m.ft.call(this);this.Tq=Rf(pg(this.h()));this.anchor&&(this.jv=Rf(pg(this.anchor)));this.cq=this.UM;N(this.K().xa(),"mousemove",this.Yl,n,this)};t.bk=function(){yd(this.K().xa(),"mousemove",this.Yl,n,this);this.jv=this.Tq=k;this.cq=n;yn.m.bk.call(this)};
t.zs=function(b){if(this.bm){var c=dg(this.h()),d=og(this.h());return c.x-this.bm.left<=b.x&&b.x<=c.x+d.width+this.bm.right&&c.y-this.bm.top<=b.y&&b.y<=c.y+d.height+this.bm.bottom}return yn.m.zs.call(this,b)};a.zn=function(b,c){if(b.jv&&b.jv.contains(c)||b.zs(c))return j;var d=b.ml;return!!d&&d.zs(c)};t.tG=function(b){this.$l=i;b==this.anchor&&(!zn(this,this.fj)&&(!this.Pr()&&(!this.ml||!this.ml.fc))&&(!B||!(0==this.fj.x&&0==this.fj.y)))&&this.z(n)};
t.Yl=function(b){var c=this.S();if(this.Tq){var d=Nc(this.K()),d=new Ob(b.clientX+d.x,b.clientY+d.y);zn(this,d)?c=n:this.cq&&(c=Pf(this.Tq,d)>=Pf(this.Tq,this.fj))}if(c){if(qn(this),this.fc=k,c=this.ml)c.fc=k}else 3==this.be()&&on(this);yn.m.Yl.call(this,b)};t.Kx=function(){this.Pr()!=this.h()&&(this.cq=n,this.fc=this.h())};t.$w=function(){return this.cq?this.TM:yn.m.$w.call(this)};a.An=function(b,c,d,e){ln.call(this,k,k,d);qa(b)?this.jy=b:this.uC=b;this.gM=c!=n;this.fB=[];this.Ga=e||(d?d.xa():document);N(this.Ga,"mouseover",this.$E,n,this)};y(An,yn);t=An.prototype;t.p=function(){An.m.p.call(this);yd(this.Ga,"mouseover",this.$E,n,this)};t.jy=function(b){return b.tagName in this.uC&&!!b.getAttribute(this.uC[b.tagName])};t.$E=function(b){if(b=b.target)if(this.jy(b))this.ed(k),Bn(this,b);else if(this.gM&&(b=Jc(b,v(this.jy,this),n,this.v_)))this.ed(k),Bn(this,b)};
a.Bn=function(b,c,d){if(c==b.gf)on(b);else if(c!=b.anchor){if(1==b.be()||4==b.be())pn(b),Cn(b);var e=new Dn("trigger",b,c,i);b.ei().contains(c)||(b.attach(c),b.fB.push(c));b.anchor=c;b.tz(e)?un(b,c,d||b.pt):Cn(b)}},a.En=function(b,c){var d=z.indexOf(b.fB,c);-1!=d&&(b.detach(c),b.fB.splice(d,1))};t.tz=function(b){return this.dispatchEvent(b)};a.Cn=function(b){b.dispatchEvent(new Dn("canceltrigger",b,b.anchor||k));En(b,b.anchor);delete b.anchor};
t.bk=function(){An.m.bk.call(this);k!=this.gf&&En(this,this.gf);this.gf=k};t.od=function(b){var c=tn(this,b.target);c&&c!=this.anchor?Bn(this,c):An.m.od.call(this,b)};t.Zl=function(b){var c=this.anchor,d=this.be();An.m.Zl.call(this,b);if(d!=this.be()&&(1==d||4==d))this.anchor=c,Cn(this)};t.Sy=function(b,c){An.m.Sy.call(this,b,c);this.S()?(b!=this.gf&&En(this,this.gf),this.gf=b):(pn(this),Cn(this))};a.Dn=function(b,c,d,e){id.call(this,b,c);this.anchor=d;this.data=e};y(Dn,id);a.Fn=function(b,c,d){hn.call(this,b,c);this.lC=d};y(Fn,hn);Fn.prototype.lo=s(5);
Fn.prototype.oa=function(b,c,d,e){var g={"1-4":"bottom","0-4":"top","0-5":"top","1-5":"bottom","2-5":"top","3-5":"bottom","3-4":"bottom","2-6":"left","2-4":"right"},h;if(this.lC){h=Am(this.element,this.Zf,b,c,k,d,10,e);var l=Gn(h,this.Zf),m=Gn(h,c);h&496&&(h=Am(this.element,l,b,m,k,d,10,e),h&496&&(l=Gn(h,l),m=Gn(h,m),this.lC?Am(this.element,l,b,m,k,d,this.lo(),e):Am(this.element,l,b,m,k,d,0,e)));this.ot&&(b=(la(l)?l:this.Zf)+"-"+(la(c)?c:m),this.ot(g[b],b))}else Am(this.element,this.Zf,b,c,i,d),this.ot&&
(b=this.Zf+"-"+c,this.ot(g[b],b))};a.Gn=function(b,c){b&48&&(c^=2);b&192&&(c^=1);return c};a.Hn=function(){M.call(this);this.VU=this.LP=250;this.className="tooltip";this.Ph={}};y(Hn,el);t=Hn.prototype;t.PP={t:0,r:2,b:1,l:2};a.In=function(b){return'<div class="popover-inner"><div class="popover-content">'+b+'</div></div><div class="arrow"></div><div class="arrow2"></div><div class="arrow3"></div>'};
t.w=function(){if(!Dg.Oc&&!z.contains(Mg,"tooltiop")){var b=this.T=new An({A:"data-tip",SPAN:"data-tip",BUTTON:"data-tip",I:"data-tip",DIV:"data-tip"});this.T.className=this.className;var c=K("div",{id:"zh-tooltip"});document.body.appendChild(c);this.T.sh(c);this.T.Xt=this.VU;this.T.gs=this.LP;this.g().c(this.T,"trigger",this.tz);var d=$(c),e=k;b.on("show",function(b){clearTimeout(e);d.addClass("in");Y.V({type:"ga_hover_hovercard",target:b.target.gf||b.target.anchor})}).on("hide",function(){d.css({display:"block",
visibility:"visible"}).removeClass("in").addClass("out");e=setTimeout(function(){d.removeClass("out").css({display:"none",visibility:"hidden"})},1E3)});this.g().c(this.T,"beforeshow",this.bp);this.g().c(this.T,"beforehide",this.NR)}};t.NR=function(){var b=this.PM;if("s"!==b[0]){var c="t"===b[0]?"topic":"people";this.Ph[c]&&this.Ph[c][b[2]]&&(this.Ph[c][b[2]]=$(this.T.h()).find(".popover-content").html())}};
t.bp=function(){var b=this.T.gf||this.T.anchor,c=b&&b.getAttribute("data-tip");if(c&&-1!==c.indexOf("$")){this.yD=b;var c=c.split("$"),d=c[0],b=c[1],e=c[2];this.PM=c;this.zD=d;this.QM=e;this.Qn=b;if("s"===d)c=[],c.push('<div class="tooltip-arrow'),c.push('"></div><div class="tooltip-inner">'),c.push(Ya(e)),c.push("</div></div>"),c=c.join(""),Jn(this,c);else{var g="t"===d?"topic":"people";if(c=this.Ph[g]&&this.Ph[g][e])Jn(this,In(c));else{Jn(this,In('<div class="zh-hovercard-spinner"></div>'));var h=
new V(n),c="/"+g+"/"+encodeURIComponent(e)+"/profilecard";P(this.g(),h,"success",function(){var b=He(h);this.zD===d&&this.QM===e&&(Kn(this,this.Qn),Jn(this,In(b)),Bn(this.T,this.yD,this.Qn));this.Ph[g]=this.Ph[g]||{};this.Ph[g][e]=b});h.ajax(c,k,"GET")}}Kn(this,b)}};a.Kn=function(b,c){var d;switch(c){case "t":d=5;break;case "r":d=4;break;case "b":d=4;break;case "l":d=6}var e=b.T;e.Lz=d;e.S()&&e.oa()},a.Jn=function(b,c){b.T.oe(c);b.T.ed(b.NM)};
t.tz=function(b){var b=b.anchor,c=b.getAttribute("data-tip"),d=c.split("$"),e=k;this.T.className="s"!==d[0]?"goog-hovercard popover":"tooltip";if(c)return b.title&&(b.setAttribute("data-original_title",b.title),b.removeAttribute("title")),e=d[1],"s"!==d[0]&&(210>ig(b).y?"t"===e&&(e="b",b.setAttribute("data-tip",c.replace("$t$","$b$"))):(e="t",b.setAttribute("data-tip",c.replace("$b$","$t$")))),this.NM=e=new Fn(b,this.PP[e],"b"===e||"t"===e),b=v(this.JS,this),e.ot=b,j};
t.JS=function(b,c){var d=this.T.h();D.remove(d,"top","bottom","left","right");D.add(d,b);var e=ug(d),g=ug(this.yD),h=new Ob(d.offsetLeft,d.offsetTop);if("t"===this.Qn||"b"===this.Qn){var e=(e.width-g.width)/2,l=h.x-e;if("s"===this.zD)Tf(d,"left",l+"px");else{var l=z.contains(["2-5","3-5","3-4","2-4"],c),m=$(".zh-hovercard-spinner",d)[0],p=J("arrow",d),r=J("arrow2",d),x=J("arrow3",d);m?Tf(d,"left",h.x-e+"px"):l?Tf(d,"left",h.x+83+"px"):Tf(d,"left",h.x-70+"px");var F=g.width/2;p&&(r&&x)&&(m||(l?z.forEach([p,
r,x],function(b){Tf(b,"left","auto");Tf(b,"right",F+70+"px")}):z.forEach([p,r,x],function(b){Tf(b,"left",F+70+"px")})))}}else Tf(d,"top",h.y-(e.height-g.height)/2+"px"),"l"===this.Qn&&$f(d,h.x-g.width)};a.Ln=function(){var b={warning:"您的知乎用户名 "+S.Uw+' 不符合 <a href="http://www.zhihu.com/question/19791408">知乎用户名规范</a>，请您 <a href="/settings/account#rename-section">修改</a>。',pending:"您提交的用户名修改正在审核中，帐号暂时锁定。"},c=Og,d=Ng,e=n;c?(U(c,4E3),e=j):d&&(b[d]&&U(b[d],4E3),e=j);return e};Zl.Ih=$l;a.Mn=function(b){T.call(this);$.extend(this.D={},this.R,b||{})};y(Mn,T);t=Mn.prototype;t.R={trigger:"hover",nH:"open",hideFocus:n};t.Wc=function(){return this.Ig.length&&this.gd.length};t.n=function(b){if(b){var c=$(b),d=c.prev();this.Ig=c;this.gd=d;this.Du=c.parent();Mn.m.n.call(this,b);return this}};t.toggle=function(){this.ub()?this.close():this.open()};t.ub=function(){return this.Ig.is(":visible")};
t.open=function(){this.Ig.attr("aria-hidden","false").parent().addClass(this.D.nH);this.gd.attr("aria-expanded","true")};t.close=function(){this.Ig.attr("aria-hidden","true").parent().removeClass(this.D.nH);this.gd.attr("aria-expanded","false")};a.Nn=function(b,c){var d=b.Ig.children().find("a"),e=d.size();c>=e?c=0:-1>=c&&(c=e-1);d=d.eq(c);b.gd.attr("aria-activedescendant",d.attr("id"));d.focus();b.index=c};
t.TR=function(b){var c=b.keyCode;switch(c){case 32:b.preventDefault();this.toggle();break;case 27:case 9:this.close();break;case 38:case 40:Nn(this,38===c?-1:0)}};t.qS=function(b){var c=b.keyCode;switch(c){case 27:case 9:this.close();this.gd.focus();break;case 38:case 40:b.preventDefault(),Nn(this,this.index+(38===c?-1:1))}};
t.B=function(){var b=this,c=this.D,d=this.Ig,e=this.gd,g=e.attr("id");g||(g=ih(hh.F()),e.attr("id",g),d.attr("aria-labelledby",g));e.attr("role")||e.attr("role","button");this.gd.attr("aria-haspopup","true").attr("aria-activedescendant","");this.Ig.children().find("a").attr("tabindex",-1).attr("id",v(function(b,c){return c||ih(hh.F())},this));this.Ig.on("keydown",v(this.qS,this));this.gd.on("keydown",v(this.TR,this));d=oi?"click":c.trigger;if("hover"===d)this.Du.on("hover",v(function(b){"mouseenter"===
b.type?this.open():this.close()},this));else if("click"===d)this.gd.on("click",v(function(b){b.preventDefault();this.toggle();this.gd.focus()},this));this.Du.on("focusout",function(){setTimeout(function(){b.Du.get(0).contains(document.activeElement)||b.close()})});if(c.hideFocus)this.Ig.children().find("a").on("click",function(){this.blur()})};a.On=function(b){T.call(this);this.options=$.extend({stopPropagation:j,OL:"#000",ov:0.5,CM:"#666",eD:0.2,top:2,width:6,right:2,JL:j},b);this.bz=0;this.Cr=n};y(On,T);t=On.prototype;
t.$=function(b){this.e=b;this.L=$(this.e);this.L.addClass("zh-scroller").css({position:"relative",overflow:"hidden"}).wrapInner('<div class="zh-scroller-content"></div>');this.L.wrapInner('<div class="zh-scroller-inner"></div>');this.L.append("<div class='zh-scroller-bar-container'><div>");this.L.append('<div class="zh-scroller-bar"></div>');this.ve=this.L.children(".zh-scroller-inner");this.Sk=this.L.children(".zh-scroller-bar-container");this.te=this.L.children(".zh-scroller-bar");this.Tf=this.ve.children(".zh-scroller-content");
this.Pq=this.te[0];this.iQ=this.ve[0];this.content=this.Tf[0];this.Qq=this.Sk[0];this.ve.css({height:"100%",width:"150%",overflow:"auto"});this.te.css({position:"absolute",right:this.options.right,top:this.options.top,opacity:this.options.ov,background:this.options.OL,width:this.options.width,"border-radius":3,cursor:"default"});this.Sk.css({position:"absolute",right:this.options.right-1,top:0,height:"100%",width:this.options.width,background:this.options.CM,border:"1px solid #444",opacity:0,cursor:"default",
"border-radius":"2px"});this.Ei(this.Pq,n);this.Ei(this.Qq,n);this.update()};t.B=function(){On.m.B.call(this);this.hB=new an(this.oz,50,this);this.options.stopPropagation&&this.ve.bind("mousewheel DOMMouseScroll",function(b){var c=k;"mousewheel"===b.type?c=-1*b.originalEvent.wheelDelta:"DOMMouseScroll"===b.type&&(c=40*b.originalEvent.detail);c&&(b.preventDefault(),$(this).scrollTop(c+$(this).scrollTop()))})};
t.uS=function(b){b.target===this.Pq&&(this.Cr=j,this.PL=b.clientY,this.QL=parseInt(this.te.css("top"),10));(b.target===this.Pq||b.target===this.Qq)&&this.Ei(document.body,n)};t.wS=function(){this.Cr=n;this.Ei(document.body,j)};t.vS=function(b){if(this.Cr){var c=Pn(this,this.QL+(b.clientY-this.PL));this.ve.scrollTop(c)}this.bz=b.target===this.Pq?2:b.target===this.Qq?1:0};
a.Qn=function(b){b.Np&&(b.te.stop().css({opacity:b.options.ov}).show(),b.vn&&(clearTimeout(b.vn),b.vn=n))},a.Rn=function(b,c){b.vn=setTimeout(v(function(){this.te.stop().fadeOut();this.vn=n},b),c||0)};t.oz=function(){var b=this.ve.scrollTop(),c=this.Tf.height(),d=this.ve.height(),e=b/c*(d-2*this.options.top);Qn(this);this.te.css({top:e+this.options.top});this.dispatchEvent(new Sn(this,b,c-b-d,b/(c-d)))};
t.update=function(){var b=this.Tl(this.ve).height,c=this.Tl(this.Tf).height;b>=c?(this.Np=n,this.te.hide()):(this.Np=j,this.te.show());this.te.css({height:b/c*(b-2*this.options.top)});this.Sk.css({height:b-2});this.Tf.css({overflow:"hidden",width:this.L.width(),"min-height":"100%"});return this};
t.Tl=function(b){var c={height:b.height(),width:b.width()};if(!c.height){var d=b.css("display"),e=b.css("position"),g=b.css("visibility");b.css({position:"absolute",display:"block",visibility:"hidden"});c={height:b.height(),width:b.width()};b.css({position:e,display:d,visibility:g})}return c};t.MR=function(b){this.scrollTo(Pn(this,b.offsetY-this.te.height()/2))};a.Pn=function(b,c){var d=b.ve.height()-2*b.options.top-b.te.height(),e=b.Tf.height()-b.ve.height();return c/d*e};
t.scrollTop=function(b){this.Np&&(b=b||200,Qn(this),this.ve.stop().animate({scrollTop:0},b));return this};t.Ei=function(b,c){tg(b,!c)};t.scrollTo=function(b){this.Np&&(Qn(this),this.ve.stop().animate({scrollTop:b},200));return this};a.Sn=function(b,c,d,e){id.call(this,"scroll",b);this.scrollTop=c;this.$_=d;this.a0=e};y(Sn,id);a.Tn=function(b,c,d,e){M.call(this);this.e=b;this.Ow=c||"people";this.FN=d||["zg-btn-follow","zg-btn-unfollow"];this.text=e||["关注","取消关注"]};y(Tn,el);Tn.prototype.w=function(){this.g().c(this.e,"click",this.dp)};Tn.prototype.dp=function(b){b=Gk(this.e,b.target);"focus"===(b&&b.name)&&Kk(b,this.Ow,k,this.FN,{follow_text:this.text[0],unfollow_text:this.text[1]})};a.Un=function(b){T.call(this);this.D=$.extend({},this.R,b||{})};y(Un,T);Un.prototype.R={IG:".tab-nav",uH:".tab-panel",Yk:"active"};Un.prototype.$=function(b){if(b){this.e=b;var c=this,d=this.D;this.Wk=$(d.IG,b);this.KB=$(d.uH,b);this.Jj=this.Wk.index("."+d.Yk);this.Wk.on("click",function(){c.select(c.Wk.index(this))})}};
Un.prototype.select=function(b){if(!(0>b||b>this.Wk.size()))if(this.dispatchEvent({type:"action",data:{index:b}}),b!==this.Jj){this.Jj=b;var c=this.D,d=this.Wk.eq(b);this.Wk.not(d.addClass(c.Yk)).removeClass(c.Yk);c=this.KB.eq(b);this.KB.not(c.show()).hide();this.dispatchEvent({type:"select",data:{index:b}})}};Un.prototype.index=q("Jj");a.Vn=function(){M.call(this);this.Rg=[0,0,0];this.RG=[0,0,0];this.types=["default","follow","vote_thank"];this.uw=j;this.ef=[n,n,n];this.Rl=[0,0,0];this.Um=[n,n,n]};y(Vn,el);t=Vn.prototype;
t.w=function(){this.wrap=H("zh-top-nav-live-new");this.OB=$(this.wrap);this.wrapInner=H("zh-top-nav-live-new-inner");this.jr=H("zh-top-nav-count-wrap");this.Mn=K("span",{id:"zh-top-nav-count",className:"zu-top-nav-count zg-noti-number",style:"display:none"});this.contents=Xb("zm-noti7-content",this.wrap);this.$Q=Xb("zm-noti7-popup-refresh",this.wrap);this.Ov=Xb("zm-noti7-content-body",this.wrap);this.jr.appendChild(this.Mn);this.g().c(this.jr,"click",this.NV);this.g().c(Y,"noti7",this.ZO);this.g().c(this.wrap,
"click",this.ha);this.g().c(this.wrap,"click",function(b){b=b.target;b.href&&/group_id=/.test(b.href+"")&&$(b).parent(".unread").removeClass("unread")});var b=J("zm-noti7-popup-tab-container");this.KG=Xb("new-noti",b);this.yh=new Un({IG:".zm-noti7-popup-tab-item",uH:".zm-noti7-content",Yk:"current"});this.g().c(this.yh,"action",function(b){this.wD=b=b.data.index;Wn(this,b);var d=this.Jm&&this.Jm[b];d&&(setTimeout(function(){d.update()}),this.yh.index()===b&&d.scrollTop())}).c(this.yh,"select",function(b){this.wD=
b=b.data.index;Xn(this,b);Y.V({type:"ga_click_top_nav_noti_tab",data:{yh:+b}});!this.qc&&window.localStorage&&localStorage.setItem("noti7-tab",b)});this.yh.n(this.wrap);!Dg.Oc&&navigator.userAgent.match(/iPad/i)==k&&(this.Jm=z.map(this.contents,function(b){var d=new On;d.n(b);return d}));Dg.Oc&&(this.uw=n);(new Tn(this.Ov[1],"people",["zg-follow","zg-unfollow"])).w();this.xm=H("zh-top-nav-pm-count");this.xm||(this.xm=K("span"));this.om=H("zh-top-nav-new-pm");this.om||(this.om=K("span"));this.xo=parseInt($(this.om).attr("data-count")||
$(this.xm).attr("data-count"),10)||0;this.fG=H("zh-top-nav-count-wrap");this.fG.innerHTML&&(this.count=+this.fG.innerHTML);this.g().c(Y,"inbox",this.KO)};t.Wr=function(b){!uc(this.wrap,b.target)&&!uc(this.jr,b.target)&&Yn(this,n)};
a.Xn=function(b,c){b.Jm&&z.forEach(b.Jm,function(b,e){c===e?b.Aw||(b.g().c(b.iQ,"scroll",function(){this.hB.fire()}),A||(b.g().c(b.Qq,"click",b.MR),b.g().c(document,"mousedown",b.uS),b.g().c(document,"mouseup",b.wS),b.g().c(document,"mousemove",b.vS)),b.options.JL?(b.Bc=new Jd(200),b.g().c(b.Bc,Kd,function(){2===this.bz||1===this.bz?(Qn(this),this.Np&&this.Sk.css({opacity:this.options.eD})):!this.Cr&&!this.vn&&(Rn(this,1E3),this.Sk.css({opacity:0}))})):(b.te.css({opacity:b.options.ov}),b.Sk.css({opacity:b.options.eD})),
b.Bc&&b.Bc.start(),Rn(b),b.Aw=j):b.Aw&&(b.g().Qc(),b.Bc&&b.Bc.stop(),b.Aw=n)})};t.ha=function(b){var c=b.target;c&&c.name&&"set"===c.name&&this.D_(b)};t.ZO=function(b){this.RG=this.Rg;this.Rg=b.nb;this.qc=this.Rg[0]+this.Rg[1]+this.Rg[2];R(this.Mn,!!this.qc);this.Mn.innerHTML=99<this.qc?"99+":this.qc;z.forEach(this.Rg,function(b,d){R(this.KG[d],b);b&&(this.ef[d]=n);this.uw&&0<b-this.RG[d]&&this.Ql(d)},this);Zn(this)};
a.Zn=function(b){var c=99<b.qc?"99+":b.qc,d=99<b.xo?"99+":b.xo;window.document.title=(c||d?"("+(b.xo?d+" 封私信":"")+(b.qc&&b.xo?" / ":"")+(b.qc?c+" 条消息":"")+") ":"")+window.document.title.replace(/^(\(|\uff08)(\d)*(\+)?( )?(\u5c01\u79c1\u4fe1)?( \/ )?(\d)*(\+)?( )?(\u6761\u6d88\u606f)?(\)|\uff09)( )?/g,"")};
t.NV=function(){if(Dg.Oc&&this.visible)Yn(this,n);else if(this.visible&&!this.qc)Yn(this,n);else{Yn(this,j);var b;!this.Sv&&!this.qc?(b=(b=window.localStorage&&localStorage.getItem("noti7-tab"))?Number(b):0,this.yh.select(b),this.Um[b]=j):this.qc&&(b=z.Kw(this.Rg,of),b=-1===b?0:b,this.yh.select(b),this.Um[b]=j);Y.V({type:"ga_click_top_nav_noti",data:{yh:this.wD,kJ:+(this.qc||0)}})}Zn(this)};
a.$n=function(b,c){b.qc-=b.Rg[c];R(b.KG[c],n);0>b.qc&&(b.qc=0);R(b.Mn,!!b.qc);b.Mn.innerHTML=b.qc},a.Wn=function(b,c){var d;b.uw?b.visible&&(b.ef[c]?("$$used$$"!==b.ef[c]&&(b.Ov[c].innerHTML=b.ef[c],b.ef[c]="$$used$$"),b.Rg[c]&&(d=new V(n),d.ajax("/noti7/readall","tab="+b.types[c],"POST")),$n(b,c),b.Jm&&b.Jm[c].update().scrollTop(),!b.qc&&window.localStorage&&localStorage.setItem("noti7-tab",c)):(b.Um[c]=j,b.Ql(c))):b.ef[c]?("$$used$$"!==b.ef[c]&&(b.Ov[c].innerHTML=b.ef[c],b.ef[c]="$$used$$"),$n(b,
c)):(b.Um[c]=j,b.Ql(c),d=new V(n),d.ajax("/noti7/readall","tab="+b.types[c],"POST"))},a.Yn=function(b,c){c?b.OB.fadeIn(50):b.OB.fadeOut(50);b.visible=c;D.enable(b.jr,"open",b.visible);c?(z.forEach(b.ef,function(b,c){b||this.Ql(c)},b),b.g().c(document,"click",b.Wr)):b.g().wa(document,"click",b.Wr);Xn(b,-1)};t.Ql=function(b){if(!this.Rl[b]||!this.Rl[b].Hb())this.Rl[b]=new V(n),this.g().c(this.Rl[b],"success",function(c){this.mz(c,b)}),this.Rl[b].ajax("/noti7/stack/"+this.types[b]+"?r="+za(),"","GET")};
t.mz=function(b,c){$(this.$Q[c]).hide();var d=Ie(this.Rl[c]);if(d)if(d.r)U(d.msg);else{this.Sv=j;if(d=d.msg)1===c&&(d='<div class="zm-noti7-content-head-item"><span class="zg-gray-normal">这些人最近关注了你</span></div>'+d);else switch(c){case 0:d="<div class='zm-noti7-popup-empty'>暂无新消息</div>";break;case 1:d="<div class='zm-noti7-popup-empty'>有人关注你时会显示在这里</div>";break;case 2:d="<div class='zm-noti7-popup-empty'>你的答案收到赞同、感谢时会显示在这里</div>"}this.ef[c]=d;this.Um[c]&&(Wn(this,c),this.Um[c]=n)}};
t.KO=function(b){this.xo=b=$.isNumeric(b)?b:b.nb;0!==b?(this.om.innerHTML=this.xm.innerHTML=b,this.om.style.visibility=this.xm.style.visibility="visible"):this.om.style.visibility=this.xm.style.visibility="hidden";Zn(this)};Zl.yq=om;Zl.yq.FY=",;";Zl.yq.jY='"';a.ao=function(b,c,d,e){om.call(this,b,c,d,e)};y(ao,om);ao.prototype.Bi=function(b){var c=ao.m.Bi.call(this,b);b.select(this.ca.Vb);return c};Zl.lK=ao;Zl.Pu=Bm;Zl.Pu.dX=300;Zl.Pu.bX=Gm;Zl.ZB=xm;Zl.kK=Hm;a.bo=function(b,c){Zl.ZB.call(this,b,c);this.cA=k;this.iE=j};y(bo,Zl.ZB);bo.prototype.FT=["根话题","未归类话题"];bo.prototype.Jp=ca("cA");bo.prototype.yi=function(b,c,d){var e=v(function(b,c){for(var e=[],m,p=0;p<c.length;p++)for(var r=1;r<c[p].length;r++){m=c[p][r];var x=j;this.iE&&z.forEach(this.FT,function(b){m[2]===b&&(x=n)});x&&e.push(m)}this.cA&&(e=this.cA(e));d(b,e)},this);bo.m.yi.call(this,b,c,e)};a.co=function(b,c,d,e){this.zG=0;Zl.yq.call(this,b,c,!!d,e||300)};y(co,Zl.yq);t=co.prototype;
t.Bi=function(b){var c=Zl.lK.m.Bi.call(this,b),d=this.ca.Vb,e=this.ca;e.nI=b;e.dispatchEvent("select");d.value="";return c};t.ua=ba();t.update=function(b){var c=xk(this.X());!c||"搜索用户"===c||"搜索话题"===c||"在这里输入问题"===c||z.contains(this.ca.Ew||[],c)||(!c?0:unescape(encodeURIComponent(c)).length)<this.zG||c===this.oG?(this.ca.jj(),this.Qo=c):(this.oG=k,this.ca.dispatchEvent({type:eo}),co.m.update.call(this,b))};
t.Me=function(b){this.ca&&am(this.ca);b.target!==this.hb&&(this.hb=b.target||k,this.ra&&(this.ra.start(),this.ic.c(this.ra,Kd,this.tm)),this.Qo=this.X(),vm(this));this.ra&&this.ra.start();this.update(j)};t.$c=function(){this.ra&&this.ra.stop();this.ca&&this.ca.jj()};
t.$b=function(b){if(13===b.keyCode){if(this.ca.ub()){if(this.ca.Ai())return b.preventDefault(),b.stopPropagation(),j;b.preventDefault();b.stopPropagation();this.ca.ec="";this.ca.Ic();this.update(j);return n}b.stopPropagation();b.preventDefault();return n}co.m.$b.call(this,b)};t.Mq=function(b){co.m.Mq.call(this,b);this.ic.c(b,"mousedown",function(b){b.stopPropagation();return j})};a.fo=function(b,c,d,e){co.call(this,b,c,!!d,e)};y(fo,co);
fo.prototype.Bi=function(b){var c=this.ca;c.nI=b;c.dispatchEvent("select");return n};a.go=function(b,c,d,e,g,h,l,m,p){var r={};"question_suggest"===h?(r.Z=v(this.aU,this),r.dd=Fk):"topic_question"===h?(r.Z=v(this.cU,this),r.dd=Ek):r.dd=h?Ek:Fk;h=new Zl.Pu(g,r);g&&(h.up=n);h.hs=j;this.N=h;this.zf=new bo(b,!e);b=p?p:new co(k,k,d);l&&l.length&&new El(c,l[0]);b.mJ=n;Zl.call(this,this.zf,h,b);b.ca=this;b.Mq(c);m&&(b.zG=m)};y(go,Zl.kK);a.eo="before_update";t=go.prototype;t.gw=j;
t.aU=function(b,c,d){O.forEach(d,function(b){b=Cm(this,b,this.ec);this.H.appendChild(this.e,b)},b);nc(b.e,b.H.o("div","zh-question-suggest-info",[b=b.H.o("a",{href:"javascript:;",title:"关闭",name:"close",id:"zh-question-suggest-info-close"},[b.H.o("span","x-m"),"不是"]),"您想问的是不是下面的问题？"]),0);N(b,"click",function(){var b=this.Gf;b.$c();this.Ic();b.oG=b.X()},n,this)};
t.cU=function(b,c,d){0===d.length?this.Ic():(O.forEach(d,function(b){b=Cm(this,b,this.ec);this.H.appendChild(this.e,b)},b),c=b.H.o("div","zh-question-topic-autocomplete-plaintext",["建议添加的话题",b.H.o("span","x-m")]),nc(b.e,c,0),Dg.Oc&&N(c,"click",function(){this.Gf.$c();this.Ic()},n,this))};t.lg=q("nI");t.Jp=function(b){this.zf.Jp(b)};t.Ic=function(){if(this.gw)return go.m.Ic.call(this)};t.Ai=function(){return-1===dm(this,this.Nc)?n:go.m.Ai.call(this)};
t.jj=function(){Dg.Oc?xd(document,"click",v(this.Ic,this)):go.m.jj.call(this)};a.ho=function(){},a.jo=void 0;ia(ho);t=ho.prototype;t.wc=ba();t.o=function(b){var c=b.K().o("div",this.sf(b).join(" "),b.ib());ko(this,b,c);return c};t.ba=aa();t.qj=function(b,c,d){if(b=b.h?b.h():b)if(A&&!Gb("7")){var e=lo(D.get(b),c);e.push(c);xa(d?D.add:D.remove,b).apply(k,e)}else D.enable(b,c,d)};t.Wc=s(j);
t.n=function(b,c){c.id&&lh(b,c.id);var d=this.ba(c);d&&d.firstChild?b.Pm(d.firstChild.nextSibling?z.clone(d.childNodes):d.firstChild):b.Pm(k);var e=0,g=this.O(),h=this.O(),l=n,m=n,d=n,p=D.get(c);z.forEach(p,function(b){!l&&b==g?(l=j,h==g&&(m=j)):!m&&b==h?m=j:e|=this.jx(b)},this);b.da=e;l||(p.push(g),h==g&&(m=j));m||p.push(h);var r=b.pf;r&&p.push.apply(p,r);if(A&&!Gb("7")){var x=lo(p);0<x.length&&(p.push.apply(p,x),d=j)}(!l||!m||r||d)&&D.set(c,p.join(" "));ko(this,b,c);return c};
t.Qe=function(b){b.Id()&&this.Di(b.h(),j);b.isEnabled()&&this.$e(b,b.S())};a.ko=function(b,c,d){c.isEnabled()||b.Eg(d,1,j);c.da&8&&b.Eg(d,8,j);c.Ub&16&&b.Eg(d,16,c.ee());c.Ub&64&&b.Eg(d,64,c.ub())};t.Ap=function(b,c){tg(b,!c,!A&&!tb)};t.Di=function(b,c){this.qj(b,this.O()+"-rtl",c)};t.mi=function(b){var c;return b.Ub&32&&(c=b.lc())?Ec(c):n};t.$e=function(b,c){var d;if(b.Ub&32&&(d=b.lc())){if(!c&&b.da&32){try{d.blur()}catch(e){}b.da&32&&b.$c(k)}Ec(d)!=c&&Fc(d,c)}};t.z=function(b,c){R(b,c)};
t.cc=function(b,c,d){var e=b.h();if(e){var g=this.ho(c);g&&this.qj(b,g,d);this.Eg(e,c,d)}};t.Eg=function(b,c,d){jo||(jo=E.create(1,Wc.WJ,8,Wc.mK,16,Wc.xq,64,Wc.RB));(c=jo[c])&&Pc(b,c,d)};t.Oa=function(b,c){var d=this.ba(b);if(d&&(kc(d),c))if(oa(c))zc(d,c);else{var e=function(b){if(b){var c=Tb(d);d.appendChild(oa(b)?c.createTextNode(b):b)}};ma(c)?z.forEach(c,e):na(c)&&!("nodeType"in c)?z.forEach(z.clone(c),e):e(c)}};t.lc=function(b){return b.h()};t.O=s("goog-control");
t.sf=function(b){var c=this.O(),d=[c],e=this.O();e!=c&&d.push(e);c=b.be();for(e=[];c;){var g=c&-c;e.push(this.ho(g));c&=~g}d.push.apply(d,e);(b=b.pf)&&d.push.apply(d,b);A&&!Gb("7")&&d.push.apply(d,lo(d));return d};a.lo=function(b,c){var d=[];c&&(b=b.concat([c]));z.forEach([],function(e){z.every(e,xa(z.contains,b))&&(!c||z.contains(e,c))&&d.push(e.join("_"))});return d};t.ho=function(b){this.ar||mo(this);return this.ar[b]};
t.jx=function(b){this.QI||(this.ar||mo(this),this.QI=E.an(this.ar));b=parseInt(this.QI[b],10);return isNaN(b)?0:b};a.mo=function(b){var c=b.O();b.ar=E.create(1,c+"-disabled",2,c+"-hover",4,c+"-active",8,c+"-selected",16,c+"-checked",32,c+"-focused",64,c+"-open")};a.no=function(){};y(no,ho);ia(no);t=no.prototype;t.wc=function(){return Xc.wq};t.Eg=function(b,c,d){16==c?Pc(b,Wc.iK,d):no.m.Eg.call(this,b,c,d)};t.o=function(b){var c=no.m.o.call(this,b),d=b.mg();d&&this.Uc(c,d);(d=b.X())&&this.ua(c,d);b.Ub&16&&this.Eg(c,16,b.ee());return c};t.n=function(b,c){var c=no.m.n.call(this,b,c),d=this.X(c);b.Ec=d;b.St(this.mg(c));b.Ub&16&&this.Eg(c,16,b.ee());return c};t.X=ha;t.ua=ha;t.mg=function(b){return b.title};t.Uc=function(b,c){b&&(b.title=c||"")};t.Hf=u(20);
t.O=s("goog-button");a.po=function(b,c){b||f(Error("Invalid class name "+b));qa(c)||f(Error("Invalid decorator function "+c));oo[b]=c},a.qo={},a.oo={};a.ro=function(b,c,d){T.call(this,d);if(!c){for(var c=this.constructor,e;c;){e=ua(c);if(e=qo[e])break;c=c.m?c.m.constructor:k}c=e?qa(e.F)?e.F():new e:k}this.N=c;this.Pm(b)};y(ro,T);t=ro.prototype;t.vc=k;t.da=0;t.Ub=39;t.Xi=255;t.Ak=0;t.ob=j;t.pf=k;t.Aj=j;t.Iq=n;t.hk=k;t.Gp=function(b){this.Ba&&b!=this.Aj&&so(this,b);this.Aj=b};t.lc=function(){return this.N.lc(this)};t.Rr=function(){return this.qb||(this.qb=new im)};
t.Lh=function(b){b&&(this.pf?z.contains(this.pf,b)||this.pf.push(b):this.pf=[b],this.N.qj(this,b,j))};t.qj=function(b,c){c?this.Lh(b):b&&this.pf&&(z.remove(this.pf,b),0==this.pf.length&&(this.pf=k),this.N.qj(this,b,n))};t.o=function(){var b=this.N.o(this);this.e=b;var c=this.hk||this.N.wc();c&&Oc(b,c);this.Iq||this.N.Ap(b,n);this.S()||this.N.z(b,n)};t.Ip=u(17);t.ba=function(){return this.N.ba(this.h())};t.Wc=function(b){return this.N.Wc(b)};
t.$=function(b){this.e=b=this.N.n(this,b);var c=this.hk||this.N.wc();c&&Oc(b,c);this.Iq||this.N.Ap(b,n);this.ob="none"!=b.style.display};t.B=function(){ro.m.B.call(this);this.N.Qe(this);if(this.Ub&-2&&(this.Aj&&so(this,j),this.Ub&32)){var b=this.lc();if(b){var c=this.Rr();c.attach(b);this.g().c(c,"key",this.$b).c(b,"focus",this.Me).c(b,"blur",this.$c)}}};
a.so=function(b,c){var d=b.g(),e=b.h();c?(d.c(e,"mouseover",b.od).c(e,"mousedown",b.Ne).c(e,"mouseup",b.ng).c(e,"mouseout",b.ii),b.ro!=ha&&d.c(e,"contextmenu",b.ro),A&&d.c(e,"dblclick",b.EE)):(d.wa(e,"mouseover",b.od).wa(e,"mousedown",b.Ne).wa(e,"mouseup",b.ng).wa(e,"mouseout",b.ii),b.ro!=ha&&d.wa(e,"contextmenu",b.ro),A&&d.wa(e,"dblclick",b.EE))};t.$a=function(){ro.m.$a.call(this);this.qb&&this.qb.detach();this.S()&&this.isEnabled()&&this.N.$e(this,n)};
t.p=function(){ro.m.p.call(this);this.qb&&(this.qb.G(),delete this.qb);delete this.N;this.pf=this.vc=k};t.ib=q("vc");t.Oa=function(b){this.N.Oa(this.h(),b);this.Pm(b)};t.Pm=ca("vc");t.Yg=function(){var b=this.ib();if(!b)return"";b=oa(b)?b:ma(b)?z.map(b,Ic).join(""):Hc(b);return Ka(b)};t.Nm=u(57);t.Di=function(b){ro.m.Di.call(this,b);var c=this.h();c&&this.N.Di(c,b)};t.Ap=function(b){this.Iq=b;var c=this.h();c&&this.N.Ap(c,b)};t.S=q("ob");
t.z=function(b,c){if(c||this.ob!=b&&this.dispatchEvent(b?"show":"hide")){var d=this.h();d&&this.N.z(d,b);this.isEnabled()&&this.N.$e(this,b);this.ob=b;return j}return n};t.isEnabled=function(){return!(this.da&1)};t.eb=function(b){var c=this.getParent();if((!c||"function"!=typeof c.isEnabled||c.isEnabled())&&to(this,1,!b))b||(this.setActive(n),this.ud(n)),this.S()&&this.N.$e(this,b),this.cc(1,!b)};t.ud=function(b){to(this,2,b)&&this.cc(2,b)};t.Hb=function(){return!!(this.da&4)};
t.setActive=function(b){to(this,4,b)&&this.cc(4,b)};t.Rm=function(b){to(this,8,b)&&this.cc(8,b)};t.ee=function(){return!!(this.da&16)};t.Sc=function(b){to(this,16,b)&&this.cc(16,b)};t.ub=function(){return!!(this.da&64)};t.wb=function(b){to(this,64,b)&&this.cc(64,b)};t.be=q("da");t.cc=function(b,c){this.Ub&b&&c!=!!(this.da&b)&&(this.N.cc(this,b,c),this.da=c?this.da|b:this.da&~b)};
a.uo=function(b,c,d){b.Ba&&(b.da&c&&!d)&&f(Error("Component already rendered"));!d&&b.da&c&&b.cc(c,n);b.Ub=d?b.Ub|c:b.Ub&~c},a.vo=function(b,c){return!!(b.Xi&c)&&!!(b.Ub&c)},a.to=function(b,c,d){return!!(b.Ub&c)&&!!(b.da&c)!=d&&(!(b.Ak&c)||b.dispatchEvent(kh(c,d)))&&!b.ag};t.od=function(b){(!b.relatedTarget||!uc(this.h(),b.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&vo(this,2))&&this.ud(j)};
t.ii=function(b){if((!b.relatedTarget||!uc(this.h(),b.relatedTarget))&&this.dispatchEvent("leave"))vo(this,4)&&this.setActive(n),vo(this,2)&&this.ud(n)};t.ro=ha;t.Ne=function(b){this.isEnabled()&&(vo(this,2)&&this.ud(j),od(b)&&(vo(this,4)&&this.setActive(j),this.N.mi(this)&&this.lc().focus()));!this.Iq&&od(b)&&b.preventDefault()};t.ng=function(b){this.isEnabled()&&(vo(this,2)&&this.ud(j),this.Hb()&&(this.le(b)&&vo(this,4))&&this.setActive(n))};t.EE=function(b){this.isEnabled()&&this.le(b)};
t.le=function(b){vo(this,16)&&this.Sc(!this.ee());vo(this,8)&&this.Rm(j);vo(this,64)&&this.wb(!this.ub());var c=new id("action",this);b&&(c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.Iz=b.Iz);return this.dispatchEvent(c)};t.Me=function(){vo(this,32)&&to(this,32,j)&&this.cc(32,j)};t.$c=function(){vo(this,4)&&this.setActive(n);vo(this,32)&&to(this,32,n)&&this.cc(32,n)};
t.$b=function(b){return this.S()&&this.isEnabled()&&this.uf(b)?(b.preventDefault(),b.stopPropagation(),j):n};t.uf=function(b){return 13==b.keyCode&&this.le(b)};qa(ro)||f(Error("Invalid component class "+ro));qa(ho)||f(Error("Invalid renderer class "+ho));a.wo=ua(ro);qo[wo]=ho;po("goog-control",function(){return new ro(k)});a.xo=function(){};y(xo,no);ia(xo);t=xo.prototype;t.wc=ba();t.o=function(b){b.Gp(n);b.Xi&=-256;uo(b,32,n);return b.K().o("button",{"class":this.sf(b).join(" "),disabled:!b.isEnabled(),title:b.mg()||"",value:b.X()||""},b.Yg()||"")};t.Wc=function(b){return"BUTTON"==b.tagName||"INPUT"==b.tagName&&("button"==b.type||"submit"==b.type||"reset"==b.type)};t.n=function(b,c){b.Gp(n);b.Xi&=-256;uo(b,32,n);c.disabled&&D.add(c,this.ho(1));return xo.m.n.call(this,b,c)};t.Qe=function(b){b.g().c(b.h(),"click",b.le)};
t.Ap=ha;t.Di=ha;t.mi=function(b){return b.isEnabled()};t.$e=ha;t.cc=function(b,c,d){xo.m.cc.call(this,b,c,d);if((b=b.h())&&1==c)b.disabled=d};t.X=function(b){return b.value};t.ua=function(b,c){b&&(b.value=c)};t.Eg=ha;a.yo=function(b,c,d){ro.call(this,b,c||xo.F(),d)};y(yo,ro);t=yo.prototype;t.X=q("Ec");t.ua=function(b){this.Ec=b;this.N.ua(this.h(),b)};t.mg=q("aq");t.Uc=function(b){this.aq=b;this.N.Uc(this.h(),b)};t.St=ca("aq");t.Hf=u(19);t.p=function(){yo.m.p.call(this);delete this.Ec;delete this.aq};t.B=function(){yo.m.B.call(this);if(this.Ub&32){var b=this.lc();b&&this.g().c(b,"keyup",this.uf)}};t.uf=function(b){return 13==b.keyCode&&"key"==b.type||32==b.keyCode&&"keyup"==b.type?this.le(b):32==b.keyCode};
po("goog-button",function(){return new yo(k)});a.zo=function(){};y(zo,ho);ia(zo);zo.prototype.o=function(b){var c=b.K().o("span",this.sf(b).join(" "));Ao(this,c,b.Rh);return c};zo.prototype.n=function(b,c){var c=zo.m.n.call(this,b,c),d=D.get(c),e=Bo;z.contains(d,Co(this,Do))?e=Do:z.contains(d,Co(this,Eo))?e=Eo:z.contains(d,Co(this,Bo))&&(e=Bo);b.Rh=e;Pc(c,Wc.xq,e==Do?"mixed":e==Eo?"true":"false");return c};zo.prototype.wc=function(){return Xc.TJ};
a.Ao=function(b,c,d){if(c){var e=Co(b,d);D.has(c,e)||(E.forEach(Fo,function(b){b=Co(this,b);D.enable(c,b,b==e)},b),Pc(c,Wc.xq,d==Do?"mixed":d==Eo?"true":"false"))}};zo.prototype.O=s("goog-checkbox");a.Co=function(b,c){var d=b.O();if(c==Eo)return d+"-checked";if(c==Bo)return d+"-unchecked";if(c==Do)return d+"-undetermined";f(Error("Invalid checkbox state: "+c))};a.Go=function(b,c,d){d=d||zo.F();ro.call(this,k,d,c);this.Rh=la(b)?b:Bo};y(Go,ro);a.Eo=j,a.Bo=n,a.Do=k,a.Fo={xq:Eo,TY:Bo,VY:Do};t=Go.prototype;t.Ha=k;t.ee=function(){return this.Rh==Eo};t.Sc=function(b){b!=this.Rh&&(this.Rh=b,Ao(this.N,this.h(),this.Rh))};t.toggle=function(){this.Sc(this.Rh?Bo:Eo)};
t.B=function(){Go.m.B.call(this);if(this.Aj){var b=this.g();this.Ha&&b.c(this.Ha,"click",this.tx).c(this.Ha,"mouseover",this.od).c(this.Ha,"mouseout",this.ii).c(this.Ha,"mousedown",this.Ne).c(this.Ha,"mouseup",this.ng);b.c(this.h(),"click",this.tx)}if(this.Ha){if(!this.Ha.id){var b=this.Ha,c;c=this.ae()+".lbl";b.id=c}Pc(this.h(),Wc.Mu,this.Ha.id)}};t.eb=function(b){Go.m.eb.call(this,b);if(b=this.h())b.tabIndex=this.isEnabled()?0:-1};
t.tx=function(b){b.stopPropagation();var c=this.Rh?"uncheck":"check";this.isEnabled()&&this.dispatchEvent(c)&&(b.preventDefault(),this.toggle(),this.dispatchEvent("change"))};t.uf=function(b){32==b.keyCode&&this.tx(b);return n};po("goog-checkbox",function(){return new Go});a.Ho=function(){};y(Ho,no);ia(Ho);t=Ho.prototype;t.o=function(b){var c={"class":"goog-inline-block "+this.sf(b).join(" "),title:b.mg()||""};return b.K().o("div",c,b.ib())};t.wc=function(){return Xc.wq};t.Wc=function(b){return"DIV"==b.tagName};t.n=function(b,c){D.add(c,"goog-inline-block");return Ho.m.n.call(this,b,c)};t.X=s("");t.O=s("goog-flat-button");po("goog-flat-button",function(){return new yo(k,Ho.F())});a.Io=function(){};y(Io,Ho);ia(Io);Io.prototype.O=s("goog-link-button");po("goog-link-button",function(){return new yo(k,Io.F())});a.Ko=function(b,c,d,e,g){function h(b){b&&(b.tabIndex=0,Oc(b,l.wc()),D.add(b,"goog-zippy-header"),Jo(l,b),b&&l.TF.c(b,"keydown",l.hS))}M.call(this);this.H=g||Ub();this.Zh=this.H.h(b)||k;this.Wn=this.H.h(e||k);this.Bl=(this.Cy=qa(c)?c:k)||!c?k:this.H.h(c);this.md=d==j;this.TF=new me(this);this.az=new me(this);var l=this;h(this.Zh);h(this.Wn);this.La(this.md)};y(Ko,Hd);t=Ko.prototype;t.Aj=j;t.p=function(){Ko.m.p.call(this);Vc(this.TF);Vc(this.az)};t.wc=function(){return Xc.aC};t.ba=q("Bl");
t.expand=u(63);t.collapse=function(){this.La(n)};t.toggle=function(){this.La(!this.md)};t.La=function(b){this.Bl?R(this.Bl,b):b&&this.Cy&&(this.Bl=this.Cy());this.Bl&&D.add(this.Bl,"goog-zippy-content");this.Wn?(R(this.Zh,!b),R(this.Wn,b)):this.Zh&&(D.enable(this.Zh,"goog-zippy-expanded",b),D.enable(this.Zh,"goog-zippy-collapsed",!b),Pc(this.Zh,Wc.RB,b));this.md=b;this.dispatchEvent(new Lo("toggle",this,this.md))};t.ac=q("md");
t.Gp=function(b){this.Aj!=b&&((this.Aj=b)?(Jo(this,this.Zh),Jo(this,this.Wn)):this.az.Qc())};a.Jo=function(b,c){c&&b.az.c(c,"click",b.gS)};t.hS=function(b){if(13==b.keyCode||32==b.keyCode)this.toggle(),this.dispatchEvent(new id("action",this)),b.preventDefault(),b.stopPropagation()};t.gS=function(){this.toggle();this.dispatchEvent(new id("action",this))};a.Lo=function(b,c,d){id.call(this,b,c);this.Xd=d};y(Lo,id);a.Mo=function(){this.Cd=k};ia(Mo);Mo.prototype.refresh=function(){return this.Cd&&"pending"===this.Cd.state()?this.Cd:this.Cd=$.post("/oauth/refresh",function(b){var c=b.qq,b=b.sina;E.extend(Tg,c);E.extend(Sg,b);b.id&&Y.dispatchEvent(new gl("sina_callback",b));c.id&&Y.dispatchEvent(new gl("qq_callback",c))})};a.Po=function(b,c){M.call(this);this.H_=k;this.minHeight=c||66;this.Ob=b;this.g().c(this.Ob,["input","propertychange"],this.fq);No(this);Oo(this,j);D.add(this.Ob,"zu-seamless-input-origin-element")};y(Po,el);Po.prototype.fq=function(){return Oo(this)};
a.Oo=function(b,c){var d=b.Ob.value.replace(/[<>]/g,"a").replace(/[\n\r]/g,"<br>");if(c||b.iT!==d)b.iT=d,b.nh&&(b.nh.innerHTML=d,d=b.nh.scrollHeight,d=d>b.minHeight?d:b.minHeight,b.Ob.style.height=Zf(d,j),b.Ob.style.minHeight=d+"px",b.dispatchEvent("change"))},a.No=function(b){if(!b.nh){var c=$(b.Ob).css("white-space","pre");if(0!==ug(b.Ob).width){var d=K("div",{style:"overflow:hidden;position:relative;height:0;"},b.nh=K("div","zu-seamless-input-mock-element"));document.body.appendChild(d);$.each("fontFamily fontSize fontWeight fontStyle letterSpacing textTransform wordSpacing textIndent lineHeight width white-space".split(" "),
function(d,g){b.nh.style[g]=c.css(g)});b.nh.innerHTML=b.Ob.value}}};a.Qo=function(){};y(Qo,ho);ia(Qo);Qo.prototype.o=function(b){return b.K().o("div",this.O())};Qo.prototype.n=function(b,c){c.id&&lh(b,c.id);if("HR"==c.tagName){var d=c,c=this.o(b);lc(c,d);L(d)}else D.add(c,this.O());return c};Qo.prototype.Oa=ba();Qo.prototype.O=s("goog-menuseparator");a.Ro=function(b,c){ro.call(this,k,b||Qo.F(),c);uo(this,1,n);uo(this,2,n);uo(this,4,n);uo(this,32,n);this.da=1};y(Ro,ro);Ro.prototype.B=function(){Ro.m.B.call(this);Oc(this.h(),"separator")};po("goog-menuseparator",function(){return new Ro});a.So=function(){};ia(So);t=So.prototype;t.wc=ba();t.o=function(b){return b.K().o("div",this.sf(b).join(" "))};t.ba=aa();t.Wc=function(b){return"DIV"==b.tagName};t.n=function(b,c){c.id&&lh(b,c.id);var d=this.O(),e=n,g=D.get(c);g&&z.forEach(g,function(c){c==d?e=j:c&&this.uA(b,c,d)},this);e||D.add(c,d);To(this,b,this.ba(c));return c};t.uA=function(b,c,d){c==d+"-disabled"?b.eb(n):c==d+"-horizontal"?b.Hp(Uo):c==d+"-vertical"&&b.Hp(Vo)};
a.To=function(b,c,d){if(d)for(var e=d.firstChild,g;e&&e.parentNode==d;){g=e.nextSibling;if(1==e.nodeType){var h=b.jo(e);h&&(h.e=e,c.isEnabled()||h.eb(n),c.J(h),h.n(e))}else(!e.nodeValue||""==La(e.nodeValue))&&d.removeChild(e);e=g}};t.jo=function(b){a:{for(var c=D.get(b),d=0,e=c.length;d<e;d++)if(b=c[d]in oo?oo[c[d]]():k)break a;b=k}return b};t.Qe=function(b){b=b.h();tg(b,j,B);A&&(b.hideFocus=j);var c=this.wc();c&&Oc(b,c)};t.lc=function(b){return b.h()};t.O=s("goog-container");
t.sf=function(b){var c=this.O(),d=[c,b.Ab==Uo?c+"-horizontal":c+"-vertical"];b.isEnabled()||d.push(c+"-disabled");return d};t.Yw=u(12);a.Uo="horizontal",a.Vo="vertical";a.Wo=function(){T.call(this);this.yu=[]};y(Wo,T);t=Wo.prototype;t.Pb=le("ZH.ui.Accordion");t.Fa=function(b){this.yu.push(b);b.Qt(this)};t.B=function(){Wo.m.B.call(this);this.g().c(this,"toggle",this.tP)};t.tP=function(b){z.forEach(this.yu,function(c){b.target!==c&&c.ac()&&c.La(n,j)},this)};t.p=function(){Wo.m.p.call(this);z.forEach(this.yu,function(b){b.G()},this);this.yu=[]};a.Xo=function(b,c){var d=this,e={};E.extend(e,this.R,c||{});this.D=e;var g=e.dd?{dd:v(e.dd,d)}:k;g&&(g.Z=e.Z?v(e.Z,d):k);this.N=g=new Bm(e.qk,g);var h=new xm(e.source,!e.nW);this.zf=h;var l=e.fy;l||(l=new om(e.separator,e.eN,!!e.multiple,e.delay),l.Bi=function(b,c){var g;qa(e.select)&&(g=e.select.call(d,b,d.N.Bg[d.N.Gj]));rm(this,la(g)?g:b.label||b.toString(),c);return n});Zl.call(this,h,g,l);l.ca=this;l.fl(b);b.setAttribute("autocomplete","off");h.yi=function(b,c,g){var h=g;qa(e.format)&&(h=function(b,
c){var h=e.format.call(d,c,b);qa(e.filter)&&(h=e.filter.call(d,h,b));g(b,h)});return xm.prototype.yi.call(this,b,c,h)};g.XH=function(b,c,d){b=b.data;d.innerHTML=b.KV?b.KV():b.label||b.toString()};this.Vb=b;e.je&&(this.pi=e.je);e.placeholder&&(this.me=new El(b,e.placeholder));this.addEventListener("suggestionsupdate",function(){this.dispatchEvent(this.ub()?"show":"hide")})};y(Xo,Hm);
Xo.prototype.R={source:"",je:10,nW:n,filter:k,format:k,fy:k,delay:300,separator:k,eN:k,multiple:n,qk:k,V_:k,placeholder:"",dd:k,Z:k};a.$o=function(b){var c;return(c=Yo[this.D.source])||(c=Yo[Zo][b[0]])?c(b):b};Xo.prototype.R.format=function(b,c){return La(c)&&ma(b)&&ma(b[0])?z.map(b[0].slice(1),$o,this):[]};a.Zo="/autocomplete",a.Yo={};
Yo[Zo]={topic:function(b){return{type:b[0],name:b[1],url_token:b[2],avatar:b[3],id:b[4],answers:b[6],alias:b[7],raw:b,value:b[4],label:b[1]}},question:function(b){return{type:b[0],title:b[1],id:b[2],url_token:b[3],answers:b[4],is_star:!!b[5],raw:b,label:b[1],value:b[2]}},people:function(b){return{type:b[0],fullname:b[1],url_token:b[2],avatar:b[3],id:b[4],headline:b[5],raw:b,label:b[1],value:b[4]}},search_link:function(b){return{type:b[0],raw:b,label:b[1],value:b[1]}}};
Yo["/topic/autocomplete"]=function(b){return{type:b[0],name:b[1],url_token:b[2],avatar:b[3],id:b[4],followers:b[5],alias:b[6],label:b[1]}};Yo["/question/autocomplete"]=function(b){return{type:b[0],title:b[1],id:b[2],url_token:b[3],is_duplicated:Boolean(+b[4]),answer_count:b[5],raw:b,label:b[1],value:b[2]}};a.ap=function(b,c,d,e){om.call(this,b,c,d,e)};y(ap,om);ap.prototype.$c=ha;ap.prototype.$b=ha;ap.prototype.Bi=s(n);a.bp=!!window.DOMTokenList,a.cp=bp?function(b){return b.classList}:function(b){b=b.className;return oa(b)&&b.match(/\S+/g)||[]},a.dp=bp?function(b,c){return b.classList.contains(c)}:function(b,c){return z.contains(cp(b),c)},a.ep=bp?function(b,c){b.classList.add(c)}:function(b,c){dp(b,c)||(b.className+=0<b.className.length?" "+c:c)},a.fp=bp?function(b,c){b.classList.remove(c)}:function(b,c){dp(b,c)&&(b.className=z.filter(cp(b),function(b){return b!=c}).join(" "))};a.gp=function(b,c){T.call(this,c);this.Ha=b||""};y(gp,T);gp.prototype.ig=k;a.hp="placeholder"in document.createElement("input");t=gp.prototype;t.to=n;t.o=function(){this.e=this.K().o("input",{type:"text"})};t.$=function(b){gp.m.$.call(this,b);this.Ha||(this.Ha=b.getAttribute("label")||"");Lc(Tb(b))==b&&(this.to=j,fp(this.h(),this.jn));hp?this.h().placeholder=this.Ha:Pc(this.h(),Wc.zq,this.Ha)};
t.B=function(){gp.m.B.call(this);var b=new me(this);b.c(this.h(),"focus",this.JE);b.c(this.h(),"blur",this.qx);hp?this.Q=b:(B&&b.c(this.h(),["keypress","keydown","keyup"],this.DO),b.c(cc(Tb(this.h())),"load",this.xP),this.Q=b,ip(this));this.Qh();this.h().RQ=this};t.$a=function(){gp.m.$a.call(this);this.Q&&(this.Q.G(),this.Q=k);this.h().RQ=k};a.ip=function(b){!b.MN&&(b.Q&&b.h().form)&&(b.Q.c(b.h().form,"submit",b.FO),b.MN=j)};t.p=function(){gp.m.p.call(this);this.Q&&(this.Q.G(),this.Q=k)};t.jn="label-input-label";
t.JE=function(){this.to=j;fp(this.h(),this.jn);if(!hp&&!jp(this)&&!this.VP){var b=this,c=function(){b.h().value=""};A?Ld(c,10):c()}};t.qx=function(){hp||(this.Q.wa(this.h(),"click",this.JE),this.ig=k);this.to=n;this.Qh()};t.DO=function(b){27==b.keyCode&&("keydown"==b.type?this.ig=this.h().value:"keypress"==b.type?this.h().value=this.ig:"keyup"==b.type&&(this.ig=k),b.preventDefault())};t.FO=function(){jp(this)||(this.h().value="",Ld(this.fO,10,this))};t.fO=function(){jp(this)||(this.h().value=this.Ha)};
t.xP=function(){this.Qh()};a.jp=function(b){return!!b.h()&&""!=b.h().value&&b.h().value!=b.Ha};t.clear=function(){this.h().value="";this.ig!=k&&(this.ig="")};t.reset=function(){jp(this)&&(this.clear(),this.Qh())};t.ua=function(b){this.ig!=k&&(this.ig=b);this.h().value=b;this.Qh()};t.X=function(){return this.ig!=k?this.ig:jp(this)?this.h().value:""};
t.Qh=function(){hp?this.h().placeholder!=this.Ha&&(this.h().placeholder=this.Ha):(ip(this),Pc(this.h(),Wc.zq,this.Ha));if(jp(this))b=this.h(),fp(b,this.jn);else{if(!this.VP&&!this.to){var b=this.h();ep(b,this.jn)}hp||Ld(this.kU,10,this)}};t.eb=function(b){this.h().disabled=!b;var c=this.h(),d=this.jn+"-disabled";!b?ep(c,d):fp(c,d)};t.isEnabled=function(){return!this.h().disabled};t.kU=function(){this.h()&&(!jp(this)&&!this.to)&&(this.h().value=this.Ha)};a.lp=function(b,c,d){M.call(this);this.ad=d||"搜索话题";this.Y=c;this.data=b||[];this.status=kp;this.VH="/topic/unbind";this.iC="/topic/bind";this.isEnabled=j;this.ts='<a class="zm-tag-editor-tip-link" href="#" name="edit">帮忙给这个问题选个话题吧，好让别人来回答</a><a name="edit" class="zu-edit-button" href="#"><i class="zu-edit-button-icon"></i>添加</a>';this.je=10;this.bt=n;this.Us=Infinity;this.Xs=0};y(lp,el);a.kp="view",a.mp="零一二三四五六七八九十".split("");t=lp.prototype;
t.n=function(b){this.e=b;this.af=J("zm-tag-editor-labels",this.e);this.bt&&(this.data=this.Ez());np(this);this.De();this.Ea()};t.Ez=function(){var b=Xb("zm-item-tag",this.af);return z.map(b,function(b){var d=[La(b.innerHTML),b.getAttribute("data-token"),k,b.getAttribute("data-topicid")];d.ZV=!!b.getAttribute("data-uneditable");return d})};
a.np=function(b){if(b.data.length){var c=z.map(b.data,function(b){return wk(b,"",k,"b")},b);b.isEnabled&&c.push(Ak());b.af.innerHTML=c.join("")}else b.isEnabled&&(b.af.innerHTML=b.ts)};
t.Zn=function(){this.hc||(this.hc=K("div","zm-tag-editor-editor",[this.Vn=K("div","zg-section zg-clear"),this.lf=K("div","zg-section zm-tag-editor-command-buttons-wrap",[this.Ra=K("input",{"class":"zg-form-text-input zg-mr15",type:"text"}),K("a",{"class":"zg-mr15 zg-btn-blue",href:"#",name:"add",style:"display:none;"},"添加"),this.lE=K("a",{href:"#",name:"close"},"完成")]),this.Vs=K("div",{className:"zm-tag-editor-maxcount zg-section",style:"display:none;"},[K("span",{},"最多只能为一个问题绑定 "+this.Us+" 个话题"),
K("a",{href:"#",name:"close"},"完成")])]),mc(this.hc,this.af),this.ad&&(this.wy=new gp(this.ad),this.wy.n(this.Ra),this.Ra.title=this.ad),this.vf(this.lf))};t.vf=function(b,c){this.M=new go(c||"/topic/autocomplete",this.Ra,k,k,b,j);this.M.Kf(j);this.M.pi=this.je;this.M.Jp(this.uk());this.M.Ew=[this.ad];this.g().c(this.M,"select",this.ap);this.g().c(this.M,Zl.Ih.Si,this.av)};
t.uk=function(){return v(function(b){return z.filter(b,function(b){return z.every(this.data,function(d){return d[0]!==b[1]})},this)},this)};t.av=function(){1<this.M.cb.length&&!this.M.cb[0][4]&&bm(this.M)};t.Ea=function(){this.g().c(this.e,"click",this.ha);Ki&&this.g().c(Ki,"anon_change",this.yj)};t.yj=function(b){b.mb?D.add(this.e,"zm-tag-editor-disabled"):D.remove(this.e,"zm-tag-editor-disabled")};
t.ha=function(b){var c=this.qf(b.target);if(c&&c.name)switch(b.preventDefault(),c.name){case "edit":if(!S.ye){zl.F().z(j);break}this.ie(j);break;case "add":(b=xk(!this.Ra.value?"":this.Ra.value.replace(/<[^>]+>/g,"")))&&b!==this.Ra.title&&this.cf("",b);break;case "close":this.ie(n);break;case "remove":this.hH(c)}};t.ie=function(b){b&&this.dispatchEvent("start_editing");this.status=b?"edit":kp;this.Zn();this.Ye();this.De();op(this)};
t.hH=function(b){var c=b.id.split("-")[1],d=tc(b).innerHTML;this.Xs&&this.data.length<=this.Xs?U("请至少绑定"+mp[this.Xs]+"个话题"):(this.data=z.filter(this.data,function(b){return!c?b[1]!==d:String(b[3])!==c}),this.kp(c))};t.kp=function(b){if(!this.Bt||!this.Bt.Hb()){this.Bt=new V(j);var c=new fj;c.add("qid",this.Y).add("question_id",this.Y).add("topic_id",b);P(this.g(),this.Bt,"complete",this.fP);this.Bt.ajax(this.VH,c.toString())}};
t.fP=function(b){b=Ie(b.target);b.r?U(b.msg):(this.dispatchEvent("remove_tag"),np(this),this.Ye(),op(this))};t.De=function(){this.status===kp?(R(this.af,j),this.hc&&R(this.hc,n)):(R(this.af,n),this.hc&&this.isEnabled&&R(this.hc,j),this.Vs&&R(this.Vs,n))};t.cf=function(b,c){this.kh||(this.dispatchEvent("add_tag"),this.kh=j,this.xhr=new V(j),P(this.g(),this.xhr,"complete",this.bv),this.xhr.ajax(this.iC,"qid="+this.Y+"&question_id="+this.Y+"&topic_id="+b+"&topic_text="+encodeURIComponent(c)))};
t.ap=function(){var b="",c="",d=z.slice(this.M.lg(),1);3<d.length?(b=d[3],c=d[0]):c=d[1];var e=n;z.forEach(this.data,function(d){if(d[3]&&String(d[3])===b||d[0]===c)e=j});e||this.cf(b,c)};t.bv=function(){this.kh=n;var b=Ie(this.xhr);this.xk(b);op(this)};t.xk=function(b){var c=k;b&&b.r?b.notify?il(b.notify):U(b.msg,2E3):(4<b.length&&il(b[4]),this.pI=c=b,this.data.push(c),np(this),this.Ye(),this.Ra.value="",this.dispatchEvent("select"))};t.sE=function(b){return wk(b,"nor",n)};
t.Ye=function(){var b=z.map(this.data,function(b){return['<span class="zm-tag-editor-edit-item">',this.sE(b),b.ZV?"":'<a id="rmid-'+b[3]+'" href="#" class="zg-r3px zm-tag-editor-remove-button" name="remove"></a>',"</span>"].join("")},this);this.Vn.innerHTML=b.join("")};t.lg=q("pI");t.eb=function(b){this.isEnabled=b;this.status=kp;this.De()};
a.op=function(b){var c=b.data.length>=b.Us;b.lf&&R(b.lf,!c);b.Vs&&R(b.Vs,c)},a.pp=function(b){lp.call(this);this.ts="";this.ad=b||"";this.Us=this.je=5;this.tq=$("#zh-question-suggest-title-content")};y(pp,lp);t=pp.prototype;
t.n=function(b){pp.m.n.call(this,b);this.ie(j);z.forEach(Wb("a",k,b),function(b){R(b,n)});this.g().c(this.Ra,"focus",function(){this.tq.val()&&!this.ZD&&(this.ZD=j,this.vB());this.placeholder&&(this.placeholder.wk("搜索话题"),Hl(this.placeholder))});this.SF=new im;this.SF.attach(this.Ra);this.g().c(this.SF,"key",function(b){8===b.keyCode&&(1===this.Ra.value.length&&(this.GC=j,this.NL=setTimeout(v(function(){this.GC=n;clearTimeout(this.NL)},this))),!this.Ra.value.length&&!this.GC&&(this.data.pop(),this.Ye(),
this.dispatchEvent("remove_tag")))});this.qV=new an(this.vB,2E3,this);this.g().c(this.tq[0],"keyup",function(){var b=this.tq.val();this.bu!==b&&(this.qV.fire(),this.bu=b)});this.g().c(this,["remove_tag","add_tag"],function(){qp(this);0<this.data.length&&this.placeholder&&(this.placeholder.wk("搜索话题"),Hl(this.placeholder));5<=this.data.length?(this.eb(n),this.rq.show(),this.placeholder&&this.placeholder.hide(),this.Fu.hide()):(this.eb(j),this.rq.hide(),this.placeholder&&this.placeholder.show(),this.Fu.show(),
this.rq.removeClass("light"))})};t.uk=function(){return v(function(b){return z.filter(b,function(b){return z.every(this.data,function(d){return d[1]!==b[1]})},this)},this)};t.kp=function(){this.dispatchEvent("remove_tag");np(this);this.Ye()};
t.Zn=function(){this.hc||(pp.m.Zn.call(this),D.add(this.hc,"zg-clear"),D.set(this.Vn,"zg-inline"),D.add(this.lf,"zg-left"),D.remove(this.lf,"zg-section"),D.set(this.Ra,"zu-question-suggest-topic-input"),D.add(this.Ra,"label-input-label"),this.vq=$("<div class='sug-con zg-clear' style='display:none;'></div>").append("<span class='zg-gray-normal zg-left tip'>推荐添加</span>").append(this.NJ=$("<span class='sugs zg-clear zg-inline'></span>")).append(this.MB=$("<img src='/static/img/spinner2.gif' style=''/>")),
this.vq.insertAfter(this.e),this.vq.on("click","a[name='add']",v(function(b){b=b.currentTarget;if(5>this.data.length)this.cf($(b).attr("data-id"),$(b).attr("data-text"));else{this.rq.addClass("light");var c=$(this.hc);c.parent().addClass("sandbox");c.addClass("animated shake");setTimeout(function(){c.removeClass("animated shake");c.parent().removeClass("sandbox");qa(i)&&i()},1E3)}},this)),this.Fu=$("<label for='topic' class='zg-icon search-icon'></label>"),$(this.lf).append(this.Fu),this.placeholder=
new El(this.Ra,{text:"搜索话题",FC:j}),$(this.lf).append(this.rq=$("<label class='err-tip' style='display:none;'>最多添加五个话题</label>")),this.g().c(this.hc,"click",this.XV))};t.XV=function(b){Gk(this.e,b.target)||(b=J("zu-question-suggest-topic-input",this.hc),rg(b)&&b.focus())};
t.vB=function(){this.ZD&&(this.bu=this.tq.val(),8>this.bu.length?(this.Vp=[],qp(this)):(this.Wp&&this.Wp.abort(),this.Wp=new V(n),this.g().c(this.Wp,"success",this.KS),this.Wp.ajax("/topic-question/autocomplete?token="+this.bu+"&max_matches=5&use_similar=0","GET"),this.MB.show()))};t.KS=function(){this.Vp=Ie(this.Wp)[0].slice(1);qp(this)};
a.qp=function(b){var c;c=b.Vp?z.filter(b.Vp,function(b){return z.every(this.data,function(c){return c[1]!==b[1]})},b):[];b.vq.show();(!c||0===c.length)&&b.vq.hide();var d="";c=z.map(c,function(b){return"<a href='javascript:;' name='add' data-id='"+b[4]+"' data-text='"+b[1]+"' class='zg-r3px zm-item-tag'><span>"+b[1]+"</span></a>"});d+=c.join("");b.NJ.html(d);b.MB.hide()};
t.Ye=function(){var b=[];z.forEach(this.data,function(c){b.push(['<div class="zm-tag-editor-edit-item"><span>',c[0],'</span><a id="rmid-',c[3],'" href="#" class="zg-r3px zm-tag-editor-remove-button" name="remove"></a></div>'].join(""))},this);this.Vn.innerHTML=b.join("")};t.reset=function(){this.data=[];np(this);this.Ye()};t.hH=function(b){var c=b.id.split("-")[1],d=tc(b).innerHTML;this.data=z.filter(this.data,function(b){return!c?b[1]!==d:String(b[3])!==c});this.kp(c)};
t.cf=function(b,c){var d=[c,c,"",b];this.pI=d;this.data.push(d);np(this);this.Ye();this.Ra.value="";this.dispatchEvent("select");this.dispatchEvent("add_tag")};t.eb=function(b){this.Ra&&R(this.Ra,b)};a.rp=function(){M.call(this)};y(rp,M);a.sp=le("goog.dom.SavedRange");rp.prototype.restore=u(35);a.tp=function(b,c,d,e,g){this.Rc=!!c;b&&this.ed(b,e);this.depth=g!=i?g:this.dc||0;this.Rc&&(this.depth*=-1);this.hr=!d};y(tp,Nd);t=tp.prototype;t.ga=k;t.dc=0;t.TA=n;t.ed=function(b,c,d){if(this.ga=b)this.dc=pa(c)?c:1!=this.ga.nodeType?0:this.Rc?-1:1;pa(d)&&(this.depth=d)};t.Qg=function(b){this.ga=b.ga;this.dc=b.dc;this.depth=b.depth;this.Rc=b.Rc;this.hr=b.hr};t.clone=function(){return new tp(this.ga,this.Rc,!this.hr,this.dc,this.depth)};t.Qp=u(16);
t.next=function(){var b;if(this.TA){(!this.ga||this.hr&&0==this.depth)&&f(O.gb);b=this.ga;var c=this.Rc?-1:1;if(this.dc==c){var d=this.Rc?b.lastChild:b.firstChild;d?this.ed(d):this.ed(b,-1*c)}else(d=this.Rc?b.previousSibling:b.nextSibling)?this.ed(d):this.ed(b.parentNode,-1*c);this.depth+=this.dc*(this.Rc?-1:1)}else this.TA=j;(b=this.ga)||f(O.gb);return b};t.eg=function(b){return b.ga==this.ga&&(!this.ga||b.dc==this.dc)};
t.splice=function(b){var c=this.ga,d=this.Rc?1:-1;this.dc==d&&(this.dc=-1*d,this.depth+=this.dc*(this.Rc?-1:1));this.Rc=!this.Rc;tp.prototype.next.call(this);this.Rc=!this.Rc;for(var d=na(arguments[0])?arguments[0]:arguments,e=d.length-1;0<=e;e--)mc(d[e],c);L(c)};a.up=function(){},a.vp=function(b){if(b.getSelection)return b.getSelection();var b=b.document,c=b.selection;if(c){try{var d=c.createRange();if(d.parentElement){if(d.parentElement().document!=b)return k}else if(!d.length||d.item(0).document!=b)return k}catch(e){return k}return c}return k},a.wp=function(b){for(var c=[],d=0,e=b.xj();d<e;d++)c.push(b.Le(d));return c};t=up.prototype;t.Eb=u(54);
a.xp=function(b){return b.ni()?b.ka():b.W()},a.yp=function(b){return b.ni()?b.W():b.ka()},a.zp=function(b){return b.ni()?b.ta():b.Ja()};t.ni=s(n);t.xa=function(){return Tb(A?this.xc():this.W())};t.Ta=function(){return cc(this.xa())};t.containsNode=function(b,c){return this.Ng(Ap(b),c)};t.Ag=u(39);a.Bp=function(b,c){tp.call(this,b,c,j)};y(Bp,tp);a.Cp=function(){};y(Cp,up);Cp.prototype.Ng=function(b,c){var d=wp(this),e=wp(b);return(c?z.some:z.every)(e,function(b){return z.some(d,function(d){return d.Ng(b,c)})})};Cp.prototype.insertNode=function(b,c){c?lc(b,this.W()):mc(b,this.ka());return b};Cp.prototype.xh=u(9);a.Dp=function(b,c,d,e,g){var h;b&&(this.va=b,this.Ca=c,this.sa=d,this.Aa=e,1==b.nodeType&&"BR"!=b.tagName&&(b=b.childNodes,(c=b[c])?(this.va=c,this.Ca=0):(b.length&&(this.va=z.Df(b)),h=j)),1==d.nodeType&&((this.sa=d.childNodes[e])?this.Aa=0:this.sa=d));tp.call(this,g?this.sa:this.va,g,j);if(h)try{this.next()}catch(l){l!=O.gb&&f(l)}};y(Dp,Bp);t=Dp.prototype;t.va=k;t.sa=k;t.Ca=0;t.Aa=0;t.wj=u(60);t.uj=u(42);t.W=q("va");t.ka=q("sa");t.Io=function(){return this.TA&&this.ga==this.sa&&(!this.Aa||1!=this.dc)};
t.next=function(){this.Io()&&f(O.gb);return Dp.m.next.call(this)};t.Qp=u(15);t.Qg=function(b){this.va=b.va;this.sa=b.sa;this.Ca=b.Ca;this.Aa=b.Aa;this.xf=b.xf;Dp.m.Qg.call(this,b)};t.clone=function(){var b=new Dp(this.va,this.Ca,this.sa,this.Aa,this.xf);b.Qg(this);return b};a.Ep=function(){};Ep.prototype.Ng=function(b,c){var d=c&&!b.isCollapsed(),e=b.P;try{return d?0<=this.Ge(e,0,1)&&0>=this.Ge(e,1,0):0<=this.Ge(e,0,0)&&0>=this.Ge(e,1,1)}catch(g){return A||f(g),n}};Ep.prototype.containsNode=function(b,c){return this.Ng(Fp(b),c)};Ep.prototype.Zg=u(25);Ep.prototype.hd=function(){return new Dp(this.W(),this.ta(),this.ka(),this.Ja())};a.Gp=function(b){this.P=b};y(Gp,Ep);a.Ip=function(b){var c=Tb(b).createRange();if(3==b.nodeType)c.setStart(b,0),c.setEnd(b,b.length);else if(Hp(b)){for(var d,e=b;(d=e.firstChild)&&Hp(d);)e=d;c.setStart(e,0);for(e=b;(d=e.lastChild)&&Hp(d);)e=d;c.setEnd(e,1==e.nodeType?e.childNodes.length:e.length)}else d=b.parentNode,b=z.indexOf(d.childNodes,b),c.setStart(d,b),c.setEnd(d,b+1);return c},a.Jp=function(b,c,d,e){var g=Tb(b).createRange();g.setStart(b,c);g.setEnd(d,e);return g};t=Gp.prototype;t.clone=function(){return new this.constructor(this.P.cloneRange())};
t.xc=function(){return this.P.commonAncestorContainer};t.W=function(){return this.P.startContainer};t.ta=function(){return this.P.startOffset};t.ka=function(){return this.P.endContainer};t.Ja=function(){return this.P.endOffset};t.Ge=function(b,c,d){return this.P.compareBoundaryPoints(1==d?1==c?fa.Range.START_TO_START:fa.Range.START_TO_END:1==c?fa.Range.END_TO_START:fa.Range.END_TO_END,b)};t.isCollapsed=function(){return this.P.collapsed};t.Mc=u(30);t.ce=u(47);
t.select=function(b){var c=cc(Tb(this.W()));this.yp(c.getSelection(),b)};t.yp=function(b){b.removeAllRanges();b.addRange(this.P)};t.cd=u(5);t.insertNode=function(b,c){var d=this.P.cloneRange();d.collapse(c);d.insertNode(b);d.detach();return b};t.xh=u(8);t.collapse=function(b){this.P.collapse(b)};a.Kp=function(b){this.P=b};y(Kp,Gp);Kp.prototype.yp=function(b,c){!c||this.isCollapsed()?Kp.m.yp.call(this,b,c):(b.collapse(this.ka(),this.Ja()),b.extend(this.W(),this.ta()))};a.Lp=function(b,c){this.P=b;this.zr=c};y(Lp,Ep);a.Mp=le("goog.dom.browserrange.IeRange"),a.Np=function(b){var c=Tb(b).body.createTextRange();if(1==b.nodeType)c.moveToElementText(b),Hp(b)&&!b.childNodes.length&&c.collapse(n);else{for(var d=0,e=b;e=e.previousSibling;){var g=e.nodeType;if(3==g)d+=e.length;else if(1==g){c.moveToElementText(e);break}}e||c.moveToElementText(b.parentNode);c.collapse(!e);d&&c.move("character",d);c.moveEnd("character",b.length)}return c};t=Lp.prototype;t.xg=k;t.va=k;
t.sa=k;t.Ca=-1;t.Aa=-1;t.clone=function(){var b=new Lp(this.P.duplicate(),this.zr);b.xg=this.xg;b.va=this.va;b.sa=this.sa;return b};t.Fe=function(){this.xg=this.va=this.sa=k;this.Ca=this.Aa=-1};
t.xc=function(){if(!this.xg){var b=this.P.text,c=this.P.duplicate(),d=b.replace(/ +$/,"");(d=b.length-d.length)&&c.moveEnd("character",-d);d=c.parentElement();c=Ia(c.htmlText).length;if(this.isCollapsed()&&0<c)return this.xg=d;for(;c>Ia(d.outerHTML).length;)d=d.parentNode;for(;1==d.childNodes.length&&d.innerText==(3==d.firstChild.nodeType?d.firstChild.nodeValue:d.firstChild.innerText)&&Hp(d.firstChild);)d=d.firstChild;0==b.length&&(d=Op(this,d));this.xg=d}return this.xg};
a.Op=function(b,c){for(var d=c.childNodes,e=0,g=d.length;e<g;e++){var h=d[e];if(Hp(h)){var l=Np(h),m=l.htmlText!=h.outerHTML;if(b.isCollapsed()&&m?0<=b.Ge(l,1,1)&&0>=b.Ge(l,1,0):b.P.inRange(l))return Op(b,h)}}return c};t.W=function(){this.va||(this.va=Pp(this,1),this.isCollapsed()&&(this.sa=this.va));return this.va};t.ta=function(){0>this.Ca&&(this.Ca=Qp(this,1),this.isCollapsed()&&(this.Aa=this.Ca));return this.Ca};
t.ka=function(){if(this.isCollapsed())return this.W();this.sa||(this.sa=Pp(this,0));return this.sa};t.Ja=function(){if(this.isCollapsed())return this.ta();0>this.Aa&&(this.Aa=Qp(this,0),this.isCollapsed()&&(this.Ca=this.Aa));return this.Aa};t.Ge=function(b,c,d){return this.P.compareEndPoints((1==c?"Start":"End")+"To"+(1==d?"Start":"End"),b)};
a.Pp=function(b,c,d){d=d||b.xc();if(!d||!d.firstChild)return d;for(var e=1==c,g=0,h=d.childNodes.length;g<h;g++){var l=e?g:h-g-1,m=d.childNodes[l],p;try{p=Fp(m)}catch(r){continue}var x=p.P;if(b.isCollapsed())if(Hp(m)){if(p.Ng(b))return Pp(b,c,m)}else{if(0==b.Ge(x,1,1)){b.Ca=b.Aa=l;break}}else{if(b.Ng(p)){if(!Hp(m)){e?b.Ca=l:b.Aa=l+1;break}return Pp(b,c,m)}if(0>b.Ge(x,1,0)&&0<b.Ge(x,0,1))return Pp(b,c,m)}}return d},a.Qp=function(b,c){var d=1==c,e=d?b.W():b.ka();if(1==e.nodeType){for(var e=e.childNodes,
g=e.length,h=d?1:-1,l=d?0:g-1;0<=l&&l<g;l+=h){var m=e[l];if(!Hp(m)&&0==b.P.compareEndPoints((1==c?"Start":"End")+"To"+(1==c?"Start":"End"),Fp(m).P))return d?l:l+1}return-1==l?0:l}g=b.P.duplicate();h=Np(e);g.setEndPoint(d?"EndToEnd":"StartToStart",h);g=g.text.length;return d?e.length-g:g};t.qg=u(68);t.isCollapsed=function(){return 0==this.P.compareEndPoints("StartToEnd",this.P)};t.Mc=u(29);t.ce=u(46);t.select=function(){this.P.select()};t.cd=u(4);
a.Rp=function(b,c,d){var e;e=e||Ub(b.parentElement());var g;1!=c.nodeType&&(g=j,c=e.o("DIV",k,c));b.collapse(d);var d=e||Ub(b.parentElement()),h,l=h=c.id;h||(h=c.id=fb());b.pasteHTML(c.outerHTML);(c=d.h(h))&&(l||c.removeAttribute("id"));g&&(b=c.firstChild,e.DN(c),c=b);return c};t.insertNode=function(b,c){var d=Rp(this.P.duplicate(),b,c);this.Fe();return d};t.xh=u(7);t.collapse=function(b){this.P.collapse(b);b?(this.sa=this.va,this.Aa=this.Ca):(this.va=this.sa,this.Ca=this.Aa)};a.Sp=function(b){this.P=b};y(Sp,Gp);Sp.prototype.yp=function(b){b.collapse(this.W(),this.ta());(this.ka()!=this.W()||this.Ja()!=this.ta())&&b.extend(this.ka(),this.Ja());0==b.rangeCount&&b.addRange(this.P)};a.Tp=function(b){this.P=b};y(Tp,Gp);Tp.prototype.Ge=function(b,c,d){return Gb("528")?Tp.m.Ge.call(this,b,c,d):this.P.compareBoundaryPoints(1==d?1==c?fa.Range.START_TO_START:fa.Range.END_TO_START:1==c?fa.Range.START_TO_END:fa.Range.END_TO_END,b)};Tp.prototype.yp=function(b,c){b.removeAllRanges();c?b.setBaseAndExtent(this.ka(),this.Ja(),this.W(),this.ta()):b.setBaseAndExtent(this.W(),this.ta(),this.ka(),this.Ja())};a.Up=function(b){return A&&!Ib(9)?new Lp(b,Tb(b.parentElement())):C?new Tp(b):B?new Kp(b):tb?new Sp(b):new Gp(b)},a.Fp=function(b){if(A&&!Ib(9)){var c=new Lp(Np(b),Tb(b));if(Hp(b)){for(var d,e=b;(d=e.firstChild)&&Hp(d);)e=d;c.va=e;c.Ca=0;for(e=b;(d=e.lastChild)&&Hp(d);)e=d;c.sa=e;c.Aa=1==e.nodeType?e.childNodes.length:e.length;c.xg=b}else c.va=c.sa=c.xg=b.parentNode,c.Ca=z.indexOf(c.xg.childNodes,b),c.Aa=c.Ca+1;b=c}else b=C?new Tp(Ip(b)):B?new Kp(Ip(b)):tb?new Sp(Ip(b)):new Gp(Ip(b));return b},a.Hp=
function(b){return ic(b)||3==b.nodeType};a.Vp=function(){};y(Vp,up);a.Wp=function(b,c){var d=new Vp;d.Yi=b;d.xf=!!c;return d},a.Yp=function(b,c,d,e){var g=new Vp;g.xf=Xp(b,c,d,e);if("BR"==b.tagName)var h=b.parentNode,c=z.indexOf(h.childNodes,b),b=h;"BR"==d.tagName&&(h=d.parentNode,e=z.indexOf(h.childNodes,d),d=h);g.xf?(g.va=d,g.Ca=e,g.sa=b,g.Aa=c):(g.va=b,g.Ca=c,g.sa=d,g.Aa=e);return g};t=Vp.prototype;t.Yi=k;t.va=k;t.Ca=k;t.sa=k;t.Aa=k;t.xf=n;
t.clone=function(){var b=new Vp;b.Yi=this.Yi;b.va=this.va;b.Ca=this.Ca;b.sa=this.sa;b.Aa=this.Aa;b.xf=this.xf;return b};t.hi=s("text");t.$d=function(){return Zp(this).P};t.Fe=function(){this.va=this.Ca=this.sa=this.Aa=k};t.xj=s(1);t.Le=function(){return this};
a.Zp=function(b){var c;if(!(c=b.Yi)){c=b.W();var d=b.ta(),e=b.ka(),g=b.Ja();if(A&&!Ib(9)){var h=c,l=d,m=e,p=g,r=n;1==h.nodeType&&(l>h.childNodes.length&&Mp.log(ce,"Cannot have startOffset > startNode child count",i),l=h.childNodes[l],r=!l,h=l||h.lastChild||h,l=0);var x=Np(h);l&&x.move("character",l);h==m&&l==p?x.collapse(j):(r&&x.collapse(n),r=n,1==m.nodeType&&(p>m.childNodes.length&&Mp.log(ce,"Cannot have endOffset > endNode child count",i),m=(l=m.childNodes[p])||m.lastChild||m,p=0,r=!l),h=Np(m),
h.collapse(!r),p&&h.moveEnd("character",p),x.setEndPoint("EndToEnd",h));p=new Lp(x,Tb(c));p.va=c;p.Ca=d;p.sa=e;p.Aa=g;c=p}else c=C?new Tp(Jp(c,d,e,g)):B?new Kp(Jp(c,d,e,g)):tb?new Sp(Jp(c,d,e,g)):new Gp(Jp(c,d,e,g));c=b.Yi=c}return c};t.xc=function(){return Zp(this).xc()};t.W=function(){return this.va||(this.va=Zp(this).W())};t.ta=function(){return this.Ca!=k?this.Ca:this.Ca=Zp(this).ta()};t.ka=function(){return this.sa||(this.sa=Zp(this).ka())};t.Ja=function(){return this.Aa!=k?this.Aa:this.Aa=Zp(this).Ja()};
t.ni=q("xf");t.Ng=function(b,c){var d=b.hi();return"text"==d?Zp(this).Ng(Zp(b),c):"control"==d?(d=b.ei(),(c?z.some:z.every)(d,function(b){return this.containsNode(b,c)},this)):n};t.qg=u(67);t.isCollapsed=function(){return Zp(this).isCollapsed()};t.Mc=u(28);t.Zg=u(24);t.ce=u(45);t.hd=function(){return new Dp(this.W(),this.ta(),this.ka(),this.Ja())};t.select=function(){Zp(this).select(this.xf)};t.cd=u(3);t.insertNode=function(b,c){var d=Zp(this).insertNode(b,c);this.Fe();return d};t.xh=u(6);t.fA=function(){return new $p(this)};
t.collapse=function(b){b=this.ni()?!b:b;this.Yi&&this.Yi.collapse(b);b?(this.sa=this.va,this.Aa=this.Ca):(this.va=this.sa,this.Ca=this.Aa);this.xf=n};a.$p=function(b){this.tC=xp(b);this.sL=b.ni()?b.Ja():b.ta();this.oE=yp(b);this.HN=zp(b)};y($p,rp);$p.prototype.tk=u(34);$p.prototype.p=function(){$p.m.p.call(this);this.oE=this.tC=k};a.aq=function(){};y(aq,Cp);a.bq=function(b){var c=new aq;c.P=b;return c},a.cq=function(b){for(var c=Tb(arguments[0]).body.createControlRange(),d=0,e=arguments.length;d<e;d++)c.addElement(arguments[d]);return bq(c)};t=aq.prototype;t.P=k;t.Za=k;t.Rp=k;t.Fe=function(){this.Rp=this.Za=k};t.clone=function(){return cq.apply(this,this.ei())};t.hi=s("control");t.$d=function(){return this.P||document.body.createControlRange()};t.xj=function(){return this.P?this.P.length:0};
t.Le=function(b){b=this.P.item(b);return Wp(Fp(b),i)};t.xc=function(){return yc.apply(k,this.ei())};t.W=function(){return dq(this)[0]};t.ta=s(0);t.ka=function(){var b=dq(this),c=z.Df(b);return z.find(b,function(b){return uc(b,c)})};t.Ja=function(){return this.ka().childNodes.length};t.ei=function(){if(!this.Za&&(this.Za=[],this.P))for(var b=0;b<this.P.length;b++)this.Za.push(this.P.item(b));return this.Za};
a.dq=function(b){b.Rp||(b.Rp=b.ei().concat(),b.Rp.sort(function(b,d){return b.sourceIndex-d.sourceIndex}));return b.Rp};t.qg=u(66);t.isCollapsed=function(){return!this.P||!this.P.length};t.Mc=u(27);t.Zg=u(23);t.ce=u(44);t.hd=function(){return new eq(this)};t.select=function(){this.P&&this.P.select()};t.cd=u(2);t.Ag=u(38);t.fA=function(){return new fq(this)};t.collapse=function(){this.P=k;this.Fe()};a.fq=function(b){this.Za=b.ei()};y(fq,rp);fq.prototype.tk=u(33);
fq.prototype.p=function(){fq.m.p.call(this);delete this.Za};a.eq=function(b){b&&(this.Za=dq(b),this.va=this.Za.shift(),this.sa=z.Df(this.Za)||this.va);tp.call(this,this.va,n,j)};y(eq,Bp);t=eq.prototype;t.va=k;t.sa=k;t.Za=k;t.wj=u(59);t.uj=u(41);t.W=q("va");t.ka=q("sa");t.Io=function(){return!this.depth&&!this.Za.length};t.next=function(){this.Io()&&f(O.gb);if(!this.depth){var b=this.Za.shift();this.ed(b,1,1);return b}return eq.m.next.call(this)};
t.Qg=function(b){this.Za=b.Za;this.va=b.va;this.sa=b.sa;eq.m.Qg.call(this,b)};t.clone=function(){var b=new eq(k);b.Qg(this);return b};a.gq=function(){this.df=[];this.Dm=[];this.ir=this.Wm=k};y(gq,Cp);t=gq.prototype;t.Da=le("goog.dom.MultiRange");t.Fe=function(){this.Dm=[];this.ir=this.Wm=k};t.clone=function(){var b=new gq;b.df=z.clone(this.df);return b};t.hi=s("mutli");t.$d=function(){1<this.df.length&&this.Da.Ok("getBrowserRangeObject called on MultiRange with more than 1 range");return this.df[0]};t.xj=function(){return this.df.length};t.Le=function(b){this.Dm[b]||(this.Dm[b]=Wp(Up(this.df[b]),i));return this.Dm[b]};
t.xc=function(){if(!this.ir){for(var b=[],c=0,d=this.xj();c<d;c++)b.push(this.Le(c).xc());this.ir=yc.apply(k,b)}return this.ir};a.hq=function(b){b.Wm||(b.Wm=wp(b),b.Wm.sort(function(b,d){var e=b.W(),g=b.ta(),h=d.W(),l=d.ta();return e==h&&g==l?0:Xp(e,g,h,l)?1:-1}));return b.Wm};t.W=function(){return hq(this)[0].W()};t.ta=function(){return hq(this)[0].ta()};t.ka=function(){return z.Df(hq(this)).ka()};t.Ja=function(){return z.Df(hq(this)).Ja()};t.qg=u(65);
t.isCollapsed=function(){return 0==this.df.length||1==this.df.length&&this.Le(0).isCollapsed()};t.Mc=u(26);t.Zg=u(22);t.ce=u(43);t.hd=function(){return new iq(this)};t.select=function(){var b=vp(this.Ta());b.removeAllRanges();for(var c=0,d=this.xj();c<d;c++)b.addRange(this.Le(c).$d())};t.cd=u(1);t.fA=function(){return new jq(this)};t.collapse=function(b){if(!this.isCollapsed()){var c=b?this.Le(0):this.Le(this.xj()-1);this.Fe();c.collapse(b);this.Dm=[c];this.Wm=[c];this.df=[c.$d()]}};
a.jq=function(b){this.hA=z.map(wp(b),function(b){return b.fA()})};y(jq,rp);jq.prototype.tk=u(32);jq.prototype.p=function(){jq.m.p.call(this);z.forEach(this.hA,function(b){b.G()});delete this.hA};a.iq=function(b){b&&(this.rg=z.map(hq(b),function(b){return O.fd(b)}));b=b?this.W():k;tp.call(this,b,n,j)};y(iq,Bp);t=iq.prototype;t.rg=k;t.ql=0;t.wj=u(58);t.uj=u(40);t.W=function(){return this.rg[0].W()};t.ka=function(){return z.Df(this.rg).ka()};t.Io=function(){return this.rg[this.ql].Io()};
t.next=function(){try{var b=this.rg[this.ql],c=b.next();this.ed(b.ga,b.dc,b.depth);return c}catch(d){return(d!==O.gb||this.rg.length-1==this.ql)&&f(d),this.ql++,this.next()}};t.Qg=function(b){this.rg=z.clone(b.rg);iq.m.Qg.call(this,b)};t.clone=function(){var b=new iq(k);b.Qg(this);return b};a.lq=function(b){return(b=vp(b||window))&&kq(b)},a.kq=function(b){var c,d=n;if(b.createRange)try{c=b.createRange()}catch(e){return k}else if(b.rangeCount){if(1<b.rangeCount){c=new gq;for(var d=0,g=b.rangeCount;d<g;d++)c.df.push(b.getRangeAt(d));return c}c=b.getRangeAt(0);d=Xp(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset)}else return k;return mq(c,d)},a.mq=function(b,c){return b&&b.addElement?bq(b):Wp(Up(b),c)},a.Ap=function(b){return Wp(Fp(b),i)},a.nq=function(b,c){return Yp(b,c,b,c)},a.Xp=
function(b,c,d,e){if(b==d)return e<c;var g;if(1==b.nodeType&&c)if(g=b.childNodes[c])b=g,c=0;else if(uc(b,d))return j;if(1==d.nodeType&&e)if(g=d.childNodes[e])d=g,e=0;else if(uc(d,b))return n;return 0<(xc(b,d)||c-e)};a.oq=function(b){return(b=b.exec(pb()))?b[1]:""},a.pq=function(){if(gi)return oq(/Firefox\/([0-9.]+)/);if(A||tb)return zb;if(li)return oq(/Chrome\/([0-9.]+)/);if(mi)return oq(/Version\/([0-9.]+)/);if(ii||ji){var b=/Version\/(\S+).*Mobile\/(\S+)/.exec(pb());if(b)return b[1]+"."+b[2]}else{if(ki)return(b=oq(/Android\s+([0-9.]+)/))?b:oq(/Version\/([0-9.]+)/);if(hi)return oq(/Camino\/([0-9.]+)/)}return""}();a.qq=A&&!Ib(9),a.rq=B||C||tb||A&&Ib(9),a.sq=C||n,a.tq=A||C||tb,a.uq=B||C;C&&Gb("534.16");a.vq=B&&j,a.wq=B||C||tb,a.xq=B||tb;A&&Gb("7.0");a.yq=B&&Gb("1.8")||C||tb,a.zq=C||A&&Gb("9");A||tb||B&&Gb("1.9");a.Aq=B||C&&!Gb("527"),a.Bq=A||tb,a.Cq=A||C&&Gb("525"),a.Dq=C&&!Gb("531"),a.Eq=C&&!Gb("528");B&&Gb("1.9")||A||tb||C&&Gb("531");a.Fq=A||B||tb,a.Gq=B||C&&!Gb("526"),a.Hq=A||tb,a.Iq=!A&&!tb,a.Jq=!C;li&&0<=db(pq,"4")||mi&&Gb("533")||B&&Gb("2.0")||A&&Gb("10");a.Kq=tb&&Gb("11.10");li&&db(pq,"12");a.Lq=E.Wh("ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","BODY","CAPTION","CENTER","COL","COLGROUP","DETAILS","DIR","DIV","DL","DD","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","ISINDEX","OL","LI","MAP","MENU","NAV","OPTGROUP","OPTION","P","PRE","SECTION","SUMMARY","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"),a.Mq=E.Wh("IMG","IFRAME","EMBED");a.Nq=E.Wh("text","file","url");a.Pq=function(b,c){var d=b?Ub(b):c;T.call(this,d);this.nT=b||this.K().xa().body;this.zz={};Oq.push(this);this.Lt=j};y(Pq,T);a.Qq=0,a.Oq=[];Pq.prototype.me=k;Pq.prototype.Jl=n;Pq.prototype.it=0;a.Rq=A?"styleFloat":"cssFloat",a.Sq=["position","top","left","width",Rq],a.Tq=["position","top","left","display",Rq,"marginTop","marginLeft","marginRight","marginBottom"];t=Pq.prototype;t.o=function(){Pq.m.o.call(this);this.$(this.h())};t.$=function(b){Pq.m.$.call(this,b);D.add(b,"goog-scrollfloater")};
t.B=function(){Pq.m.B.call(this);this.tv=xg(document.body).top-2;this.me||(this.me=this.K().o("div",{style:"visibility:hidden"}));this.it=dg(this.h()).y;Uq(this,this.Lt);var b=this.Yp=new an(this.gq,150,this);this.g().c(window,"scroll",b.fire,n,b);this.g().c(window,"resize",Vk(150,this.Ix))};t.p=function(){Pq.m.p.call(this);z.remove(Oq,this);this.Yp.G();this.oy&&(Qq-=this.sD);delete this.me};a.Uq=function(b,c){(b.Lt=c)?b.gq():Vq(b)};
t.gq=function(){this.Lt&&(Nc(this.K()).y+this.tv>this.it?Wq(this):Vq(this))};a.Wq=function(b){if(!b.Jl){var c=b.h(),d=dg(c).x,e=ug(c).width;b.zz={};E.forEach(Sq,function(b){this.zz[b]=c.style[b]},b);E.forEach(Tq,function(b){this.me.style[b]=c.style[b]||Wf(c,b)||Vf(c,b)},b);mg(b.me,c.offsetWidth,c.offsetHeight);Tf(c,{left:d+"px",width:e+"px",cssFloat:"none"});c.parentNode.replaceChild(b.me,c);b.nT.appendChild(c);c.style.position="fixed";b.up();D.add(c,"goog-scrollfloater-floating");b.Jl=j}};
t.up=function(){var b=this.h(),c=this.tv;!this.oy&&0<Qq&&(c+=Qq);b.style.top=c+"px"};a.Vq=function(b){if(b.Jl){var c=b.h();E.forEach(b.zz,function(b,e){c.style[e]=b});b.me.parentNode.replaceChild(c,b.me);D.remove(c,"goog-scrollfloater-floating");b.Jl=n}};t.Ix=function(){Vq(this);this.it=dg(this.h()).y;this.gq()};a.Xq=function(b,c,d){Pq.call(this,b,d);this.OT=c;this.Hi="";this.Cz=100};y(Xq,Pq);
Xq.prototype.gq=function(){var b,c=this.Hi;b=c&&z.find(Oq,function(b){return c===b.Hi&&b.Jl});if(this.Lt&&(!b||b===this)){b=this.OT.getBoundingClientRect();var d=this.tv+Qq,e=d+this.Cz;b.top<d&&b.bottom>e?Wq(this):Vq(this)}};a.Yq=function(){};ia(Yq);
Yq.prototype.Sg=function(b,c,d){function e(){var e=window.ZH.createRichTextEditor(b,c),g=e[0],e=e[1];d&&d(g,e)}var g=xf.F(),h=g.pd.rich_text_editor;h.fe()?(g.Da.info("rich_text_editor module already loaded"),g=new sf(e,i),window.setTimeout(v(g.execute,g),0)):Af(g,"rich_text_editor")?(g.Da.info("rich_text_editor module already loading"),h.yt(e,i)):(g.Da.info("Registering callback for module: rich_text_editor"),h.yt(e,i),g.Da.info("Initiating module load: rich_text_editor"),Df(g,["rich_text_editor"]))};a.Zq=function(b,c){this.L=$(b);this.D=$.extend({},this.R,c||{});this.Kg()};Zq.prototype.R={iU:[],$z:[],oM:j};a.$q="data-tip class style id bgcolor color size width height".split(" ");
Zq.prototype.Kg=function(){var b=this;if(this.D.oM)this.L.on("paste",function(){setTimeout(function(){var c=b.D,d=c.iU,e=c.$z,g={id:function(b,c){b.id&&!z.contains(d,b.id)&&b.removeAttribute(c)},"class":function(b,c){if(b.className)if(e.length){var d=D.get(b),d=z.filter(d,qf(xa(z.contains,e)));d.length&&D.remove.apply(k,[b].concat(d))}else b.removeAttribute(c)}};$("*",b.L).each(function(){var b=this;$.each($q,function(c,d){var e=g&&E.get(g,d);e?e(b,d):b.removeAttribute(d)})})})})};a.ar=function(b){this.D=$.extend(j,{},this.R,b||{});this.zv();this.vf()};y(ar,Hd);t=ar.prototype;t.R={ln:{je:6,content:"",method:"POST",source:"/people/autocomplete"},uT:"mention-popup",fk:document.body,fC:"activated"};t.zv=function(){var b=this.e=hc(this.rB);this.qp=b.getElementsByTagName("input")[0];b.className=this.D.uT;b.style.display="none";this.D.fk.appendChild(b)};t.xc=function(){return this.D.fk};t.rB='<div><div class="writing-bg"><input></div><div class="tip">想用 @ 提到谁？</div></div>';
t.Ah=Pk('<% if (data.id) { %><img class="avatar" src="<%=avatar%>"><span class="name"><%=label%></span><% } %>');t.ub=function(){return rg(this.e)};t.open=function(){this.ub()||(R(this.e,j),this.qp.focus(),this.Kg(),this.dispatchEvent("open"))};t.close=function(){this.ub()&&(R(this.e,n),D.remove(this.e,this.D.fC),this.qp.value="",this.qp.blur(),this.Xv(),this.dispatchEvent("close"))};a.br=function(b,c){b.close();b.dispatchEvent({type:"cancel",data:{originalEvent:c}})};
t.YG=function(b){this.ub()&&!uc(this.e,b.target)&&br(this,b)};t.hp=function(b){var c=b.keyCode,d=this.qp;if(27===c||d===b.target&&""===d.value&&(8===c||32===c))br(this,b),b.preventDefault(),b.stopPropagation()};t.Kg=function(){N(document,"click",this.YG,n,this);N(this.e,"keydown",this.hp,n,this)};t.Xv=function(){yd(document,"click",this.YG,n,this);yd(this.e,"keydown",this.hp,n,this)};
t.vf=function(){var b=this,c=this.D.ln,d=new Xo(this.qp,{qk:this.e,je:c.je,source:c.source,select:function(c){setTimeout(function(){b.close();b.dispatchEvent({type:"select",data:{sT:c}})});return""},dd:function(c,d,h){h.innerHTML=b.Ah(c.data)}});d.rA(c.method);d.Oa(c.content);d.addEventListener("suggestionsupdate",function(){D.enable(this.e,this.D.fC,d.ub())},n,this);this.ca=d};t.position=function(b){$f(this.e,b)};t.Xe=u(50);a.cr=function(b,c){this.input=b;E.extend(this.D={},this.R,c||{});this.xi=new ar({ln:this.D.ln,fk:this.D.fk});this.Kg()};y(cr,Hd);a.dr=!!window.getSelection;cr.prototype.R={ln:{},fk:document.body,aG:"member_mention",js:"mention-holder",position:function(b,c){b.x+=c.width+7;b.y-=5;A&&7<zb&&(b.y+=c.height/2-9)}};a.er=E.Ka({TX:"member_mention"});cr.prototype.h=q("input");
a.fr=function(b){var b=J(b.D.js,b.input),c;if(b)return c=document.createTextNode("@"),oc(c,b),c},a.gr=function(b,c){var d;B&&(d=bc(document),b.input.focus(),window.scrollTo(d.x,d.y));var e;dr?(d=window.getSelection(),e=document.createRange(),e.setStartAfter(c),d.removeAllRanges(),d.addRange(e)):3===c.nodeType&&nq(c,c.length).select()};
cr.prototype.Kg=function(){var b=this.xi;N(b,"cancel",function(b){var d=fr(this),b=b.data.originalEvent;d&&"click"!==b.type&&("keydown"===b.type&&32===b.keyCode&&(d=d.parentNode.insertBefore(document.createTextNode(" "),d.nextSibling)),gr(this,d))},n,this);N(b,"select",function(b){var d=b.data.sT,b=J(this.D.js,this.input),e=document.createTextNode(" "),d=this.mr(d);oc(d,b);d.parentNode.insertBefore(e,d.nextSibling);gr(this,e)},n,this);N(this.input,"click",function(){b.ub()&&fr(this)},n,this);N(this.input,
"keydown",function(b){var d;if(8===b.keyCode&&(d=lq())){var b=d.W(),e=d.ka(),g=d.ta();d=d.Ja();var h=n;hr(b.parentNode)&&(g=0,h=j);hr(e.parentNode)&&(d=e.length,h=j);h&&Yp(b,g,e,d).select()}},n,this);N(this.input,mb||ii||ji?"keypress":"keyup",function(b){function d(b,c){if(3!==b.nodeType||"@"===b.nodeValue&&b.previousSibling&&"A"===b.previousSibling.nodeName||b.parentNode&&"A"===b.parentNode.nodeName)return n;var d=b.nodeValue,e=c-1;if("@"!==d.slice(e,e+1))return n;var g=d;0<=e&&e<d.length&&(g=d.substr(0,
e)+d.substr(e+1,d.length-e-1));b.nodeValue=g;return j}if(!("keypress"===b.type&&"@"!==String.fromCharCode(b.charCode))){var e,g,h,l;if("keyup"===b.type){if(50!==b.keyCode)return;if(dr){e=window.getSelection();h=e.anchorNode;l=e.anchorOffset;if(!d(h,l))return;C&&!h.nextSibling&&(h.nodeValue+=" ");g=document.createRange();e.removeAllRanges();g.setStart(h,l-1);g.setEnd(h,l-1);e.addRange(g)}else{g=mq(document.selection.createRange());h=xp(g);l=g.ta();if(!d(h,l))return;nq(h,l-1).select()}}this.cu(b)}},
n,this)};
cr.prototype.cu=function(b){var c=this,d=this.xi;if(!d.ub()){var e=function(d){return!(d&&"A"===d.nodeName)&&d.className!==c.D.aG?(b&&b.preventDefault(),j):n};if(dr){var g=window.getSelection();if(e(g.anchorNode.parentNode)){var e=g.getRangeAt(0),h=ir(c);e.insertNode(h);e.selectNode(h);g.removeAllRanges();g.addRange(e);e=jr(c,window.getSelection().getRangeAt(0));d.position(e);d.open()}}else g=document.selection.createRange(),h=g.parentElement(),e(h)&&(g.pasteHTML(ir(c).outerHTML),g.moveToElementText(J(c.D.js,c.input)),
g.select(),e=jr(c,g),"7.0"===zb&&(e.x-=2),d.position(e),d.open())}};a.jr=function(b,c){var d;d=c.getBoundingClientRect();var e;A&&(e={width:c.boundingWidth,height:c.boundingHeight},ya(e,d),d=e);e=bc(document);var g=dg(b.xi.xc());g.x=d.left-g.x+e.x;g.y=d.top-g.y+e.y;b.D.position.call(b,g,d);return g},a.hr=function(b){return b&&1===b.nodeType&&"A"===b.tagName&&z.contains(er,b.className)};cr.prototype.mr=function(b,c){return K("a",{href:"/people/"+b.url_token,className:c||this.D.aG,innerHTML:"@"+b.label})};
a.ir=function(b){return K("a",{className:b.D.js,innerHTML:"@"})};a.kr=function(b,c,d,e){T.call(this);this.status=this.Bb=k;this.OF=b;this.jR=e||0;this.hI=c;this.qr=d;this.isEnabled=j;this.rE=n;this.rd=[];this.content=k;this.i_=this.jR?j:n;this.qu=n;this.CD=$.Deferred()};y(kr,T);t=kr.prototype;t.p=function(){this.Na=k;kr.m.p.call(this)};
t.$=function(b){kr.m.$.call(this,b);var c=b.getAttribute("data-resourceid");c&&(this.jU=b.getAttribute("data-action"),this.Ft=c);this.status||(this.status="normal");b=this.K();this.Bd||(this.Bd=b.di("zm-editable-content",this.e),"1"===this.Bd.getAttribute("data-disabled")&&(this.disabled=j));this.Wb?this.Bb&&(this.Wb.innerHTML=this.Bb):(this.Wb=b.di("zm-editable-tip",this.e),this.Bb&&!this.Wb&&(this.Wb=b.o("div","zm-editable-tip"),this.Wb.innerHTML=this.Bb,b.Do(this.Wb,this.Bd)));this.Nb=b.di("zm-editable-editor-wrap",
this.e);this.content=La(this.content||this.qu?Hc(this.Bd):this.Bd.innerHTML);this.De();lr(this)};t.o=function(){var b=this.K(),b=b.o("div","zm-editable-item-wrap",[this.Wb=b.o("div","zm-editable-tip"),this.Bd=b.o("div","zm-editable-content",this.content)]);this.$(b)};t.B=function(){kr.m.B.call(this);this.g().c(this.Bd,"click",this.ha);this.Wb&&this.g().c(this.Wb,"click",this.ha)};t.Oa=function(b){this.content=b;lr(this)};
t.ha=function(b){var c=Gk(this.e,b.target),d=this.K();if(!c||!c.name)return b=d.RN(b.target,"div","zm-editable-tip-label"),this.isEnabled&&b&&this.vd(),j;b=c.name;switch(b){case "expand":lr(this);break;case "collapse":lr(this);break;case "edit":if(!S.ye){zl.F().z(j);return}this.w();this.vd();this.dispatchEvent("click_edit");break;case "save":this.VE();break;case "cancel":this.dispatchEvent("cancel_edit");this.vh();break;default:return this.Wl(b)}return j};
t.VE=function(){var b=xk(this.kg()),c=/<embed/i.test(b);if(/<img/i.test(b)||c||this.OF||(!b?0:(!b?"":b.replace(/<[^>]+>/g,"")).length))b===this.content&&!this.rE?(this.dispatchEvent("save_unchanged"),this.vh()):(this.dispatchEvent("save_changed"),this.Bf(b))};t.Bf=function(b){if(!this.ea||!this.ea.Hb())if(this.qr&&this.hI){this.ea=new V(j);P(this.g(),this.ea,"success",this.nC);var c=new fj(this.rd.join("&"));c.add(this.qr,b).add("field_name",this.qr);this.ea.ajax(this.hI,c.toString())}else this.dispatchEvent("change")};
t.vh=function(){this.status="normal";this.De()};t.nC=function(){var b=Ie(this.ea);b&&(b.r?U(b.msg):(this.Oa(b.msg),this.vh(),this.dispatchEvent("change")))};t.ib=q("content");t.Qr=u(0);t.isContentEditable=function(){return!this.Ed};t.kg=function(){return yk(Oa(this.Na.value))};t.Wl=function(b){this.dispatchEvent(b);return j};t.w=function(){this.cs||(this.cs=j,this.Sg())};
t.vs=function(){var b=this.Na;if(b.h){var c=v(function(){this.x_=new cr(b.h(),{fk:this.oj})},this);b.fe()?c():b.addEventListener("load",c)}};
t.Sg=function(){var b=this.K();this.Nb?(this.Ad=b.di("zm-command",this.Nb),this.Na=b.di("zm-editable-editor-input",this.Nb)):(this.Nb=b.o("div","zm-editable-editor-wrap clearfix",this.oj=b.o("div","zm-editable-editor-outer",b.o("div","zm-editable-editor-inner zg-form-text-input",this.Na=b.o("textarea","zm-editable-editor-input")))),b.gy(this.Nb,this.Bd),this.dj());this.Na&&(this.Na.tagName&&"TEXTAREA"===this.Na.tagName&&!this.wr)&&new Po(this.Na,66);this.gp()};t.ready=function(b){this.CD.done(b)};
t.gp=function(){this.g().c(this.Ad,"click",this.ha);this.pu&&this.vs();var b=this.Na;if(b.h)b.on("load",function(){new Zq(b.h(),{$z:this.pu?er:[]})},n,this);this.CD.resolveWith(this)};t.dj=function(){this.Ad=K("div","zm-command",[this.qZ=K("a",{"class":"zm-command-cancel",name:"cancel",href:"javascript:;"},"取消"),this.Ln=K("a",{"class":"zg-r3px zg-btn-blue",name:"save",href:"javascript:;"},"保存")]);this.Nb.appendChild(this.Ad)};
t.De=function(){this.pr&&D.remove(this.e,this.pr);"editing"===this.status?(this.Wb&&R(this.Wb,n),this.Nb&&R(this.Nb,j),R(this.Bd,n),this.pr="zm-editable-status-editing"):(this.Wb&&(this.OF&&!this.content&&!this.disabled?R(this.Wb,j):R(this.Wb,n)),this.Nb&&R(this.Nb,n),this.content?R(this.Bd,j):R(this.Bd,n),this.pr="zm-editable-status-normal");D.add(this.e,this.pr)};t.vd=function(){this.Kr||(this.w(),this.ready(function(){this.status="editing";this.De();this.Fp()}))};
t.Fp=function(){if(this.Ft)this.Kr=j,mr(this);else{var b=this.Na,c;c=Ya(this.content.replace(/<br \/>/g,"\n").replace(/<br>/g,"\n")).replace(/<a.*?href="(.*?)".*?<\/a>/g,"$1");b.value=c}};
a.lr=function(b){if(b.dispatchEvent("shouldUpdateContent")){var c=b.content,d=b.Bd,e;e=[];b.disabled||e.push('<a href="javascript:;" class="zu-edit-button" name="edit"><i class="zu-edit-button-icon"></i>修改</a>');e=e.join("");b.qu?(zc(d,c),d.appendChild(hc(e))):d.innerHTML=c+e;$("img.lazy",d).lazyload({data_attribute:"actualsrc",threshold:400})}},a.mr=function(b){b.Kr||(b.Kr=j,Ei(b.jU+"?id="+b.Ft,v(function(b){this.Kr=n;b=Ie(b.target);b.r?U(b.msg):this.oA(b.msg)},b),"GET"))};
t.oA=function(b){this.Na.value=b};a.nr=function(b,c,d,e){kr.call(this,b,c,d,e);this.sR="mock"+this.ae();this.tw=n;this.Xq=j;this.Ed=!ni||ki;this.pu=n;this.qJ=this.lW=j;this.Ly=""};y(nr,kr);t=nr.prototype;t.oA=function(b){this.Ed?nr.m.oA.call(this,b):(b||(b=B?"":"<div></div>"),this.Na.oe(n,b,j))};t.Fp=function(){this.ready(function(){this.Ft?mr(this):this.Ed?nr.m.Fp.call(this):this.content?this.Na.oe(n,this.content,n,j):this.Na.oe(n,C?"<div><br></div>":"<div></div>",n,j)})};
t.p=function(){Vc(this.Na);L(this.Nb);this.nq=this.NB=this.nh=this.Al=this.mB=this.oj=this.Nb=k;nr.m.p.call(this)};
t.Sg=function(){if(this.Ed)nr.m.Sg.call(this);else{var b=this.K();this.Nb=b.o("div","zm-editable-editor-wrap",this.oj=b.o("div","zm-editable-editor-outer",[this.mB=b.o("div","zm-editable-toolbar-container"),this.Al=b.o("div","zm-editable-editor-field-wrap",this.nh=b.o("div",{id:this.sR,className:"zm-editable-editor-field-element"}))]));this.NB=$(this.mB);this.nq=$(this.Nb);this.nq.hide();b.gy(this.Nb,this.Bd);this.Ft||(this.nh.innerHTML=this.content);b={loremIpsum_:this.Ly,enableFullScreen:this.tw,
content:this.content,useScraper_:this.lW,canUploadMedia_:this.Xq,useRemoveFormat_:this.qJ};this.dj();Yq.F().Sg(this.Nb,b,v(this.gp,this));ub||(this.Dg=new Xq(k,this.oj),this.Dg.n(this.mB),Uq(this.Dg,n),Vq(this.Dg),Tc(this,this.Dg))}};
t.gp=function(b,c){if(this.Ed)nr.m.gp.call(this);else{this.Na=b;this.nq.show();nr.m.gp.call(this);var d=b.vj("FullScreenPlugin");if(d){var e=mh(c,"toggleFullScreen");d.on("save",this.VE,n,this).on("willEnterFullScreen",function(){or(this,n)},n,this).on("enterFullScreen",function(){e.Uc("退出写作模式")}).on("exitFullScreen",function(){e.Uc("写作模式")}).on("shouldExitFullScreenOnEscape",function(){return!b.dh})}if(d=b.vj("CodePlugin"))d.IU(c),d.Kg()}};
a.or=function(b,c){if(b.Dg)if(c){D.add(b.Al,"zm-editable-editor-field-wrap-active");var d=b.Dg;d.it=dg(d.h()).y;Uq(b.Dg,j)}else D.remove(b.Al,"zm-editable-editor-field-wrap-active"),Uq(b.Dg,n)};t.vd=function(){nr.m.vd.call(this);this.ready(function(){!this.Ed&&!this.pN&&(this.pN=j,xd(this.Na,"load",function(){var b=this.Na,c=b.vj("FullScreenPlugin");B&&(b=b.field);N(b,["focus","blur"],function(b){(!c||!c.ny())&&or(this,"focus"===b.type)},n,this)},n,this),this.Na.ie())})};
t.kg=function(){if(this.Ed)return nr.m.kg.call(this);var b=this.Na,c=b.h();return(z.some(["img","embed"],function(b){return c.getElementsByTagName(b).length})?0:!pf(yk,La,Hc)(c))?"":b.Ll()};t.De=function(){nr.m.De.call(this);this.Dg&&Uq(this.Dg,"editing"===this.status)};a.pr=function(b){b.NB.toggle();b.nq.toggleClass("no-toolbar")};a.qr=function(){wh.call(this,i,i,i);this.LD=j;this.o_=n;this.k_=j;this.A_=!!S[5];this.cz=S.cz;this.NU=-1===window.location.href.indexOf("psq");this.GI=this.Ac=this.IH=this.yc=k};y(qr,yi);ia(qr);a.rr=Wi("AddQuestionForm"+S.Yj)||Xi("AddQuestionForm"+S.Yj);t=qr.prototype;
t.B=function(){qr.m.B.call(this);this.ba().appendChild(H("zh-add-question-wrap"));this.bd=Xb("zg-editor-input",this.e)[0];this.Uq=J("zu-question-form-add",this.e);this.Cn=J("zu-question-form-jump",this.e);this.Yo=H("zm-modal-dialog-warnmsg-wrapper");this.Ls=H("js-title-length-err-msg");this.Rz=J("zm-modal-dialog-warnmsg-wrapper",this.e);this.KD=H("zh-question-form-detail-err");this.bB=H("zh-question-form-tag-err");this.tM=J("zu-global-notify-close",this.Yo);this.TV=J("zu-global-notify-close",this.Rz);
this.YP=H("zm-modal-dialog-info-wrapper");this.Xo=J("zm-modal-dialog-warnmsg",this.Yo);this.R_=J("zm-modal-dialog-warnmsg",this.Rz);this.Hn=J("zg-addq-isanon",this.e);this.LV=J("js-toggle-editor-toolbar",this.e);this.OK=J("js-editor-add-pic",this.e);this.PK=J("js-editor-add-video",this.e);this.hV=J("js-add-question-splash",this.e);this.dR=J("js-add-question-form",this.e);this.JC=H("js-before-ask");this.gN=H("zh-question-suggest-detail-container");this.SV=H("zh-question-suggest-topic-container");this.cy();
this.cz?(sr(this,j),this.ay()):(this.Mj(),sr(this,n))};a.tr=function(b,c){c&&(b.f_=c,b.bd&&(b.bd.value=c,b.mH(),b.LH.fq(),b.Qa&&b.Qa.vB()))};t.show=function(b){this.D=$.extend({$m:k,ep:k},b||{});this.z(j)};t.rm=function(){qr.m.rm.call(this);this.D={}};t.cy=function(){this.fb("提问");this.Fi(550);Ih(this,k);this.L=$(this.e);this.L.addClass("absolute-position");this.z(j);this.oa()};
t.Iy=function(){var b=this,c=rr.get("add_question_form_title");c&&tr(this,c);var d=rr.get("add_question_form_des");if(d){var e=this.Mb;setTimeout(function(){e.Oa(d);e.Fp()})}c=this.D.$m;c||(c=rr.get("add_question_form_topics"))&&(c=JSON.parse(c));c&&z.forEach(c,function(c){b.Qa.xk(c)})};
t.Mj=tk(function(){function b(){var b=$('<div><div style="text-align:center"><img src="http://static.zhihu.com/static/img/spinner2.gif"/></div></div>'),c=this.Wn,d=$(c&&rg(c)?c:this.Zh);$.get("/question/"+d.data("url_token")+"/answers/summary").done(function(c){if(c&&!c.r){var c=c.msg,e=+d.data("answer_count"),e=0<e?"的全部 "+e+" 个回答":"";b.html(p({forEach:z.forEach,truncate:Za,answers:c,question_url_token:d.data("url_token")})).append(Ga('<div class="zippy-row"><a class="zg-link-litblue" href="/question/%s">查看该问题%s</a></div>',
d.data("url_token"),e))}else U(c.msg)});d.after(b);return b.get(0)}function c(b,c){b.h().title=c;b.h().setAttribute("data-tip","s$b$"+c)}var d=this;this.Qa=new pp;this.Qa.n(this.SV);this.g().c(this.Qa,["add_tag","remove_tag"],this.kH);new El(this.bd,"写下你的问题");var e=this.gN;this.Mb=new nr;this.Mb.Ly='<span style="font-style: normal;color: #999;">问题背景、条件等详细信息</span>';this.Mb.n(e);this.Mb.w();this.Mb.vd();(!ub||ji)&&pr(this.Mb);setTimeout(function(){d.oa()});this.g().c(this.Hn,"click",this.tL);Mo.F().refresh();
var e=J("zm-add-question-form-sns-wrap",this.e),g=new Go,h=new Go;g.Z(e);h.Z(e);D.add(g.h(),"icon sina");D.add(h.h(),"icon qq");c(g,"分享到新浪微博");c(h,"分享到腾讯微博");g.MC="/oauth/auth/sina?next=/oauth/callback";h.MC="/oauth/auth/qq?next=/oauth/callback";this.g().c(g,"change",this.iH).c(h,"change",this.iH);this.Ac=g;this.yc=h;if(!ub||ji)e=Io.F(),g=new yo("",e),uo(g,32,n),this.g().c(g,"action",this.aS),g.n(this.LV),g.Uc("切换工具栏"),g=new yo("",e),uo(g,32,n),this.g().c(g,"action",function(){this.Mb.Na.execCommand("image")}),
g.n(this.OK),g.Uc("添加图片"),e=new yo("",e),uo(e,32,n),this.g().c(e,"action",function(){this.Mb.Na.execCommand("video")}),e.n(this.PK),e.Uc("添加视频");var l=this,m=Pk(l.Kk.JH),p=Pk(l.Kk.AL),e=l.bd,g=new ap;l.bC=new Xo(e,{source:"/question/autocomplete",qk:H("zh-question-suggest-ac-wrap"),dd:$.noop,Z:function(c,d,e){l.dC&&l.dC.G();var d=$(c.h()),g=l.dC=new Wo;d.html(m({forEach:z.forEach,questions:e,token:encodeURIComponent(this.ec)}));d.prepend('<div class="ac-head zg-gray">你的问题可能已经有答案</div>');$(".ac-row",
d).each(function(){g.Fa(new Ko($(this).get(0),b,n))});g.n(c.h())},fy:g});this.Ea();this.Iy()});t.Kk={};t.Kk.JH='<% forEach(questions, function(q, i) { q = q.data; %><div class="ac-row" data-url_token="<%=q.url_token%>" data-answer_count="<%=q.answer_count%>"><% if (q.is_star) { %><a class="zg-star" data-tip="s$b$优质问答" href="/question/<%=q.url_token%>"></a><% } %><a class="zippy-indicator"><i></i></a><a style="color:#222" href="/question/<%=q.url_token%>?q=<%= token %>"><%- q.title%></a><span class="zm-ac-gray"><%= parseInt(q.answer_count) > 0 ? q.answer_count + "个回答" : "还没有回答" %> </span></div><% }) %>';
t.Kk.AL='<% forEach(answers, function(a, i) { %><div class="zippy-row"><div class="summary-item"><a href="/question/<%=question_url_token%>/answer/<%=a.url_token%>"><span class="zm-item-vote-count"><%=a.vote_count%></span></a><% if (a.author.url_token) { %><a style="vertical-align: top;" href="/people/<%=a.author.url_token%>"><span class="author"><%-a.author.name%></span> </a><% } else { %><span class="anou-author"><%-a.author.name%></span> <% } %><div class="ellipsis" style="max-width: 65%;display: inline-block; "><%=truncate(a.summary, 30, true)%></div><a  style="vertical-align: top;" href="/question/<%=question_url_token%>/answer/<%=a.url_token%>"><span class="readall">阅读全部 »</span></a></div></div><% }) %>';
t.ay=function(){function b(){sr(c,n);c.bd.value=e.value}var c=this,d=Pk(this.Kk.JH),e=this.JC,g=new ap;this.KK=new Xo(e,{source:"/question/autocomplete",qk:e.offsetParent,dd:ba(),Z:function(c,g,m){c=$(c.h());c.html(d({forEach:z.forEach,questions:m,token:encodeURIComponent(this.ec)}));0<m.length&&c.prepend('<div class="ac-row ac-first"><b>你想问的是不是：</b></div>').append($('<div class="ac-row ac-last iwanttoask"><b>不是，我要提一个新问题 »</b></div>'));0===m.length&&e.value&&(c.html('<div class="ac-row ac-last iwanttoask"><b>没有找到相关问题，马上提问 »</b></div>').show(),
m.push("fake row"));c.off("click").on("click",".iwanttoask",b)},fy:g});this.KK.sn=n};a.sr=function(b,c){$(b.hV).toggle(!!c);$(b.dR).toggle(!c);c?b.JC.focus():(b.Mj(),b.bd.focus());b.oa()};t.iH=function(b){b=b.target;if(b===this.Ac&&!this.GI||b===this.yc&&!this.IH)window.open(b.MC),b.Sc(n)};t.tL=function(){var b=J("zm-add-question-form-sns-wrap"),c=J("zm-question-form-split"),d=this.Hn.checked;R(b,!d);R(c,!d)};a.ur=function(b,c,d){"title"===d?b.KQ=c:"detail"===d?b.xQ=c:b.LQ=c;b.LD=b.KQ||b.xQ||b.LQ};
t.Ea=function(){this.g().c(this.e,"click",this.sx);this.TQ&&this.TQ.n(this.bd);this.LH=new Po(this.bd,22);this.g().c(this.LH,"change",this.mH);this.g().c(this.tM,"click",function(){R(this.Yo,n);R(this.YP,j)});this.g().c(this.TV,"click",function(){R(this.Rz,n)});this.g().c(Y,"sina_callback",this.qm);this.g().c(Y,"qq_callback",this.qm);this.g().c(this,"afterhide",function(){this.Kt()});this.ww()};t.ww=function(){$(window).on("beforeunload.AddQuestionForm",v(function(){this.Kt()},this))};t.fw=function(){$(window).off("beforeunload.AddQuestionForm")};
t.qm=function(b){var c={id:b.nb.id,name:b.nb.name};"sina_callback"===b.type?(this.GI=c,this.Ac.Sc(n)):"qq_callback"===b.type&&(this.IH=c,this.yc.Sc(n))};t.Kt=function(){this.bd.value&&rr.set("add_question_form_title",this.bd.value);var b=this.Mb.kg();b&&rr.set("add_question_form_des",b);(b=this.Qa.data)&&rr.set("add_question_form_topics",JSON.stringify(b))};t.Gv=function(){rr.remove("add_question_form_title");rr.remove("add_question_form_des");rr.remove("add_question_form_topics")};
t.sx=function(b){if(b=Gk(this.e,b.target))switch(b=b.name,b){case "expand":D.add(this.e,"zg-qform-expanded");break;default:this.Wl(b)}};
t.gk=function(){if(!this.Nz){this.Nz=j;setTimeout(v(function(){this.Nz=n},this),3E4);this.xhr=new V(j);P(this.g(),this.xhr,"success",this.ep);this.xhr.ajax("/question/add",vr(this).Lc());var b=this.Qa;if(b.Vp){var c=0,d=b.data.length;z.forEach(b.data,function(b){z.forEach(this.Vp,function(d){b[1]===d[1]&&c++},this)},b);Y.V({type:"ga_click_add_question",data:{cu:c,total:d}})}}};
t.ep=function(){this.Nz=n;var b=Ie(this.xhr);if(b)if(b.r)if(281===b.errcode){var c=new wr;c.Je=b.msg;c.mc=3;xr(this,c,j)}else U(b.msg);else Yi.set("__Q_ISNEWLYCREATED__","yep"),this.Gv(),this.fw(),b=b.msg,c=b.match(/\/question\/(\d+)/)[1],this.D.ep?this.D.ep({url:b,Xb:c}):location.href=b;else U("网络异常")};
t.Wl=function(b){if("cancel"===b)this.z(n);else if("addq"===b){var b=yr(this),c=zr(this);if(!(1<c.mc)&&!(1<b.mc)){var d=Ar(this),e=new wr;3E3<Lk(d)?(e.mc=3,e.Je="请控制在 3000 字以下"):e.mc=0;d=1<e.mc;this.KD.innerHTML=e.Je;R(this.KD,d);ur(this,d,"detail");this.kH()}ur(this,1<c.mc||1<b.mc,"title");this.LD?xr(this,1<b.mc?b:c,j):this.gk()}};a.xr=function(b,c,d){b.Xo.innerHTML=c.Je;0===c.mc?R(b.Yo,n):(3!==c.mc&&(R(b.Uq,j),R(b.Cn,n)),R(b.Yo,d),d&&b.bd.focus())};
t.mH=function(){var b=yr(this),c=zr(this);"toolong"===b.name||"buffer"===b.name?(this.Ls.innerHTML=b.Je,R(this.Ls,j)):(this.Ls.innerHTML=b.Je,R(this.Ls,n));"multiquestionmark"===c.name||"duplicatedquestion"===c.name?xr(this,c,j):xr(this,c,n);ur(this,1<c.mc,"title")};
a.zr=function(b){var c=xk(b.bd.value).replace(/？/g,"?"),d;var e="#";d=b.Po||new wr;var g=n;if(b.bC&&b.NU){var h=b.bC.cb;h&&h.length?(z.forEach(h,function(b){4<b.raw.length&&1===+b.raw[4]&&(g=j,e="/question/"+b.url_token+"?q="+encodeURIComponent(this.bd.value)+"&psq=0")},b),g?(d.Je='我们找到了一个也许是你想问的问题，<a href="'+e+'">查看问题</a>',d.mc=3,d.name="duplicatedquestion",d.live=j,b.Cn.href=e,R(b.Uq,n),R(b.Cn,j)):(d=new wr,R(b.Uq,j),R(b.Cn,n)),b.Po=d):(d=new wr,b.Po=d,R(b.Uq,j),R(b.Cn,n));b.Po||(b.Po=d);d=b.Po}1<
d.mc||(1>Dk(xk(b.bd.value).replace("？","?"))?(d.Je="您还没有给问题添加问号",d.mc=3,d.name="noquestionmark"):1<Dk(c)&&(d.Je="如果有多个问题，最好拆分一下",d.mc=1,d.name="multiquestionmark"));return d},a.yr=function(b){var b=xk(b.bd.value).replace(/？/g,"?"),b=Lk(b),c=new wr;3>b?(c.mc=3,c.Je="问题字数太少了吧",c.name="tooshort"):40<b&&50>=b?(c.mc=1,c.Je='还可以输入 <span class="warning">'+(50-b)+"</span> 字",c.name="buffer"):50<b&&(c.mc=3,c.Je='已超出 <span class="error">'+(b-50)+"</span> 字",c.name="toolong");return c};
t.kH=function(){var b=n;1>this.Qa.data.length?(b=j,this.bB.innerHTML="至少添加一个话题"):5<this.Qa.data.length&&(b=j,this.bB.innerHTML="最多添加五个话题");R(this.bB,b);ur(this,b,"topic")};
a.Ar=function(b){var b=b.Mb,c=La(b.kg());return b.isContentEditable()?c:Oa(c)},a.vr=function(b){var c=new Hk,d=[],e=[];c.add("question_title",b.bd.value);c.add("question_detail",Ar(b));b.Hn&&c.add("anon",b.Hn.checked?"1":"0");z.forEach(b.Qa.data,function(b){b[3]?d.push(b[3]):e.push(b[1])});c.add("topic_ids",d.join(","));c.add("new_topics",e.join("$"));Hg&&c.add("uid",Hg[3]);b.Hn.checked||(c.add("share_qq",Number(b.yc.ee())),c.add("share_sina",Number(b.Ac.ee())));return c};
t.aS=function(){this.Mb&&pr(this.Mb)};a.wr=function(){this.mc=isNaN(i)?0:i;this.Je=""};a.Br=function(){M.call(this)};y(Br,el);t=Br.prototype;
t.gP=function(b){var c=this.M.lg(),d=this.M.N.Gj,e=z.slice(c,1),g=k;"topic"===c[0]?(g="/topic/"+e[1],g=Cr(this,g)):"people"===c[0]?(g="/people/"+e[1],g=Cr(this,g)):"question"===c[0]?(g="/question/"+e[2],g=Cr(this,g)):"search_link"===c[0]&&(g="/search?q="+encodeURI(e[0])+"&type=question");g&&(e=["/search?q="+encodeURI(this.M.ec)+"&type1="+("search_link"===c[0]?"autocomplete_"+c[0]:"autocomplete")],window.localStorage&&(e=(Yc(localStorage.getItem("zhga"))||[]).concat([e]),localStorage.setItem("zhga",
ad(e))),Y.V({type:"ga_serach_select",data:{type:c[0],index:d}}),c=window.top,this.metaKey?c.open(g):c.location.href=g);b.stopPropagation();b.preventDefault()};
a.Cr=function(b,c){return window.localStorage?(b.metaKey||localStorage.setItem("query",b.M.ec),c):c+"?q="+encodeURIComponent(b.M.ec)},a.Dr=function(b,c){if(ub&&c.length&&c.children("ul").length){var d=function(d){d=d.target;!c[0].contains(d)&&!d.contains(b[0])&&e()},e=function(){b.parent().removeClass("open");c.hide();$(document.body).off("mousedown",d)};b.click(function(g){g.preventDefault();c.is(":visible")?e():(b.parent().addClass("open"),c.show(),$(document.body).mousedown(d))}).attr("href","javascript:;");
c.find(".slide-up").click(e)}};
t.w=function(){Yi.get("__Q_ISNEWLYCREATED__")&&(Yi.remove("__Q_ISNEWLYCREATED__"),Eg&&(Eg.NF=j));var b=(new vf(location)).Lc().get("q");b&&(b=decodeURIComponent(b));b==k&&window.localStorage&&(b=localStorage.getItem("query"))&&localStorage.removeItem("query");if(S.Ia())(new Vn).w();else{var c=$("#zh-top-inner"),d=Jk.F();c.on("click",'a[href="/topic"]',function(){Xm(d,n);d.Ha="top_nav_topics";d.z(j);d.Tc();return n}).on("click",".js-signin-noauth",function(){Xm(d,n);d.Ha="top_nav_sign_in";d.z(j);d.Tc();
return n}).on("click",".js-signup-noauth",function(){Xm(d,j);d.Ha="top_nav_sign_up";d.z(j);d.Tc()})}if(this.Dr=H("zh-top-search")){c=H("zu-top-add-question");this.g().c(c,"click",function(){this.Vt()});this.mZ=c;if(ji||!ub)(new Mn({hideFocus:j})).n($("#top-nav-profile-dropdown").get(0));else{var c=$("#top-nav-dd-topic"),e=$("#mobile-top-nav-topic-popup");Dr(c,e);qi&&$("img",e).each(function(){var b=$(this).data("2x");b&&(this.src=b)});Dr($("#js-top-nav-link-profile"),$("#mobile-top-nav-profile-popup"))}this.g().c(Y,
"query_string_change",this.Vt);this.jF=J("icon-magnify-q",this.Dr);var g=this.Hd=J("zu-top-search-input",this.Dr);b&&(g.value=b);rk(qk(sk,"/",function(){setTimeout(function(){g.focus()});Ck(g,k,500)}),{group:"导航",name:"搜索"});b=new fo;this.M=new go("/autocomplete",this.Hd,k,k,this.Dr,k,["搜索话题、问题或人..."],k,b);this.M.sn=n;this.M.Kf(j);this.g().c(this.M,"select",this.gP);this.g().c(this.Hd,"keydown",function(b){13===b.keyCode&&(this.Hd.value&&"show me the money"!==this.Hd.value&&!/^ +$/.test(this.Hd.value))&&
(b=(new fj(location.href.match(we)[6]||k)).get("type"),(window.parent||window).location.href="/search?q="+encodeURIComponent(this.Hd.value)+"&type="+(b||"question"))});this.g().c(this.M,Zl.Ih.Si,this.Yu);this.g().c(document,"keydown",function(b){b.metaKey&&(this.metaKey=j,this.M.gw=n)});this.g().c(document,"keyup",function(b){if(91===b.keyCode||224===b.keyCode)this.metaKey=n,this.M.gw=j});this.g().c(this.Hd,["keyup","focus"],this.ZI);this.g().c(this.Hd,"blur",this.ZI);this.g().c(this.Hd,"mousedown",
function(b){b.stopPropagation();return j})}};t.ZI=function(){this.Hd.value?D.add(this.jF,"icon-magnify-active"):D.remove(this.jF,"icon-magnify-active")};
t.Yu=function(){var b=this.M.cb,c=this.M.N.Bg;if(b&&0!==b.length){if(1===b.length){var d=K("div",{className:"zu-autocomplete-empty"},"没有找到相关的结果");lc(d,c[0]);L(c[0])}z.forEach(b,function(d,g){if(0===g||d[0]!==b[g-1][0]){var h=c[g],l={people:"用户",topic:"话题",question:"问题"}[d[0]];l&&(l=K("div",{className:"zu-autocomplete-row-label"},l),lc(l,h),this.g().c(this.M,Zl.Ih.Si,Uk))}},this)}};
t.Vt=function(){var b;S.Ia()?Ln()||(S.ye?(b=qr.F(),b.show(),this.Hd.value&&this.Hd.value!==this.Hd.title&&tr(b,this.Hd.value)):zl.F().z(j)):(b=Jk.F(),b.z(j),b.Ha="top_nav_ask",b.Tc("ask","加入知乎，即可继续「提问」","这里有专业人士提供专业的见解，让你得到满意的答案"))};a.Er=function(){T.call(this)};y(Er,T);a.Fr=function(b){ya(this,b)},a.Gr=function(b){this.BG=b;this.L=$("<li>");this.Uu()},a.Hr=function(b){this.vM=b;this.L=$("<ul>")};Er.prototype.B=function(){Er.m.B.call(this);this.$T()};Er.prototype.$T=function(){var b=this.e;$.get("/trending").done(function(c){c=$.map(c,Fr.KM);b.appendChild((new Hr(c)).Z().L.get(0))})};
Fr.KM=function(b){var c={"0":"fullname",1:"url_token",2:"avatar",3:"id",4:"headline",5:"reason",6:"type"},b=z.reduce(b,function(b,e,g){b[c[g]]=e;return b},{});return new Fr(b)};Gr.prototype.Ah=Pk('<a href="#" data-tip="s$r$不感兴趣" class="del"><i class="icon icon-ignore"></i></a><a data-tip="p$t$<%=url_token%>" href="/people/<%=url_token%>" class="avatar"><img src="<%=avatar%>"></a><div class="bd"><a href="/people/<%=url_token%>" data-tip="p$t$<%=url_token%>"><%=fullname%></a><div class="headline"><span title="<%-headline%>"><%-headline%></span></div><div class="ft"><span class="reason"><%=reason%></span> <span class="zg-bull">&bull;</span> <a class="zg-follow follow" href="#" id="sugg-<%=id%>">关注</a></div></div>');
Gr.prototype.Uu=function(){var b=this.BG,c=this.L;c.on("click",".del",function(d){d.preventDefault();$.post("/un_trending",{id:b.id,type:b.type});c.remove()}).on("click",".follow",function(c){c.preventDefault();Kk(this,b.type,xa(Ck,this),k,{follow_text:"关注"})})};Gr.prototype.Z=function(){this.L.html(this.Ah(this.BG));return this};Hr.prototype.Z=function(){var b=this.L;$.each(this.vM,function(c,d){b.append((new Gr(d)).Z().L)});return this};$(function(){var b=H("zh-trendings");b&&(new Er).n(b)});a.Ir=function(){$(document).on("videobox:open",function(){W("video","click_videobox_open")});$("#js-sidebar-app-link").click(function(){var b=$(this).hasClass("iphone")?"click_zhihu_ios_dl_link":"click_zhihu_android_dl_link";W("app-promotion",b,"sidebar_not_logged_in")});$("#zh-top-link-logo").click(function(){W("navigation","visit_home","top_logo")});$("#zh-top-link-home").click(function(){W("navigation","visit_home","top_nav_home")});$("#top-nav-dd-topic").click(function(){W("navigation","visit_topics_activities",
"top_nav_topic")});$("#ga_sidebar_topic_all").click(function(){W("navigation","visit_topics_activities","sidebar_topic_all")});$(".zm-side-pinned-topics .zm-side-nav a.zm-side-nav-link").eq(0).click(function(){W("navigation","visit_topic","sidebar_topic_1")}).end().eq(1).click(function(){W("navigation","visit_topic","sidebar_topic_2")}).end().eq(2).click(function(){W("navigation","visit_topic","sidebar_topic_3")});var b=$("#zh-trendings");b.on("click",'li:nth-child(1) a[href^="/topic/"]',function(){W("navigation",
"visit_topic","sidebar_intresting_people_1_topic")}).on("click",'li:nth-child(2) a[href^="/topic/"]',function(){W("navigation","visit_topic","sidebar_intresting_people_2_topic")}).on("click",'li:nth-child(3) a[href^="/topic/"]',function(){W("navigation","visit_topic","sidebar_intresting_people_3_topic")});$("#zh-single-question .zm-tag-editor-labels a.zm-item-tag").click(function(){W("question_answer","visit_topic","question_topic")});N(Y,"ga_serach_select",function(b){"topic"===b.data.type&&W("search",
"visit_topic","top_search_list_"+(b.data.index+1))});var c=$(".zm-search-result-topic-wrap").on("click",'.title-container a[href^="/topic/"]',function(){W("search","visit_topic","search_result_card_topic_name")}).on("click",'a[href^="/topic/"] .zm-search-result-topic-avatar',function(){W("search","visit_topic","search_result_card_topic_avatar")}).on("click",".meta a.question",function(){W("search","visit_topic","search_result_card_topic_questions_count")}).on("click",".meta a.follow",function(){W("search",
"visit_topic_followers","search_result_card_topic_followers_count")}),d=$('.zm-search3-side-topic .zm-search3-side-topic-item .content a[href^="/topic/"]').click(function(){var b=d.index(this)+1;W("search","visit_topic","search_result_sidebar_topics_"+b+"_name")}),e=$(".zm-search3-side-topic .zm-search3-side-topic-item .zm-item-link-avatar").click(function(){var b=e.index(this)+1;W("search","visit_topic","search_result_sidebar_topics_"+b+"_avatar")}),g=$('#zh-search3-list[data-type="topic"]').on("click",
".zm-search3-item .user-info a.user-name",function(){var b=$('#zh-search3-list[data-type="topic"] .zm-search3-item .user-info a.user-name').index(this)+1;W("search","visit_topic","search_result_topic_list_"+b+"_name")}).on("click",".zm-search3-item .user-info .meta a.follow",function(b){b=$(b.delegateTarget).find(".zm-search3-item .user-info .meta a.follow").index(this)+1;W("search","visit_topic_followers","search_result_topic_list_"+b+"_followers_count")});g.on("click",".zm-search3-item img.user-avatar",
function(b){b=$(b.delegateTarget).find(".zm-search3-item img.user-avatar").index(this)+1;W("search","visit_topic","search_result_topic_list_"+b+"_avatar")});var h=$(".zm-topic-list-container").on("click",'.subtopic a[href^="/topic/"]',function(){W("topic","visit_topic","topic_activity_children_topic")});$(".zm-side-section-inner.child-topic").on("click",'a.zm-item-tag[href^="/topic/"]',function(){W("topic","visit_topic","topic_sidebar_children_topic")});$(".zm-topic-cat-hot").on("click",'a[href^="/topic/"]',
function(){W("topic","visit_topic","topic_square_sidebar")});$(".zm-topic-cat-sub").on("click",'a[href^="/topic/"]',function(){W("topic","visit_topic","topic_square_list_item")});$('a.zm-side-nav-link[href="/topics"]').click(function(){W("navigation","visit_topic_square","sidebar_topic_square")});$('a.zm-side-nav-link[href="/invitation/email"]').click(function(){W("navigation","visit_invite_by_email","sidebar_invite_friend")});$("#zh-tooltip").on("click","#zh-tooltip-people .zu-hovercard-head-wrap a",
function(){W("navigation","visit_people_profile","hovercard_people_name")});var l=$("#zh-top-nav-live-new").on("click",'.zm-noti7-content-item[data-notigroupname="FOLLOW"] .zm-list-content-medium a[href^="/people"]',function(){W("notification","visit_people_profile","top_nav_noti_follower_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="FOLLOW"] .zm-item-link-avatar',function(){W("notification","visit_people_profile","top_nav_noti_follower_people_avatar")});l.on("click",'.zm-noti7-content-item[data-notigroupname="VOTE_THANK"] a[href^="/people"]',
function(){W("notification","visit_people_profile","top_nav_noti_vote_thank_people_name")});l.on("click",'.zm-noti7-content-item[data-notigroupname="INVITE"] a[href^="/people"]',function(){W("notification","visit_people_profile","top_nav_noti_message_invitation_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION_COMMENT"] a[href^="/people"]',function(){W("notification","visit_people_profile","top_nav_noti_message_qcomment_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER_COMMENT"] a[href^="/people"]',
function(){W("notification","visit_people_profile","top_nav_noti_message_acomment_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER"] a[href^="/people"]',function(){W("notification","visit_people_profile","top_nav_noti_message_new_answer_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION"] a[href^="/people"]',function(){W("notification","visit_people_profile","top_nav_noti_message_edit_people_name")});var m=$("#js-home-feed-list");m.on("click",
'div[data-feedtype="ANSWER_VOTE_UP"] .source a[href^="/people"]',function(){W("feed","visit_people_profile","feed_answer_vote_source_people_name")});m.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] >.avatar a[href^="/people"]',function(){W("feed","visit_people_profile","feed_answer_vote_source_people_avatar")});m.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] .zm-item-answer-author-info a[href^="/people"]',function(){W("feed","visit_people_profile","feed_answer_vote_author_name")});m.on("click",
'div[data-feedtype="ANSWER_CREATE"] .source a[href^="/people"]',function(){W("feed","visit_people_profile","feed_answer_answer_source_people_name")});m.on("click",'div[data-feedtype="ANSWER_CREATE"] >.avatar a[href^="/people"]',function(){W("feed","visit_people_profile","feed_answer_answer_source_people_avatar")});m.on("click",'div[data-feedtype="QUESTION_FOLLOW"] .source a[href^="/people"]',function(){W("feed","visit_people_profile","feed_question_follow_source_people_name")});m.on("click",'div[data-feedtype="QUESTION_FOLLOW"] >.avatar a[href^="/people"]',
function(){W("feed","visit_people_profile","feed_question_follow_source_people_avatar")});m.on("click",'div[data-feedtype="QUESTION_CREATE"] .source a[href^="/people"]',function(){W("feed","visit_people_profile","feed_question_ask_source_people_name")});m.on("click",'div[data-feedtype="QUESTION_CREATE"] >.avatar a[href^="/people"]',function(){W("feed","visit_people_profile","feed_question_ask_source_people_avatar")});b.on("click",'li:nth-child(1) a[href^="/people"]:not(.zg-link-gray-14)',function(){W("navigation",
"visit_people_profile","sidebar_interesting_people_1")}).on("click",'li:nth-child(2) a[href^="/people"]:not(.zg-link-gray-14)',function(){W("navigation","visit_people_profile","sidebar_interesting_people_2")}).on("click",'li:nth-child(3) a[href^="/people"]:not(.zg-link-gray-14)',function(){W("navigation","visit_people_profile","sidebar_interesting_people_3")});b.on("click",'li:nth-child(1) a.zg-link-gray-14[href^="/people"]',function(){W("navigation","visit_people_profile","sidebar_interesting_people_1")}).on("click",
'li:nth-child(2) a.zg-link-gray-14[href^="/people"]',function(){W("navigation","visit_people_profile","sidebar_interesting_people_2")}).on("click",'li:nth-child(3) a.zg-link-gray-14[href^="/people"]',function(){W("navigation","visit_people_profile","sidebar_interesting_people_3")});var p=$("#zh-question-answer-wrap").on("click",'.zm-item-answer-author-wrap >a[href^="/people"]',function(){W("question_answer","visit_people_profile","question_answer_author_name")}).on("click",".zm-item-answer-author-wrap img.zm-list-avatar",
function(){W("question_answer","visit_people_profile","question_answer_author_avatar")});p.on("click",".voters a",function(){var b=$(this).parents(".voters").find("a").index(this)+1;W("question_answer","visit_people_profile","question_answer_voters_"+b)});p.on("click",'.zm-comment-hd a[href^="/people"]',function(){W("question_answer","visit_people_profile","question_answer_comment_author_name")}).on("click",".zm-comment-list img.zm-item-img-avatar",function(){W("question_answer","visit_people_profile",
"question_answer_comment_author_avatar")});$(".zh-question-followers-sidebar",'a[href^="/people"]',function(){W("question_answer","visit_people_profile","question_sidebar_followers_avatar")});N(Y,"ga_serach_select",function(b){"people"===b.data.type&&W("search","visit_people_profile","top_search_list_"+(b.data.index+1))});c.on("click",'.title-container a[href^="/people/"]',function(){W("search","visit_people_profile","search_result_card_people_name")}).on("click",'a[href^="/people/"] .zm-search-result-topic-avatar',
function(){W("search","visit_people_profile","search_result_card_people_avatar")});var r=$('.zm-search3-side.user a[href^="/people/"]').click(function(){var b=r.index(this);W("search","visit_people_profile","search_result_sidebar_people_"+b+"_avatar")}),x=$('#zh-search3-list[data-type="people"]').on("click",".zm-search3-item .user-info a.user-name",function(b){b=$(b.delegateTarget).find(".zm-search3-item .user-info a.user-name").index(this)+1;W("search","visit_people_profile","search_result_user_list_"+
b+"_people_name")}).on("click",".zm-search3-item  img.user-avatar",function(b){b=$(b.delegateTarget).find(".zm-search3-item img.user-avatar").index(this)+1;W("search","visit_people_profile","search_result_user_list_"+b+"_people_name")});$("#zh-topic-top-answerer").on("click",'.zm-topic-side-person-item-content a[href^="/people/"]',function(){W("topic","visit_people_profile","topic_sidebar_top_answerer_people_name")}).on("click","img.zm-list-avatar",function(){W("topic","visit_people_profile","topic_sidebar_top_answerer_people_avatar")});
c.on("click",'a[href^="/people"][href$="/answers"]',function(){W("search","visit_people_answers","search_result_card_people_answers_count")});x.on("click",'a[href^="/people"][href$="/answers"]',function(b){b=$(b.delegateTarget).find('a[href^="/people"][href$="/answers"]').index(this);W("search","visit_people_answers","search_result_user_list_"+b+"_people_answers_count")});c.on("click",'a[href^="/people"][href$="/followers"]',function(){W("search","visit_people_followers","search_result_card_people_followers_count")});
x.on("click",'a[href^="/people"][href$="/followers"]',function(b){b=$(b.delegateTarget).find('a[href^="/people"][href$="/followers"]').index(this);W("search","visit_people_followers","search_result_user_list_"+b+"_people_followers_count")});l.on("click",'.zm-noti7-content-item[data-notigroupname="VOTE_THANK"] a[href^="/question"]',function(){W("notification","visit_question","top_nav_noti_vote_thank_question")});l.on("click",'.zm-noti7-content-item[data-notigroupname="INVITE"] a[href^="/question"]',
function(){W("notification","visit_question","top_nav_noti_message_invitation_question")}).on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION_COMMENT"] a[href^="/question"]',function(){W("notification","visit_question","top_nav_noti_message_qcomment_question")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER_COMMENT"] a[href^="/question"]',function(){W("notification","visit_question","top_nav_noti_message_acomment_question")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER"] a[href^="/question"]',
function(){W("notification","visit_question","top_nav_noti_message_new_answser_question")});m.on("click",'div[data-feedtype="ROUNDTABLE_ADD_RELATED"] h2 a[href^="/question"]',function(){var b="q"===$(this).closest("div[data-feedtype]").data("type");W("feed","visit_question",b?"roundtable_question_add":"roundtable_answer_add")}).on("click",'div[data-feedtype="ANSWER_VOTE_UP"] h2 a[href^="/question"]',function(){W("feed","visit_question","feed_answer_vote_question")}).on("click",'div[data-feedtype="ANSWER_CREATE"] h2 a[href^="/question"]',
function(){W("feed","visit_question","feed_answer_answer_question")}).on("click",'div[data-feedtype="QUESTION_FOLLOW"] h2 a[href^="/question"]',function(){W("feed","visit_question","feed_question_follow_question")}).on("click",'div[data-feedtype="QUESTION_CREATE"] a.meta-item[href^="/question"]',function(){var b=parseInt($(this).text(),10);b?W("feed","visit_question","feed_question_follow_has_answers",b):W("feed","visit_question","feed_question_follow_has_no_answer")}).on("click",'div[data-feedtype="QUESTION_CREATE"] h2 a[href^="/question"]',
function(){W("feed","visit_question","feed_question_ask_question")});N(Y,"ga_serach_select",function(b){"question"===b.data.type&&W("search","visit_question","top_search_list_"+(b.data.index+1))});var F=$('#zh-search3-list[data-type="question"]').on("click",'.zm-search3-item .question-title a[href^="/question"]',function(b){b=$(b.delegateTarget).find('.zm-search3-item .question-title a[href^="/question"]').index(this)+1;W("search","visit_question","search_result_all_list_"+b+"_question")}).on("click",
'.zm-search3-item .question-content a[href^="/question"]',function(b){b=$(b.delegateTarget).find(".zm-search3-item").index($(this).parents(".zm-search3-item"))+1;W("search","visit_question","search_result_all_list_"+b+"_answer")}).on("click",'.zm-search3-item .meta a.answer[href^="/question"]',function(b){b=$(b.delegateTarget).find('.zm-search3-item .meta a.answer[href^="/question"]').index(this)+1;W("search","visit_question","search_result_all_list_"+b+"_answers_count")});$("#zh-question-related-questions").on("click",
"a",function(b){b=$(b.delegateTarget).find("a").index(this)+1;W("question_answer","visit_question","question_answer_sidebar_related_questions_"+b)});F.on("click",'a[href^="/question"][href$="/followers"]',function(b){b=$(b.delegateTarget).find('a[href^="/question"][href$="/followers"]').index(this)+1;W("search","visit_question_followers","search_result_all_list_"+b+"_followers_count")});$('#zh-question-followers-sidebar a[href^="/question"][href$="/followers"]').click(function(){W("question_answer",
"visit_question_followers","question_followers_count")});l.on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION"] a[href^="/question"]',function(){W("notification","visit_question_log","top_nav_noti_message_edit_question")});$('.zu-main-sidebar a[href^="/question"][href$="/log"]').click(function(){W("question_answer","visit_question_log","question_log")});$('div[data-feedtype="ANSWER_CREATE"] .answer-date-link').click(function(){W("feed","visit_answer","feed_answer_answer_date")});$('div[data-feedtype="ANSWER_VOTE_UP"] .answer-date-link').click(function(){W("feed",
"visit_answer","feed_answer_vote_date")});$("zh-single-question-page .answer-date-link").click(function(){W("question_answer","visit_answer","question_answer_date")});$('a.zm-side-nav-link[href="/draft"]').click(function(){var b=parseInt($(this).find(".zg-num").text()||0,10);W("navigation","visit_draft","sidebar_my_draft",b)});$('a.zm-side-nav-link[href="/collections"]').click(function(){var b=parseInt($(this).find(".zg-num").text()||0,10);W("navigation","visit_collections","sidebar_my_collections",
b)});$('a.zm-side-nav-link[href="/question/invited"]').click(function(){var b=parseInt($(this).find(".zg-num").text()||0,10);W("navigation","visit_question_invited","sidebar_question_invited",b)});$('a[href="http://creativecommons.org"]').click(function(){W("navigation","visit_cc_license")});N(Y,"ga_click_back_to_top",function(){W("navigation","click_back_to_top")});N(Y,"ga_click_collapse_answer",function(){W("navigation","click_collapse_answer")});N(Y,"ga_click_follow",function(c){if("people"===
c.data.type&&c.data.Rj){var d=$(c.target);0<d.parents("#zh-top-nav-live-new").length?(c=l.find('a[name="focus"]').index(c.target)+1,W("notification","click_follow_people","top_nav_noti_follower_follow",c)):0<d.parents("#zh-tooltip").length?W("navigation","click_follow_people","hovercard_follow"):0<d.parents("#zh-trendings").length?(c=b.find("a.follow").index(c.target)+1,W("navigation","click_follow_people","sidebar_intresting_people_"+c+"_follow")):0<d.parents(".zm-search-result-topic-wrap").length?
W("search","click_follow_people","search_result_card_people_follow"):0<d.parents('#zh-search3-list[data-type="people"]').length?(c=x.find(".zm-search3-item").index(d.parents(".zm-search3-item").get(0)),W("search","click_follow_people","search_result_user_list_"+c+"_people_follow")):0<d.parents("#zh-topic-top-answerer").length&&W("topic","click_follow_people","topic_sidebar_top_answerer_follow")}});N(Y,"ga_click_follow",function(c){if("people"===c.data.type&&!c.data.Rj){var d=$(c.target);0<d.parents("#zh-top-nav-live-new").length?
(c=l.find('a[name="focus"]').index(c.target)+1,W("notification","click_unfollow_people","top_nav_noti_follower_unfollow",c)):0<d.parents("#zh-tooltip").length?W("navigation","click_unfollow_people","hovercard_unfollow"):0<d.parents("#zh-trendings").length?(c=b.find("a.follow").index(c.target)+1,W("navigation","click_unfollow_people","sidebar_intresting_people_"+c+"_unfollow")):0<d.parents(".zm-search-result-topic-wrap").length?W("search","click_unfollow_people","search_result_card_people_unfollow"):
0<d.parents('#zh-search3-list[data-type="people"]').length?(c=x.find(".zm-search3-item").index(d.parents(".zm-search3-item").get(0))+1,W("search","click_unfollow_people","search_result_user_list_"+c+"_people_unfollow")):0<d.parents("#zh-topic-top-answerer").length&&W("topic","click_unfollow_people","topic_sidebar_top_answerer_unfollow")}});N(Y,"ga_click_follow",function(b){"question"===b.data.type&&b.data.Rj&&(b=$(b.target),0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length?W("feed","click_follow_question",
"feed_answer_vote_follow_question"):0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length?W("feed","click_follow_question","feed_answer_answer_follow_question"):0<b.parents('div[data-feedtype="QUESTION_FOLLOW"]').length?W("feed","click_follow_question","feed_question_follow_follow_question"):0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length?W("feed","click_follow_question","feed_question_ask_follow_question"):0<b.parents("#zh-question-side-header-wrap").length?W("question_answer","click_follow_question",
"question_follow_question"):0<b.parents('#zh-search3-list[data-type="question"]').length?(b=F.find(".zm-search3-item").index(b.parents(".zm-search3-item").get(0))+1,W("search","click_follow_question","search_result_all_list_"+b+"_follow_question")):0<b.parents(".zm-topic-list-container").length&&W("topic","click_follow_question","topic_activity_follow_question"))});N(Y,"ga_click_follow",function(b){"question"===b.data.type&&!b.data.Rj&&(b=$(b.target),0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length?
W("feed","click_unfollow_question","feed_answer_vote_unfollow_question"):0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length?W("feed","click_unfollow_question","feed_answer_answer_unfollow_question"):0<b.parents('div[data-feedtype="QUESTION_unFOLLOW"]').length?W("feed","click_unfollow_question","feed_question_follow_unfollow_question"):0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length?W("feed","click_unfollow_question","feed_question_ask_unfollow_question"):0<b.parents("#zh-question-side-header-wrap").length?
W("question_answer","click_unfollow_question","question_unfollow_question"):0<b.parents('#zh-search3-list[data-type="question"]').length?(b=F.find(".zm-search3-item").index(b.parents(".zm-search3-item").get(0))+1,W("search","click_unfollow_question","search_result_all_list_"+b+"_unfollow_question")):0<b.parents(".zm-topic-list-container").length&&W("topic","click_unfollow_question","topic_activity_unfollow_question"))});N(Y,"ga_click_follow",function(b){if("topic"===b.data.type&&b.data.Rj){var c=
$(b.target);0<c.parents(".zm-search-result-topic-wrap").length?W("search","click_follow_topic","search_result_card_topic_follow"):0<c.parents(".zm-search3-side-topic").length?(b=$(".zm-search3-side-topic").find('a[name="focus"][id^="topic"]').index(b.target)+1,W("search","click_follow_topic","search_result_sidebar_topics_"+b+"_follow")):0<c.parents('#zh-search3-list[data-type="topic"]').length&&(b=g.find(".zm-search3-item").index(c.parents(".zm-search3-item").get(0))+1,W("search","click_follow_topic",
"search_result_topic_list_"+b+"_follow"))}});N(Y,"ga_click_follow",function(b){"topic"===b.data.type&&!b.data.Rj&&0<$(b.target).parents(".zm-search-result-topic-wrap").length&&W("search","click_unfollow_topic","search_result_card_topic_unfollow")});N(Y,"ga_click_follow",function(b){"favlist"===b.data.type&&(b.data.Rj?W("collection","click_follow_collection","collection_follow"):W("collection","click_unfollow_collection","collection_follow"))});N(Y,"ga_click_top_nav_noti",function(b){0<b.data.kJ?W("notification",
"click_top_nav_noti","top_nav_noti_alert",b.data.kJ):W("notification","click_top_nav_noti","top_nav_noti_no_alert")});N(Y,"ga_click_top_nav_noti_tab",function(b){W("notification","click_top_nav_noti_tab",["top_nav_noti_tab_message","top_nav_noti_tab_follower","top_nav_noti_tab_vote"][b.data.yh])});N(Y,"ga_click_enlarge_image",function(b){b=$(b.target).parents("div[data-feedtype]").attr("data-feedtype");"ANSWER_CREATE"===b?W("navigation","click_enlarge_image","feed_answer_answer_image"):"ANSWER_VOTE_UP"===
b&&W("navigation","click_enlarge_image","feed_answer_vote_image")});N(Y,"ga_click_feed_more",function(b){b.data&&b.data.Go?W("feed","click_feed_more","feed_more_button"):W("feed","click_feed_more","feed_more_auto_load")});N(Y,"ga_click_feed_fresh",function(b){W("feed","click_feed_fresh","feed_fresh_button",b.data.count)});F.on("click","#zh-load-more",function(){W("search","click_search_result_more","search_result_all_more_buttion")});x.on("click","#zh-load-more",function(){W("search","click_search_result_more",
"search_result_user_more_buttion")});g.on("click","#zh-load-more",function(){W("search","click_search_result_more","search_result_topic_more_buttion")});N(Y,"ga_click_topic_more",function(b){var c="activity";-1<location.href.indexOf("questions")&&(c="questions");b.data&&b.data.Go?W("feed","click_topic_more","topic_"+c+"_more_button"):W("feed","click_topic_more","topic_"+c+"_more_auto_load")});m.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] a.inline-block[name="toggleExpanded"]',function(){W("feed",
"click_expand","feed_answer_vote_expand")}).on("click",'div[data-feedtype="ANSWER_VOTE_UP"] a.zm-item-vote-count[name="toggleExpanded"]',function(){W("feed","click_expand","feed_answer_vote_vote_count")}).on("click",'div[data-feedtype="ANSWER_CREATE"] a.inline-block[name="toggleExpanded"]',function(){W("feed","click_expand","feed_answer_answer_expand")}).on("click",'div[data-feedtype="ANSWER_CREATE"] a.zm-item-vote-count[name="toggleExpanded"]',function(){W("feed","click_expand","feed_answer_answer_vote_count")});
c=$("zh-single-question").on("click",'#zh-question-detail a.inline-block[name="expand"]',function(){W("question_answer","click_expand","question_supplement_expand")});c.on("click",'.zm-item-answer a[name="more"]',function(){W("question_answer","click_expand","question_answer_voters_more")});c.on("click","#zh-question-collapsed-switcher",function(){W("question_answer","click_expand","question_answer_folded_expand")});h.on("click",'a.inline-block[name="expand"]',function(){W("topic","click_expand",
"topic_activity_expand")}).on("click",'a.zm-item-vote-count[name="expand"]',function(){W("topic","click_expand","topic_activity_vote_count")});N(Y,"ga_click_sorter_item",function(b){(b={added_time:"time",vote:"vote"}[b.data.key])&&W("question_answer","click_sort_answer","question_answer_sorting_"+b)});N(Y,"ga_click_vote_up",function(b){b=$(b.target.h());if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_up";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b=
"feed_answer_answer_up";else if(0<b.parents("#zh-single-question-page").length)b="question_answer_vote_up";else return;W("vote","click_vote_up_answer",b)});N(Y,"ga_click_vote_down",function(b){b=$(b.target.h());if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_down";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_down";else if(0<b.parents("#zh-single-question-page").length)b="question_answer_vote_down";else return;W("vote","click_vote_down_answer",
b)});N(Y,"ga_click_thank_answer",function(b){b=$(b.target);if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_thank";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_thank";else if(0<b.parents("#zh-question-answer-wrap").length)b="question_answer_thank";else if(0<b.parents(".zm-topic-list-container").length)b="topic_activity_thank";else return;W("vote","click_thank_answer",b)});N(Y,"ga_click_share_answer_box",function(b){b=$(b.target);
if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_share";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_share";else if(0<b.parents("#zh-question-answer-wrap").length)b="question_answer_share";else if(0<b.parents(".zm-topic-list-container").length)b="topic_activity_share";else return;W("share","click_share_answer_box",b)});N(Y,"ga_click_share_question_box",function(b){$(b.target);var c="question_question_share",d={sina:"question_sidebar_share_weibo",
mail:"question_sidebar_share_email",letter:"question_sidebar_share_message"};b.data&&b.data.type&&(c=d[b.data.type]);W("share","click_share_answer_box",c)});N(Y,"ga_click_share_answer_weibo",function(b){b=b.data.xJ;if(z.contains(b,"qq")&&z.contains(b,"sina"))b="share_answer_sina_tencent_weibo";else if(z.contains(b,"qq"))b="share_answer_tencent_weibo";else if(z.contains(b,"sina"))b="share_answer_sina_weibo";else return;W("share","click_share_answer_weibo",b)});N(Y,"ga_click_share_answer_email",function(){W("share",
"click_share_answer_email")});N(Y,"ga_click_share_answer_message",function(){W("share","click_share_answer_message")});N(Y,"ga_click_share_question_weibo",function(b){b=b.data.xJ;if(z.contains(b,"qq")&&z.contains(b,"sina"))b="share_question_sina_tencent_weibo";else if(z.contains(b,"qq")&&!z.contains(b,"sina"))b="share_question_tencent_weibo";else if(!z.contains(b,"qq")&&z.contains(b,"sina"))b="share_question_sina_weibo";else return;W("share","click_share_answer_weibo",b)});N(Y,"ga_click_share_question_email",
function(){W("share","click_share_question_email")});N(Y,"ga_click_share_question_message",function(){W("share","click_share_question_message")});N(Y,"ga_click_report_box",function(b){W("share","click_report_"+{member:"people",answer:"answer",comment:"comment",favlist:"collection",question:"question"}[b.data.type]+"_box")});N(Y,"ga_click_report",function(b){W("share","click_report_"+{member:"people",answer:"answer",comment:"comment",favlist:"collection",question:"question"}[b.data.type])});N(Y,"ga_click_collect_answer_box",
function(b){b=$(b.target);if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_collect";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_collect";else if(0<b.parents("#zh-single-question-page").length)b="question_answer_collect";else if(0<b.parents(".zm-topic-list-container").length)b="topic_activity_collect";else return;W("collection","click_collect_answer_box",b)});N(Y,"ga_click_collect_answer",function(b){W("collection","click_collect_answer",
"collection_count",b.data.count)});N(Y,"ga_click_add_collection",function(){W("collection","click_add_collection","collect_answer_window_add_collection")});N(Y,"ga_click_answer_not_helpful",function(b){b=$(b.target);if(0<b.closest('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_not_helpful";else if(0<b.closest('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_not_helpful";else if(0<b.closest("#zh-question-answer-wrap").length)b="question_answer_not_helpful";else if(0<
b.closest(".zm-topic-list-container").length)b="topic_activity_not_helpful";else return;W("vote","click_answer_not_helpful",b)});m.on("click");N(Y,"ga_click_question_ignore",function(b){b=$(b.target);if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_ignore_question";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_ignore_question";else if(0<b.parents('div[data-feedtype="QUESTION_FOLLOW"]').length)b="feed_question_follow_ignore_question";
else if(0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length)b="feed_question_ask_ignore_question";else return;W("feed","click_question_ignore",b)});N(Y,"ga_question_topic_edit_start",function(){W("edit","click_edit_question_topic","question_topic_edit_start")});N(Y,"ga_question_topic_edit_finish_changed",function(){W("edit","click_edit_question_topic","question_topic_edit_finish_changed")});N(Y,"ga_question_title_edit_start",function(){W("edit","click_edit_question_titile","question_title_edit_start")});
N(Y,"ga_question_title_edit_cancel",function(){W("edit","click_edit_question_titile","question_title_edit_cancel")});N(Y,"ga_question_title_edit_save_changed",function(){W("edit","click_edit_question_titile","question_title_edit_save_changed")});N(Y,"ga_question_title_edit_save_unchanged",function(){W("edit","click_edit_question_titile","question_title_edit_save_unchanged")});N(Y,"ga_question_supplement_edit_start",function(){W("edit","click_edit_question_supplement","question_supplement_edit_start")});
N(Y,"ga_question_supplement_edit_cancel",function(){W("edit","click_edit_question_supplement","question_supplement_edit_cancel")});N(Y,"ga_question_supplement_edit_save_changed",function(){W("edit","click_edit_question_supplement","question_supplement_edit_save_changed")});N(Y,"ga_question_supplement_edit_save_unchanged",function(){W("edit","click_edit_question_supplement","question_supplement_edit_save_unchanged")});$("#zu-top-add-question").click(function(){W("question_answer","click_add_question",
"top_nav_question_add_start")});$(".zm-topic-ask-in-topic").click(function(){W("question_answer","click_add_question","topic_question_add_start")});N(Y,"ga_click_add_question",function(b){W("question_answer","click_add_question","question_add_submit_with_topics",b.data.total);W("question_answer","click_add_question","question_add_submit_with_suggested_topics",b.data.cu);W("question_answer","click_add_question","question_add_submit_with_suggested_topics_percent",Math.round(100*(b.data.cu/b.data.total)))});
$("#zh-question-answer-form-wrap .editable").focus(function(){W("question_answer","click_add_answer","question_answer_add_start")});$("#zh-question-answer-form-wrap .submit-button").click(function(){W("question_answer","click_add_answer","question_answer_add_publish")});N(Y,"ga_hover_hovercard",function(c){var c=$(c.target),d,e,g,h;c.is('[href^="/people"]')?(e="hover_people_hovercard",0<c.parents("div[data-feedtype]").length?(d="feed",0<c.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length?0<c.parents(".zm-item-answer-author-wrap").length?
g="feed_answer_vote_author_name":0<c.parents("div.source").length&&(g=0<c.find("img").length?"feed_answer_vote_source_people_avatar":"feed_answer_vote_author_name"):0<c.parents('div[data-feedtype="ANSWER_CREATE"]').length?0<c.parents("div.source").length&&(g=0<c.find("img").length?"feed_answer_answer_source_people_avatar":"feed_answer_answer_source_people_name"):0<c.parents('div[data-feedtype="QUESTION_FOLLOW"]').length?0<c.parents("div.source").length&&(g=0<c.find("img").length?"feed_question_follow_source_people_avatar":
"feed_question_follow_source_people_name"):0<c.parents('div[data-feedtype="QUESTION_CREATE"]').length&&0<c.parents("div.source").length&&(g=0<c.find("img").length?"feed_question_ask_source_people_avatar":"feed_question_ask_source_people_name")):0<c.parents("#zh-trendings").length?(d="navigation",$.contains(b.find("li:nth-child(1)").get(0),c.get(0))?g="sidebar_intresting_people_1":$.contains(b.find("li:nth-child(2)").get(0),c.get(0))?g="sidebar_intresting_people_2":$.contains(b.find("li:nth-child(3)").get(0),
c.get(0))&&(g="sidebar_intresting_people_3")):0<c.parents("#zh-single-question-page").length?(d="question_answer",0<c.parents(".zm-item-answer-author-wrap").length?g=0<c.find("img").length?"question_answer_author_avatar":"question_answer_author_name":0<c.parents(".voters").length?(g=c.parents(".voters").find('a[href^="/people"]').index(c.get(0))+1,g="question_answer_voters_"+g):0<c.parents(".zm-comment-list").length&&(g=0<c.find("img").length?"question_answer_comment_author_avatar":"question_answer_comment_author_name")):
0<c.parents(".zm-search3-side.user").length?(d="search",g=c.parents(".zm-search3-side.user").find('a[href^="/people"]').index(c.get(0))+1,g="search_result_sidebar_people_"+g+"_avatar"):0<c.parents("#zh-topic-top-answerer").length&&(d="topic",g=0<c.find("img").length?"topic_sidebar_top_answerer_people_avatar":"topic_sidebar_top_answerer_people_name")):c.is('[href^="/topic"]')&&(e="hover_topic_hovercard",h=j,0<c.parents("#zh-single-question-page").length?(d="question_answer",g="question_topic"):0<c.parents(".zm-search3-side-topic").length&&
(d="search",0<c.find("img").length?(g=c.parents(".zm-search3-side-topic").find("a.zm-item-link-avatar").index(c.get(0)),g="search_result_sidebar_topics_"+g+"_avatar"):(g=c.parents(".zm-search3-side-topic").find('.content a[href^="/topic/"]').index(c.get(0))+1,g="search_result_sidebar_topics_"+g+"_name")));d&&(e&&g)&&W(d,e,g,i,h)});0<$(".zm-search3-card.people").length&&W("search","show_search_result_card","search_result_card_people");0<$(".zm-search3-card.topic").length&&W("search","show_search_result_card",
"search_result_card_topic");N(Y,"ga_click_sign_in",function(b){b.data&&b.data.label?W("sign_in","click_sign_in",b.data.label):W("sign_in","click_sign_in")});N(Y,"ga_click_sign_in_close",function(){W("sign_in","click_sign_in_close","sign_in_box_main")});N(Y,"ga_click_sign_in_weibo",function(b){W("sign_in","click_sign_in_weibo",b.label)});N(Y,"ga_click_sign_in_qq",function(b){W("sign_in","click_sign_in_qq",b.label)});N(Y,"ga_click_sign_in_switch",function(b){"signin"===b.data?W("sign_in","click_sign_in_switch",
"sign_in_box_switch_to_sign_in"):"signup"===b.data&&W("sign_in","click_sign_in_switch","sign_in_box_switch_to_sign_up")});N(Y,"ga_click_sign_in_link_account",function(b){b.target?(b=$(b.target),Wa(b.parent().text(),"该邮箱已注册")?W("sign_in","click_sign_in_link_account","sign_up_error_user_exists_link_account"):Wa(b.parent().text(),"如果你已有知乎帐号")?$(".view-warmup").is(":visible")?W("sign_in","click_sign_in_link_account","sign_in_box_splash_link_account"):$(".view-info").is(":visible")&&W("sign_in","click_sign_in_link_account",
"sign_in_box_sign_up_link_account"):Wa(b.text(),"返回注册")&&W("sign_in","click_sign_in_link_account","sign_in_box_link_account_back")):b.label&&W("sign_in","click_sign_in_link_account",b.label)});N(Y,"ga_click_sign_in_connect",function(b){W("sign_in","click_sign_in_weibo",b.label)});N(Y,"ga_click_sign_in_avatar",function(){W("sign_in","click_sign_in_avatar","sign_in_avatar_upload")});N(Y,"ga_click_sign_in_previous_step",function(){W("sign_in","click_sign_in_previous_step","sign_in_box_follow_user_previous")});
N(Y,"ga_click_follow_topic",function(b){0<b.data?W("sign_in","click_follow_topic","sign_in_box_follow_topic_next",b.data):0===b.data&&W("sign_in","click_follow_topic","sign_in_box_follow_topic_skip")});N(Y,"ga_click_follow_people",function(b){0<b.data?W("sign_in","click_follow_people","sign_in_box_follow_people_next",b.data):0===b.data&&W("sign_in","click_follow_people","sign_in_box_follow_people_skip")});N(Y,"ga_click_play_video",function(b){W("video","click_play_video",b.label)});N(Y,"ga_visit_home_video",
function(){W("video","visit_home_video","home_play_video_auto")});N(Y,"ga_click_close_video",function(b){W("video","click_close_video",b.label)});N(Y,"ga_click_share_video",function(b){W("video","click_share_video",b.label)})},a.Jr=function(){(new bn).w();(new Hn).w();var b=$("#rq3-sidenav-link"),c=$(".tour",b);c.length&&$(".close-button",c).click(function(){var b=$(this).data("feature");$.get("/notifeature",{feature:b});c.fadeOut(100,function(){c.remove()})});b=new cn;window.console&&console.info&&
console.info(b.DL+"\n\n"+b.link)},a.Kr=function(b,c){c=c||3E3;if(b){var d=H("zh-message-container");d&&(d.innerHTML=b[1],D.set(d,b[0]?"zg-error-message":"zg-info-message"),R(d,j),0<c&&$(d).delay(c).fadeOut())}},a.Mk=function(){if(window.console){var b=z.toArray(arguments);b.unshift("["+(new Date).toLocaleTimeString()+"]:\t");console.log.apply?console.log.apply(console,b):console.log(b[0],b.slice(1).join(","))}},a.Lr=xf.F(),a.Mr=new Ve;Mr.FD=n;Lr.Ky=Mr;a.Nr=fa.PLOVR_MODULE_INFO,a.Or=void 0;
for(Or in Nr)Lr.pd[Or]=new tf(Nr[Or],Or);Lr.AD==Lr.Rq&&(Lr.AD=k,Lr.Rq.jp(v(Lr.CE,Lr))&&Ff(Lr,Gf));a.Pr=fa.PLOVR_MODULE_URIS,a.Qr=void 0;for(Qr in Pr)Lr.pd[Qr].Fg=Pr[Qr];If("app_core");
Ca("ZH.main",function(){window.console||(window.console={info:ha,log:ha,warning:ha,error:ha});yl.on(["click!","show!","visit!"],qj);Id=window;ub=Dg.Oc;$.ajaxPrefilter(function(b,c){var d,e;c.processData!==n&&"get"!==b.type&&(e=Nf.get("_xsrf"),d=c.data||{},"string"===$.type(d)?d=d+"&_xsrf="+e:(d._xsrf=e,d=$.param(d)),b.data=d)});(new Br).w();Ki.dispatchEvent("init");$(function(){Ki.dispatchEvent("postinit")});S.Ia()?(Hi.push({xW:"json",filter:function(b){(b=b.profile_result)&&$(b).css("border-top",
"1px solid #eee").appendTo(document.body)}}),Dg.Oc&&($.fx.off=j),$(function(){(new dn).w()})):$("body").addClass("no-auth");$("img.lazy").lazyload({load:function(){$(this).trigger("contentchange")},data_attribute:"actualsrc",event:"scroll updatelazy",threshold:400});Wa(location.host,"zhihu.com")||(Bg=j);$(function(){if(window.localStorage){var b=Yc(localStorage.getItem("zhga"));localStorage.removeItem("zhga");"null"===b||"undefined"===b||b&&z.forEach(b,function(b){1===b.length?Ok(b[0]):Nk(b[0],b[1],
b[2],b[3])})}});$(document.body).children("div.zu-main").attr("role",Xc.bK);document.addEventListener&&document.addEventListener("touchstart",ha,n);$(Jr);$(Ir)});Ca("ZH.setGlobalInfoMessage",function(b){Y&&b&&il(b)});Ca("ZH.cm",function(b,c){Y.dispatchEvent(new gl(b,c))});Ca("ZH.m",Kr);Ca("ZH.i",function(b){Y.dispatchEvent(new gl("iframe_data",b))});Ca("ZH.ill",function(){Zj&&Zj.w()});}})(zhihu);