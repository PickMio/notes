try{Tapestry.default_invalid_field_handler=function(b,c,a){if(!b.abort&&!c.disabled){var d=c.id||c;dispalyErr(d,a);b.abort=true;b.cancel_handlers=true}};Tapestry.validate_void=function(d,b,a,c){var f=get(b)||b;if(!a(f)){d.invalid_field(f,c)}else{hideErr(f.id||b)}};Tapestry.validate_regex=function(c,a,g,b){var h=this.find(a);var f=h.value;if(f==""){return}var d=new RegExp(g);if(!d.test(f)){c.invalid_field(h,b)}else{hideErr(a)}};Tapestry.validate_regex_not=function(c,a,g,b){var h=this.find(a);var f=h.value;if(f==""){return}var d=new RegExp(g);if(d.test(f)){c.invalid_field(h,b)}else{hideErr(a)}};Tapestry.validate_min_length=function(d,a,b,c){var f=this.find(a);if(f.value==""){return}if(f.value.length<b){d.invalid_field(f,c)}else{hideErr(a)}};Tapestry.validate_max_length=function(d,b,a,c){var f=this.find(b);if(f.value==""){return}if(f.value.length>a){d.invalid_field(f,c)}else{hideErr(b)}};Tapestry.require_field=function(c,a,b){var d=this.find(a);if(d.value.trim().length==0){d.value="";c.invalid_field(d,b)}else{hideErr(a)}};Tapestry.validate_nonsense=function(f,a,c,d){var h=this.find(a);var g=h.value;if(g==""){return}g=g.replace(/(^\s*)|(\s*$)/g,"");if(g==""){return}var b=0;for(b=0;b<c.length;b++){if(g==c[b]){f.invalid_field(h,d);break}}hideErr(a)}}catch(e){}function hideErr(a){var b=get(a+"_err_msg");if(b){b.innerHTML="";b.style.display="none"}}function dispalyErr(b,c,a){if(c.trim()!=""){var f=get(b+"_err_msg");if(f==null){var g=document.createElement("div");g.innerHTML=c;g.className="field_err";g.style.display="block";g.id=b+"_err_msg";insertAfterLocal(b,g)}else{f.className="field_err";f.style.display="block";f.innerHTML=c}}else{var f=get(b+"_err_msg");if(f!=null){f.className="";f.style.display="none"}}try{if(b=="myAnswerContent"||b=="answerSupplementContent"||b=="mySupplementContent"||b=="myAnswerPKContent"){if(a&&a==true){Editor.focus(true)}else{Editor.focus()}}else{get(b).select()}document.body.style.zoom=1.1;document.body.style.zoom=""}catch(d){}}var errMessage=get("all_errs");if(errMessage&&errMessage.innerHTML){try{var obj=eval("("+errMessage.innerHTML+")")}catch(e){errMessage.style.display="block"}var fieldId=obj.field,message=obj.message;setTimeout(function(){dispalyErr(fieldId,message,true)},10)}function insertAfterLocal(a,d){var c=get(a);var b=c.parentNode;if(b.lastChild==c){b.appendChild(d)}else{b.insertBefore(d,c.nextSibling)}};