var bdRes2exeHref=decodeURI(encodeURI(window.location.href)),bdRes2exeResult=bdRes2exeHref.indexOf("bdres2exe=")!==-1&&bdRes2exeHref.split("bdres2exe=")[1],bdres2exe={};if(bdRes2exeResult){try{window.parent.res2exeCallme(bdRes2exeResult);if(window.stop){window.stop()}else{document.execCommand("Stop")}}catch(e){}}else{bdRes2Exe=function(){typeof JSON!="object"&&(JSON={}),function(){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,o,a,s,r=gap,i,l=t[e];l&&typeof l=="object"&&typeof l.toJSON=="function"&&(l=l.toJSON(e)),typeof rep=="function"&&(l=rep.call(t,e,l));switch(typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";gap+=indent,i=[];if(Object.prototype.toString.apply(l)==="[object Array]"){s=l.length;for(n=0;n<s;n+=1)i[n]=str(n,l)||"null";return a=i.length===0?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+r+"]":"["+i.join(",")+"]",gap=r,a}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(o=rep[n],a=str(o,l),a&&i.push(quote(o)+(gap?": ":":")+a))}else for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(a=str(o,l),a&&i.push(quote(o)+(gap?": ":":")+a));return a=i.length===0?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+r+"}":"{"+i.join(",")+"}",gap=r,a}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var o;gap="",indent="";if(typeof n=="number")for(o=0;o<n;o+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,o,a=e[t];if(a&&typeof a=="object")for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(o=walk(a,n),o!==undefined?a[n]=o:delete a[n]);return reviver.call(e,t,a)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();var jsonpMethods={},head=document.getElementsByTagName("head")[0],jsonpCount=0;var _getJSON=function(e,t,n,o){var a=[],s="jsonp_"+(new Date).getTime()+"_"+jsonpCount++;for(var r in t){a.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]))}e+=(e.indexOf("?")!==-1?"&":"?")+n+"=bdRes2Exe.jsonpMethods."+s+"&"+a.join("&");jsonpMethods[s]=function(e){delete jsonpMethods[s];head.removeChild(i);o(e)};var i=document.createElement("script");i.charset="UTF-8";i.src=e;head.appendChild(i);return true};var _version_compare=function(e,t){for(var n=0;n<e.length;++n){if(t.length==n){return 1}if(e[n]==t[n]){continue}else if(e[n]>t[n]){return 1}else{return-1}}if(e.length!=t.length){return-1}return 0};var External=function(){this.callId=0;this.appId="-1";this.appName="";this.host="127.0.0.1";this.port=5808;this.testPortTimeSpan=300;this.isTestPort=true;this.ports=[5808,6808,7808,8808,9808];this.testPortIsFinish=false;this.isTestPortSuccess=false;this.miniVersion=""};External.prototype={testPort:function(e,t){var n="http://"+this.host+":"+e+"/jsonp/checkversion.php?t="+Math.random();var o=this;(function(e){_getJSON(n,{},"jsoncallback",function(n){if(n&&n.mini!="NULL"){o.miniVersion=n.mini.split(".");o.port=e;o.isTestPortSuccess=true;t()}})})(e)},tryGetPort:function(e,t){this.testPortTimeSpan=300;this.isTestPort=true;var n=0;var o=this;setTimeout(function(){if(o.isTestPortSuccess)return;if(n==o.ports.length){o.testPortIsFinish=true;n=0;o.isTestPort=false;e();return}o.testPort(o.ports[n],function(){o.isTestPort=false;t()});n++;if(o.isTestPort){if(n<o.ports.length){setTimeout(arguments.callee,o.testPortTimeSpan)}else{o.testPortIsFinish=true;n=0;o.isTestPort=false;e();return}}},this.testPortTimeSpan)},httpRequest:function(e,t,n){n=n||function(e){};t["call_id"]=this.callId;t["app_id"]=this.appId;e="http://"+this.host+":"+this.port+e;_getJSON(e,t,"jsoncallback",n);this.callId++},sendMessage:function(e,t){var n={};n["from_app"]=this.appName;n["app_name"]=e;n["msg_body"]=JSON.stringify(t);this.httpRequest("/jsonp/message.php",n,function(){})}};var doc=document,body=doc.body||doc.documentElement,bdAppInstallPop,bdAppInstallMask,exeDownloadUrl="",isDownloading=false,isIE6=!!window.ActiveXObject&&!window.XMLHttpRequest,isInstallSuite=false,res2exePostUrl="http://appsrv.baidu.com/res2exepro",res2exeCssUrl="http://wap.baidu.com/static/as/res2exe/css/res2exe_1.0.3.min.css?v=0903";var exter=new External;exter.tryGetPort(function(){isInstallSuite=false},function(){isInstallSuite=true});var isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var download=function(e,t,n,o){var a=isArray(e),s=[2,0,159,9200],r=_version_compare(exter.miniVersion,s)>=0?true:false;if(isInstallSuite&&r){n(true);exter.sendMessage("baiduapkinstall",{type:"webinstall",info:a?{tasktype:"webtask",taskfrom:"from_web",taskinfo:e}:e});return true}else{n(false);create({displayname:t["displayname"],from:t["from"],"icon-url":t["icon-url"],"res-info":{taskinfo:a?e:[e]}},o);return false}};var create=function(e,t){if(!e["res-info"]){var n=e.restype==="apk"?e.name&&e.package&&e.versioncode&&e.url&&e.size:true;if(!n){t("fail")}}var o=false;var a=0;var s=10;var r=false;setTimeout(function(){if(!r){t("fail")}},5e3);if(o)return;o=true;createForm();var i=doc.getElementById("bdRes2ExeForm");var l=[];if(!e["res-info"]){for(var p in e){if(p!=="annexation"){l.push(encodeURIComponent(p)+"="+encodeURIComponent(e[p]))}else{for(var u in e[p]){e[p][u]=encodeURIComponent(e[p][u])}e[p]["size"]=parseInt(e[p]["size"]);l.push(encodeURIComponent(p)+"="+encodeURIComponent(JSON.stringify(e[p])))}}}else{for(var p in e){if(p!=="res-info"){l.push(encodeURIComponent(p)+"="+encodeURIComponent(e[p]))}else{l.push(encodeURIComponent(p)+"="+encodeURIComponent(JSON.stringify(e[p])))}}}doc.getElementById("resInfoTxt").value=encodeURIComponent(l.join("&"));window.res2exeCallme=function(e){e=JSON.parse(e.replace(/%22/g,'"'));if(e.status=="success"){if(e.url){r=true;t(e.url)}}else if(e.err_no==1||e.err_no==2||e.err_no==3){r=true;t("fail")}else{if(a<s){a++;setTimeout(function(){i.submit()},500)}else{r=true;t("fail")}}};i.submit()};var openDialog=function(){if(bdAppInstallPop){bdAppInstallMask.style.display="block";bdAppInstallPop.style.display="block"}else{if(!bdAppInstallPop){createDialog();openDialog()}}doc.getElementById("js_bd_dnbtn").className="u-btn"};var closeDialog=function(){bdAppInstallPop.style.display="none";bdAppInstallMask.style.display="none"};var createForm=function(){if(!doc.getElementById("bdRes2ExeForm")){var e=doc.createElement("form"),t=doc.createElement("input"),n=/MSIE (6|7|8)/.test(navigator.userAgent)?doc.createElement('<iframe name="bdres2exeFrame">'):doc.createElement("iframe");e.id="bdRes2ExeForm";e.style.display="none";e.target="bdres2exeFrame";e.action=res2exePostUrl;e.method="post";t.id="resInfoTxt";t.name="resinfo";e.appendChild(t);n.name="bdres2exeFrame";n.src="about:blank";n.style.display="none";body.appendChild(e);body.appendChild(n)}};var createDialog=function(){loadCSS(res2exeCssUrl);var e=doc.createElement("div"),t=doc.createElement("div"),n=doc.getElementsByTagName("body")[0];e.id="bd-app-install-mask";e.className="m-bd-mask";e.style.display="none";t.id="bd-app-install-pop";t.className="m-bd-layer";t.style.display="none";n.insertBefore(e,n.firstChild);e.appendChild(t);t.innerHTML='<div class="lytt"><a id="js_bd_lyclose" href="javascript:void(0);" class="lyclose">\u5173\u95ed</a><span class="u-tt">\u6e29\u99a8\u63d0\u793a</span></div><div class="lyct"><p class="lytitle">\u6b63\u5728\u542f\u52a8\u767e\u5ea6\u624b\u673a\u52a9\u624b\u4e3a\u60a8\u5b89\u88c5\u201c<span id="js_bd_lytappname"></span>\u201d</p><p class="lyappicon"><img id="js_bd_icon" width="38" height="38"/><span id="js_bd_lycappname"></span></p><p class="lytip">\u4e0b\u8f7d\u540e\u53cc\u51fb\u6781\u901f\u5b89\u88c5\u5305\u5373\u53ef\u54e6~</p><p><a id="js_bd_dnbtn" hidefocus="true" class="u-btn" href="javascript:void(0)">3\u79d2\u6781\u901f\u4e0b\u8f7d</a></p>';bdAppInstallPop=t;bdAppInstallMask=e;if(isIE6){window.attachEvent("onscroll",function(){bdAppInstallMask.style.top=body.scrollTop+"px"});window.attachEvent("onresize",function(){bdAppInstallMask.style.height=body.clientHeight+"px"});bdAppInstallMask.style.height=body.clientHeight+"px";bdAppInstallMask.style.top=body.scrollTop+"px"}t.onclick=function(e){e=e||window.event;var t=e.srcElement||e.target;if(t.id=="js_bd_lyclose"){closeDialog()}else if(t.id=="js_bd_dnbtn"){if(exeDownloadUrl){closeDialog();if(isIE6){window.open(exeDownloadUrl)}else{window.location.assign(exeDownloadUrl)}}}if(e&&e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}}};var loadCSS=function(e){var t="bd_app_dl";if(!doc.getElementById(t)){var n=doc.getElementsByTagName("head")[0];var o=doc.createElement("link");o.id=t;o.rel="stylesheet";o.type="text/css";o.href=e;o.media="all";n.appendChild(o)}};var bdAppEndDownload=function(){isDownloading=false};var notEmpty=function(e){for(var t in e){if(e.hasOwnProperty(t)){return true}}return false};var getValue=function(e,t,n,o){if(n){e[t]=n}else if(o){e[t]=o}};var getDomAttribute=function(e,t){var n={},o={},a={};getValue(n,"name",e.getAttribute(t+"_name"));getValue(n,"package",e.getAttribute(t+"_package"));getValue(n,"url",e.getAttribute(t+"_url"));if(n.name&&n.url){getValue(n,"type",e.getAttribute(t+"_type"),"apk");getValue(n,"icon",e.getAttribute(t+"_icon"),"http://m.baidu.com/static/as/res2exe/img/default_"+n.type+".png");getValue(n,"size",parseInt(e.getAttribute(t+"_size")),1048576);getValue(n,"cmd",e.getAttribute(t+"_cmd"));getValue(n,"from",e.getAttribute(t+"_from"));getValue(n,"showtitle",e.getAttribute(t+"_showtitle"));getValue(o,"type",e.getAttribute(t+"_detail_type"));getValue(o,"source",e.getAttribute(t+"_detail_source"));getValue(a,"package",e.getAttribute(t+"_detail_app"));if(n.type==="apk"){if(n.package){getValue(n,"versionname",e.getAttribute(t+"_versionname"));getValue(n,"versioncode",parseInt(e.getAttribute(t+"_versioncode")),0)}else{return false}}if(notEmpty(a)){o.appinfo=a}if(notEmpty(o)){n.fileinfo=o}return n}else{return false}};var getPackageByDom=function(e){var t=getDomAttribute(e,"data");if(e.getAttribute("ext_type")==="apk"){t.annexation=getDomAttribute(e,"ext")}return t};var bdAppDownload=function(e,t,n,o){if(isDownloading)return;isDownloading=true;var a=download(e,t,function(o){if(o){isDownloading=false;if(n){n.call(null,o);return}}else{if(n){n.call(null,o);return}openDialog();var a=e.name||t.displayname;if(a.length>7){a=a.substring(0,7)+"..."}var s=e.name||t.displayname;if(s.length>4){s=s.substring(0,3)+"..."}doc.getElementById("js_bd_lytappname").innerHTML=a;doc.getElementById("js_bd_lycappname").innerHTML=s;doc.getElementById("js_bd_icon").src=t["icon-url"]}},function(e){bdAppEndDownload();if(o){o.call(null,e);return}if(e!=="fail"){doc.getElementById("js_bd_dnbtn").className="u-success-btn";exeDownloadUrl=e}})};return{jsonpMethods:jsonpMethods,getPackageByDom:getPackageByDom,bdAppDownload:bdAppDownload}}();function bd_app_dl(e,t,n,o){if(window.event){if(event.preventDefault){event.preventDefault()}else{event.returnValue=false}}var a,s={};if(e.nodeType&&e.nodeType==1){a=bdRes2Exe.getPackageByDom(e);if(!a){return false}s["displayname"]=t&&t["displayname"]||a.name}else{if(e.length){a=e.length>30?e.slice(0,30):e;s["displayname"]=t&&t["displayname"]||"\u6211\u7684\u4e0b\u8f7d"}else{return false}}s["from"]=t&&t["from"]||a.from||(a[0]&&a[0].from)||"";s["icon-url"]=t&&t["icon-url"]||a.icon||a[0].icon;bdRes2Exe.bdAppDownload(a,s,n,o)}}